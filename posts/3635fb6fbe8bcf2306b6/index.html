<!DOCTYPE html><html lang="en"><head><meta name="generator" content="React Static"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><link rel="preload" as="script" href="/templates/styles.3e63450d.js"/><link rel="preload" as="script" href="/templates/vendors~main.991a9778.js"/><link rel="preload" as="script" href="/main.e4c894d8.js"/><link rel="preload" as="style" href="/styles.642cfcb4.css"/><link rel="stylesheet" href="/styles.642cfcb4.css"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png"/><link rel="manifest" href="/manifest.json"/><meta name="mobile-web-app-capable" content="yes"/><meta name="theme-color" content="#fff"/><meta name="application-name"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="167x167" href="/apple-touch-icon-167x167.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/apple-touch-icon-1024x1024.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="apple-mobile-web-app-title"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-640x1136.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-750x1334.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-828x1792.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1125x2436.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2208.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2688.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1536x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2224.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2388.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-2048x2732.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1620x2160.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1136x640.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1334x750.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1792x828.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2436x1125.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2208x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2688x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2048x1536.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2224x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2388x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2732x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2160x1620.png"/><link rel="icon" type="image/png" sizes="228x228" href="/coast-228x228.png"/><meta name="msapplication-TileColor" content="#fff"/><meta name="msapplication-TileImage" content="/mstile-144x144.png"/><meta name="msapplication-config" content="/browserconfig.xml"/><link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json"/></head><body><div id="root"><div style="outline:none" tabindex="-1"><nav class="navbar is-dark is-fixed-top" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item" href="/">Home</a><a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div><div id="navbarBasicExample" class="navbar-menu "><div class="navbar-start"><a class="navbar-item" href="/posts">Posts</a><a class="navbar-item" href="/events">Events</a><a class="navbar-item" href="/github">GitHub</a></div></div></div></nav><div class="container"><div class="is-primary" style="padding:4.5rem 0.5rem"><div style="outline:none" tabindex="-1"><div><a href="/posts">&lt;<!-- --> Back</a><br/><h3>M1MacでCircleCIのローカルビルド失敗する</h3><article class="md-body"><h1 data-sourcepos="2:1-2:33">
<span id="ローカル環境で-circleci" class="fragment"></span><a href="#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%A7-circleci"><i class="fa fa-link"></i></a>ローカル環境で .circleci</h1>
<p data-sourcepos="4:1-5:63">このホームページみたらインストールできる<br>
<a href="https://circleci.com/docs/ja/how-to-use-the-circleci-local-cli/" class="autolink" rel="nofollow noopener" target="_blank">https://circleci.com/docs/ja/how-to-use-the-circleci-local-cli/</a></p>
<h2 data-sourcepos="7:1-7:12">
<span id="ビルド" class="fragment"></span><a href="#%E3%83%93%E3%83%AB%E3%83%89"><i class="fa fa-link"></i></a>ビルド</h2>
<h2 data-sourcepos="8:1-8:30">
<span id="コンフィグチェック" class="fragment"></span><a href="#%E3%82%B3%E3%83%B3%E3%83%95%E3%82%A3%E3%82%B0%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF"><i class="fa fa-link"></i></a>コンフィグチェック</h2>
<div class="code-frame" data-lang="text" data-sourcepos="10:1-13:3"><div class="highlight"><pre><code>$ circleci config validate
Config file at .circleci/config.yml is valid.
</code></pre></div></div>
<p data-sourcepos="15:1-15:73">pushしてこんなメッセージを何度も見た方は朗報です。</p>
<p data-sourcepos="17:1-17:163"><a href="https://camo.qiitausercontent.com/2117dfc0025e25b02e90783ea3c630588c375b5c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f61616334376436392d303362392d656665632d386533312d6662393634616662393765362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Faac47d69-03b9-efec-8e31-fb964afb97e6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5ef325155d7a8444ef779b118a290d72" alt="スクリーンショット 2023-10-13 12.55.55.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/aac47d69-03b9-efec-8e31-fb964afb97e6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Faac47d69-03b9-efec-8e31-fb964afb97e6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8e34ddc1bfef1abf2b27e207ba637719 1x" loading="lazy"></a></p>
<p data-sourcepos="19:1-19:39">ローカルでエラーが出ます。</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="21:1-25:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span>circleci config validate
<span class="go">Error: config compilation contains errors: config compilation contains errors:
        - ERROR IN CONFIG FILE:
</span></code></pre></div></div>
<h1 data-sourcepos="28:1-28:17">
<span id="当該の問題" class="fragment"></span><a href="#%E5%BD%93%E8%A9%B2%E3%81%AE%E5%95%8F%E9%A1%8C"><i class="fa fa-link"></i></a>当該の問題</h1>
<p data-sourcepos="30:1-31:58">イシュー見る感じだと、ubuntuでもmacでも起こるっぽい？<br>
<a href="https://github.com/CircleCI-Public/circleci-cli/issues/716" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/CircleCI-Public/circleci-cli/issues/716</a></p>
<h2 data-sourcepos="33:1-33:24">
<span id="tmp読み込めない" class="fragment"></span><a href="#tmp%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%81%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>tmp読み込めない</h2>
<div class="code-frame" data-lang="terminal" data-sourcepos="35:1-42:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span>circleci <span class="nb">local </span>execute <span class="o">{</span>jobの名前<span class="o">}</span>
<span class="go">(中略)
docker: Error response from daemon: Mounts denied: 
The path /tmp/3945127950_circleci_config.yml is not shared from the host and is not known to Docker.
</span><span class="gp">You can configure shared paths from Docker -&gt;</span><span class="w"> </span>Preferences... -&gt; Resources -&gt; File Sharing.
<span class="go">See https://docs.docker.com/desktop/mac for more info.
</span></code></pre></div></div>
<p data-sourcepos="44:1-44:141">エラーメッセージ通りに、Dockerデスクトップの設定 Preferences -&gt; Resources -&gt; File Sharing で <code>/tmp/</code> を追加する。</p>
<p data-sourcepos="46:1-46:91"><code>/tmp/{数値}_circleci_config.yml</code> 数値は毎回変更されるので /tmp/ で設定。</p>
<h2 data-sourcepos="49:1-49:63">
<span id="ymlファイルがディレクトリとして認識される" class="fragment"></span><a href="#yml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8C%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%A8%E3%81%97%E3%81%A6%E8%AA%8D%E8%AD%98%E3%81%95%E3%82%8C%E3%82%8B"><i class="fa fa-link"></i></a>ymlファイルがディレクトリとして認識される</h2>
<div class="code-frame" data-lang="text" data-sourcepos="51:1-55:3"><div class="highlight"><pre><code>$ circleci local execute {jobの名前}
(中略)
Error: failed to start event processor: failed to compute task config: failed to read config file: read /tmp/local_build_config.yml: is a directory
</code></pre></div></div>
<h2 data-sourcepos="57:1-57:21">
<span id="原因と解決策" class="fragment"></span><a href="#%E5%8E%9F%E5%9B%A0%E3%81%A8%E8%A7%A3%E6%B1%BA%E7%AD%96"><i class="fa fa-link"></i></a>原因と解決策</h2>
<p data-sourcepos="59:1-59:280">イシューの最後にもかかれていますが /tmp というパスの競合でゴニョゴニョしてるみたいでした。<a href="https://github.com/CircleCI-Public/circleci-cli/pull/967" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/CircleCI-Public/circleci-cli/pull/967</a> のPRを待つか、このPRをローカルビルドすれば動くかなと思います。</p>
<blockquote data-sourcepos="61:1-67:84">
<p data-sourcepos="61:3-61:76">Thanks everyone for reporting this issue and contributing in the comments!</p>
<p data-sourcepos="63:3-63:242">The underlying problem comes from Lima not accepting /tmp as a mount for its VMs, as it considers it a "system path" similar to /etc or /usr.. Any container distribution using Lima will face this issue, including colima and Rancher Desktop.</p>
<p data-sourcepos="65:3-67:84">We're currently at work on this, and we seem to have found a solution in #967.<br>
We're still working on adding some tests and checks to make sure this is reliable and future-proof, and we'll release it as soon as we can.<br>
<a href="https://github.com/CircleCI-Public/circleci-cli/issues/716#issuecomment-1680680789" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/CircleCI-Public/circleci-cli/issues/716#issuecomment-1680680789</a></p>
</blockquote>
<p data-sourcepos="70:1-70:171">自分は一旦ローカルのconfigがバリデーションエラーでないかチェックするだけで充分だと思ったのでそれだけを使う予定です。</p>
</article></div></div></div></div><footer class="footer"><div class="content has-text-centered"><p>last uploaded at <!-- -->2023/12/11</p><p>© 2021 ykhirao</p></div></footer></div></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/src/components/QiitaPost\",\"sharedHashesByProp\":{},\"data\":{\"post\":{\"rendered_body\":\"<h1 data-sourcepos=\\\"2:1-2:33\\\">\\n<span id=\\\"\u30ED\u30FC\u30AB\u30EB\u74B0\u5883\u3067-circleci\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%A7-circleci\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30ED\u30FC\u30AB\u30EB\u74B0\u5883\u3067 .circleci</h1>\\n<p data-sourcepos=\\\"4:1-5:63\\\">\u3053\u306E\u30DB\u30FC\u30E0\u30DA\u30FC\u30B8\u307F\u305F\u3089\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3067\u304D\u308B<br>\\n<a href=\\\"https://circleci.com/docs/ja/how-to-use-the-circleci-local-cli/\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">https://circleci.com/docs/ja/how-to-use-the-circleci-local-cli/</a></p>\\n<h2 data-sourcepos=\\\"7:1-7:12\\\">\\n<span id=\\\"\u30D3\u30EB\u30C9\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%83%93%E3%83%AB%E3%83%89\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30D3\u30EB\u30C9</h2>\\n<h2 data-sourcepos=\\\"8:1-8:30\\\">\\n<span id=\\\"\u30B3\u30F3\u30D5\u30A3\u30B0\u30C1\u30A7\u30C3\u30AF\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%82%B3%E3%83%B3%E3%83%95%E3%82%A3%E3%82%B0%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30B3\u30F3\u30D5\u30A3\u30B0\u30C1\u30A7\u30C3\u30AF</h2>\\n<div class=\\\"code-frame\\\" data-lang=\\\"text\\\" data-sourcepos=\\\"10:1-13:3\\\"><div class=\\\"highlight\\\"><pre><code>$ circleci config validate\\nConfig file at .circleci/config.yml is valid.\\n</code></pre></div></div>\\n<p data-sourcepos=\\\"15:1-15:73\\\">push\u3057\u3066\u3053\u3093\u306A\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u4F55\u5EA6\u3082\u898B\u305F\u65B9\u306F\u6717\u5831\u3067\u3059\u3002</p>\\n<p data-sourcepos=\\\"17:1-17:163\\\"><a href=\\\"https://camo.qiitausercontent.com/2117dfc0025e25b02e90783ea3c630588c375b5c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f61616334376436392d303362392d656665632d386533312d6662393634616662393765362e706e67\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Faac47d69-03b9-efec-8e31-fb964afb97e6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5ef325155d7a8444ef779b118a290d72\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-10-13 12.55.55.png\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/aac47d69-03b9-efec-8e31-fb964afb97e6.png\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Faac47d69-03b9-efec-8e31-fb964afb97e6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8e34ddc1bfef1abf2b27e207ba637719 1x\\\" loading=\\\"lazy\\\"></a></p>\\n<p data-sourcepos=\\\"19:1-19:39\\\">\u30ED\u30FC\u30AB\u30EB\u3067\u30A8\u30E9\u30FC\u304C\u51FA\u307E\u3059\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"21:1-25:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>circleci config validate\\n<span class=\\\"go\\\">Error: config compilation contains errors: config compilation contains errors:\\n        - ERROR IN CONFIG FILE:\\n</span></code></pre></div></div>\\n<h1 data-sourcepos=\\\"28:1-28:17\\\">\\n<span id=\\\"\u5F53\u8A72\u306E\u554F\u984C\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E5%BD%93%E8%A9%B2%E3%81%AE%E5%95%8F%E9%A1%8C\\\"><i class=\\\"fa fa-link\\\"></i></a>\u5F53\u8A72\u306E\u554F\u984C</h1>\\n<p data-sourcepos=\\\"30:1-31:58\\\">\u30A4\u30B7\u30E5\u30FC\u898B\u308B\u611F\u3058\u3060\u3068\u3001ubuntu\u3067\u3082mac\u3067\u3082\u8D77\u3053\u308B\u3063\u307D\u3044\uFF1F<br>\\n<a href=\\\"https://github.com/CircleCI-Public/circleci-cli/issues/716\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">https://github.com/CircleCI-Public/circleci-cli/issues/716</a></p>\\n<h2 data-sourcepos=\\\"33:1-33:24\\\">\\n<span id=\\\"tmp\u8AAD\u307F\u8FBC\u3081\u306A\u3044\\\" class=\\\"fragment\\\"></span><a href=\\\"#tmp%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%81%E3%81%AA%E3%81%84\\\"><i class=\\\"fa fa-link\\\"></i></a>tmp\u8AAD\u307F\u8FBC\u3081\u306A\u3044</h2>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"35:1-42:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>circleci <span class=\\\"nb\\\">local </span>execute <span class=\\\"o\\\">{</span>job\u306E\u540D\u524D<span class=\\\"o\\\">}</span>\\n<span class=\\\"go\\\">(\u4E2D\u7565)\\ndocker: Error response from daemon: Mounts denied: \\nThe path /tmp/3945127950_circleci_config.yml is not shared from the host and is not known to Docker.\\n</span><span class=\\\"gp\\\">You can configure shared paths from Docker -&gt;</span><span class=\\\"w\\\"> </span>Preferences... -&gt; Resources -&gt; File Sharing.\\n<span class=\\\"go\\\">See https://docs.docker.com/desktop/mac for more info.\\n</span></code></pre></div></div>\\n<p data-sourcepos=\\\"44:1-44:141\\\">\u30A8\u30E9\u30FC\u30E1\u30C3\u30BB\u30FC\u30B8\u901A\u308A\u306B\u3001Docker\u30C7\u30B9\u30AF\u30C8\u30C3\u30D7\u306E\u8A2D\u5B9A Preferences -&gt; Resources -&gt; File Sharing \u3067 <code>/tmp/</code> \u3092\u8FFD\u52A0\u3059\u308B\u3002</p>\\n<p data-sourcepos=\\\"46:1-46:91\\\"><code>/tmp/{\u6570\u5024}_circleci_config.yml</code> \u6570\u5024\u306F\u6BCE\u56DE\u5909\u66F4\u3055\u308C\u308B\u306E\u3067 /tmp/ \u3067\u8A2D\u5B9A\u3002</p>\\n<h2 data-sourcepos=\\\"49:1-49:63\\\">\\n<span id=\\\"yml\u30D5\u30A1\u30A4\u30EB\u304C\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3068\u3057\u3066\u8A8D\u8B58\u3055\u308C\u308B\\\" class=\\\"fragment\\\"></span><a href=\\\"#yml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8C%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%A8%E3%81%97%E3%81%A6%E8%AA%8D%E8%AD%98%E3%81%95%E3%82%8C%E3%82%8B\\\"><i class=\\\"fa fa-link\\\"></i></a>yml\u30D5\u30A1\u30A4\u30EB\u304C\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3068\u3057\u3066\u8A8D\u8B58\u3055\u308C\u308B</h2>\\n<div class=\\\"code-frame\\\" data-lang=\\\"text\\\" data-sourcepos=\\\"51:1-55:3\\\"><div class=\\\"highlight\\\"><pre><code>$ circleci local execute {job\u306E\u540D\u524D}\\n(\u4E2D\u7565)\\nError: failed to start event processor: failed to compute task config: failed to read config file: read /tmp/local_build_config.yml: is a directory\\n</code></pre></div></div>\\n<h2 data-sourcepos=\\\"57:1-57:21\\\">\\n<span id=\\\"\u539F\u56E0\u3068\u89E3\u6C7A\u7B56\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E5%8E%9F%E5%9B%A0%E3%81%A8%E8%A7%A3%E6%B1%BA%E7%AD%96\\\"><i class=\\\"fa fa-link\\\"></i></a>\u539F\u56E0\u3068\u89E3\u6C7A\u7B56</h2>\\n<p data-sourcepos=\\\"59:1-59:280\\\">\u30A4\u30B7\u30E5\u30FC\u306E\u6700\u5F8C\u306B\u3082\u304B\u304B\u308C\u3066\u3044\u307E\u3059\u304C /tmp \u3068\u3044\u3046\u30D1\u30B9\u306E\u7AF6\u5408\u3067\u30B4\u30CB\u30E7\u30B4\u30CB\u30E7\u3057\u3066\u308B\u307F\u305F\u3044\u3067\u3057\u305F\u3002<a href=\\\"https://github.com/CircleCI-Public/circleci-cli/pull/967\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">https://github.com/CircleCI-Public/circleci-cli/pull/967</a> \u306EPR\u3092\u5F85\u3064\u304B\u3001\u3053\u306EPR\u3092\u30ED\u30FC\u30AB\u30EB\u30D3\u30EB\u30C9\u3059\u308C\u3070\u52D5\u304F\u304B\u306A\u3068\u601D\u3044\u307E\u3059\u3002</p>\\n<blockquote data-sourcepos=\\\"61:1-67:84\\\">\\n<p data-sourcepos=\\\"61:3-61:76\\\">Thanks everyone for reporting this issue and contributing in the comments!</p>\\n<p data-sourcepos=\\\"63:3-63:242\\\">The underlying problem comes from Lima not accepting /tmp as a mount for its VMs, as it considers it a \\\"system path\\\" similar to /etc or /usr.. Any container distribution using Lima will face this issue, including colima and Rancher Desktop.</p>\\n<p data-sourcepos=\\\"65:3-67:84\\\">We're currently at work on this, and we seem to have found a solution in #967.<br>\\nWe're still working on adding some tests and checks to make sure this is reliable and future-proof, and we'll release it as soon as we can.<br>\\n<a href=\\\"https://github.com/CircleCI-Public/circleci-cli/issues/716#issuecomment-1680680789\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">https://github.com/CircleCI-Public/circleci-cli/issues/716#issuecomment-1680680789</a></p>\\n</blockquote>\\n<p data-sourcepos=\\\"70:1-70:171\\\">\u81EA\u5206\u306F\u4E00\u65E6\u30ED\u30FC\u30AB\u30EB\u306Econfig\u304C\u30D0\u30EA\u30C7\u30FC\u30B7\u30E7\u30F3\u30A8\u30E9\u30FC\u3067\u306A\u3044\u304B\u30C1\u30A7\u30C3\u30AF\u3059\u308B\u3060\u3051\u3067\u5145\u5206\u3060\u3068\u601D\u3063\u305F\u306E\u3067\u305D\u308C\u3060\u3051\u3092\u4F7F\u3046\u4E88\u5B9A\u3067\u3059\u3002</p>\\n\",\"body\":\"\\n# \u30ED\u30FC\u30AB\u30EB\u74B0\u5883\u3067 .circleci\\n\\n\u3053\u306E\u30DB\u30FC\u30E0\u30DA\u30FC\u30B8\u307F\u305F\u3089\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3067\u304D\u308B\\nhttps://circleci.com/docs/ja/how-to-use-the-circleci-local-cli/\\n\\n## \u30D3\u30EB\u30C9\\n## \u30B3\u30F3\u30D5\u30A3\u30B0\u30C1\u30A7\u30C3\u30AF\\n\\n```\\n$ circleci config validate\\nConfig file at .circleci/config.yml is valid.\\n```\\n\\npush\u3057\u3066\u3053\u3093\u306A\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u4F55\u5EA6\u3082\u898B\u305F\u65B9\u306F\u6717\u5831\u3067\u3059\u3002\\n\\n![\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-10-13 12.55.55.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/aac47d69-03b9-efec-8e31-fb964afb97e6.png)\\n\\n\u30ED\u30FC\u30AB\u30EB\u3067\u30A8\u30E9\u30FC\u304C\u51FA\u307E\u3059\u3002\\n\\n```terminal\\n$ circleci config validate\\nError: config compilation contains errors: config compilation contains errors:\\n        - ERROR IN CONFIG FILE:\\n```\\n\\n\\n# \u5F53\u8A72\u306E\u554F\u984C\\n\\n\u30A4\u30B7\u30E5\u30FC\u898B\u308B\u611F\u3058\u3060\u3068\u3001ubuntu\u3067\u3082mac\u3067\u3082\u8D77\u3053\u308B\u3063\u307D\u3044\uFF1F\\nhttps://github.com/CircleCI-Public/circleci-cli/issues/716\\n\\n## tmp\u8AAD\u307F\u8FBC\u3081\u306A\u3044\\n\\n```terminal\\n$ circleci local execute {job\u306E\u540D\u524D}\\n(\u4E2D\u7565)\\ndocker: Error response from daemon: Mounts denied: \\nThe path /tmp/3945127950_circleci_config.yml is not shared from the host and is not known to Docker.\\nYou can configure shared paths from Docker -> Preferences... -> Resources -> File Sharing.\\nSee https://docs.docker.com/desktop/mac for more info.\\n```\\n\\n\u30A8\u30E9\u30FC\u30E1\u30C3\u30BB\u30FC\u30B8\u901A\u308A\u306B\u3001Docker\u30C7\u30B9\u30AF\u30C8\u30C3\u30D7\u306E\u8A2D\u5B9A Preferences -> Resources -> File Sharing \u3067 `/tmp/` \u3092\u8FFD\u52A0\u3059\u308B\u3002\\n\\n`/tmp/{\u6570\u5024}_circleci_config.yml` \u6570\u5024\u306F\u6BCE\u56DE\u5909\u66F4\u3055\u308C\u308B\u306E\u3067 /tmp/ \u3067\u8A2D\u5B9A\u3002\\n\\n\\n## yml\u30D5\u30A1\u30A4\u30EB\u304C\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3068\u3057\u3066\u8A8D\u8B58\u3055\u308C\u308B\\n\\n```\\n$ circleci local execute {job\u306E\u540D\u524D}\\n(\u4E2D\u7565)\\nError: failed to start event processor: failed to compute task config: failed to read config file: read /tmp/local_build_config.yml: is a directory\\n```\\n\\n## \u539F\u56E0\u3068\u89E3\u6C7A\u7B56\\n\\n\u30A4\u30B7\u30E5\u30FC\u306E\u6700\u5F8C\u306B\u3082\u304B\u304B\u308C\u3066\u3044\u307E\u3059\u304C /tmp \u3068\u3044\u3046\u30D1\u30B9\u306E\u7AF6\u5408\u3067\u30B4\u30CB\u30E7\u30B4\u30CB\u30E7\u3057\u3066\u308B\u307F\u305F\u3044\u3067\u3057\u305F\u3002https://github.com/CircleCI-Public/circleci-cli/pull/967 \u306EPR\u3092\u5F85\u3064\u304B\u3001\u3053\u306EPR\u3092\u30ED\u30FC\u30AB\u30EB\u30D3\u30EB\u30C9\u3059\u308C\u3070\u52D5\u304F\u304B\u306A\u3068\u601D\u3044\u307E\u3059\u3002\\n\\n> Thanks everyone for reporting this issue and contributing in the comments!\\n> \\n> The underlying problem comes from Lima not accepting /tmp as a mount for its VMs, as it considers it a \\\"system path\\\" similar to /etc or /usr.. Any container distribution using Lima will face this issue, including colima and Rancher Desktop.\\n>\\n> We're currently at work on this, and we seem to have found a solution in #967.\\nWe're still working on adding some tests and checks to make sure this is reliable and future-proof, and we'll release it as soon as we can.\\n> https://github.com/CircleCI-Public/circleci-cli/issues/716#issuecomment-1680680789\\n\\n\\n\u81EA\u5206\u306F\u4E00\u65E6\u30ED\u30FC\u30AB\u30EB\u306Econfig\u304C\u30D0\u30EA\u30C7\u30FC\u30B7\u30E7\u30F3\u30A8\u30E9\u30FC\u3067\u306A\u3044\u304B\u30C1\u30A7\u30C3\u30AF\u3059\u308B\u3060\u3051\u3067\u5145\u5206\u3060\u3068\u601D\u3063\u305F\u306E\u3067\u305D\u308C\u3060\u3051\u3092\u4F7F\u3046\u4E88\u5B9A\u3067\u3059\u3002\\n\",\"coediting\":false,\"comments_count\":0,\"created_at\":\"2023-10-17T18:30:58+09:00\",\"group\":null,\"id\":\"3635fb6fbe8bcf2306b6\",\"likes_count\":1,\"private\":false,\"reactions_count\":0,\"stocks_count\":0,\"tags\":[{\"name\":\"Mac\",\"versions\":[]},{\"name\":\"Ubuntu\",\"versions\":[]},{\"name\":\"CircleCI\",\"versions\":[]}],\"title\":\"M1Mac\u3067CircleCI\u306E\u30ED\u30FC\u30AB\u30EB\u30D3\u30EB\u30C9\u5931\u6557\u3059\u308B\",\"updated_at\":\"2023-10-17T18:30:58+09:00\",\"url\":\"https://qiita.com/ykhirao/items/3635fb6fbe8bcf2306b6\",\"user\":{\"description\":\"Web Developer From 2016.\\r\\nPHP/Laravel && React/TypeScript/Node.js\\r\\n\\r\\n\u696D\u52D9\u59D4\u8A17\u306E\u4F9D\u983C\u3068\u304B\u306FWantedly\u3068\u304B\u304B\u3089\u3067\u304A\u9858\u3044\u3057\u307E\u3059\uFF01\",\"facebook_id\":\"\",\"followees_count\":39,\"followers_count\":100,\"github_login_name\":\"ykhirao\",\"id\":\"ykhirao\",\"items_count\":74,\"linkedin_id\":\"\",\"location\":\"Tokyo, Japan\",\"name\":\"yk\",\"organization\":\"\",\"permanent_id\":112929,\"profile_image_url\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/profile-images/1639030792\",\"team_only\":false,\"twitter_screen_name\":\"ykhirao\",\"website_url\":\"https://www.wantedly.com/id/ykhirao\"},\"page_views_count\":null,\"team_membership\":null,\"organization_url_name\":null,\"slide\":false}},\"path\":\"posts/3635fb6fbe8bcf2306b6\",\"sharedData\":{},\"siteData\":{\"updatedAt\":\"2023/12/11\"}}");</script><script defer="" type="text/javascript" src="/templates/styles.3e63450d.js"></script><script defer="" type="text/javascript" src="/templates/vendors~main.991a9778.js"></script><script defer="" type="text/javascript" src="/main.e4c894d8.js"></script></body></html>