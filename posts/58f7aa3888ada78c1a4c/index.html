<!DOCTYPE html><html lang="en"><head><meta name="generator" content="React Static"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><link rel="preload" as="script" href="/templates/styles.3e4f9072.js"/><link rel="preload" as="script" href="/templates/vendors~main.867a25a5.js"/><link rel="preload" as="script" href="/main.80784f3b.js"/><link rel="preload" as="style" href="/styles.642cfcb4.css"/><link rel="stylesheet" href="/styles.642cfcb4.css"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png"/><link rel="manifest" href="/manifest.json"/><meta name="mobile-web-app-capable" content="yes"/><meta name="theme-color" content="#fff"/><meta name="application-name"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="167x167" href="/apple-touch-icon-167x167.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/apple-touch-icon-1024x1024.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="apple-mobile-web-app-title"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-640x1136.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-750x1334.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-828x1792.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1125x2436.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2208.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2688.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1536x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2224.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2388.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-2048x2732.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1620x2160.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1136x640.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1334x750.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1792x828.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2436x1125.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2208x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2688x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2048x1536.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2224x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2388x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2732x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2160x1620.png"/><link rel="icon" type="image/png" sizes="228x228" href="/coast-228x228.png"/><meta name="msapplication-TileColor" content="#fff"/><meta name="msapplication-TileImage" content="/mstile-144x144.png"/><meta name="msapplication-config" content="/browserconfig.xml"/><link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json"/></head><body><div id="root"><div style="outline:none" tabindex="-1"><nav class="navbar is-dark is-fixed-top" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item" href="/">Home</a><a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div><div id="navbarBasicExample" class="navbar-menu "><div class="navbar-start"><a class="navbar-item" href="/posts">Posts</a><a class="navbar-item" href="/events">Events</a><a class="navbar-item" href="/github">GitHub</a></div></div></div></nav><div class="container"><div class="is-primary" style="padding:4.5rem 0.5rem"><div style="outline:none" tabindex="-1"><div><a href="/posts">&lt;<!-- --> Back</a><br/><h3>画像から日本の伝統色を取り出してみるライブラリ作った</h3><article class="md-body">
<h1>
<span id="画像から日本の伝統色を取り出してみる" class="fragment"></span><a href="#%E7%94%BB%E5%83%8F%E3%81%8B%E3%82%89%E6%97%A5%E6%9C%AC%E3%81%AE%E4%BC%9D%E7%B5%B1%E8%89%B2%E3%82%92%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>画像から日本の伝統色を取り出してみる</h1>

<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<p>こんにちわ、僕です。</p>

<p>今回は画像の中で専有している色を取り出す既存の <code>rgbaster.js</code> と、今回自分が作った <code>traditionalColors.js</code> を組み合わせてWebアプリを作ってみます。</p>

<h2>
<span id="成果物" class="fragment"></span><a href="#%E6%88%90%E6%9E%9C%E7%89%A9"><i class="fa fa-link"></i></a>成果物</h2>

<p>イメージは以下にスクリーンショットを貼り付けましたが、画像の中の専有している色に近い「日本の伝統色」を返すという感じのWebアプリです。</p>

<p><a href="https://camo.qiitausercontent.com/c9443d17f82b3e0d7ba9e172596f758be3c38ef0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131323932392f65376230336633322d623739642d363762362d646530352d6130643933656335636531322e6a706567" target="_blank" rel="nofollow noopener"><img width="1188" alt="スクリーンショット 2018-05-25 23.02.17.jpg" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2Fe7b03f32-b79d-67b6-de05-a0d93ec5ce12.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=426f11cc660079fff8500c65b1fe46f6" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/112929/e7b03f32-b79d-67b6-de05-a0d93ec5ce12.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2Fe7b03f32-b79d-67b6-de05-a0d93ec5ce12.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8ac1a5ed6d35d95c998610eda7431794 1x" loading="lazy"></a></p>

<p>実際に動作する環境はこちらの<a href="https://ykhirao.github.io/traditional-color/" rel="nofollow noopener" target="_blank">GitHub.io</a>からどうぞ！！</p>

<p>「ファイルを選択」をクリックして適当な画像をブラウザにあげてみてください。そうするとJS/Canvasがごりごり動き出して色を判定してくれるはずです。</p>

<h2>
<span id="成果物2" class="fragment"></span><a href="#%E6%88%90%E6%9E%9C%E7%89%A92"><i class="fa fa-link"></i></a>成果物2</h2>

<p>イメージは以下にスクリーンショットを貼り付けましたがカラーピッカーを立ち上げて色を入力すると伝統色を返すWebアプリです。どうぞ遊んでみてください。 <a href="https://ykhirao.github.io/traditional-color/src/index.html" rel="nofollow noopener" target="_blank">GitHub.io</a> クリックできるのは上のほうのカラーピッカーだけです！</p>

<p><a href="https://camo.qiitausercontent.com/7f666dd8bafaf5c952df14be3c00c5b9e54a3e3b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131323932392f64313666323437342d383963662d333562302d666339652d3230646335393362386437322e6a706567" target="_blank" rel="nofollow noopener"><img width="681" alt="スクリーンショット 2018-05-26 0.20.00.jpg" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2Fd16f2474-89cf-35b0-fc9e-20dc593b8d72.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bc5b297633926bf04df246ef2c007c4a" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/112929/d16f2474-89cf-35b0-fc9e-20dc593b8d72.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2Fd16f2474-89cf-35b0-fc9e-20dc593b8d72.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2d8c2343a16ba5a71a4b39ef0120d3fa 1x" loading="lazy"></a></p>

<h2>
<span id="コード的な話" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E7%9A%84%E3%81%AA%E8%A9%B1"><i class="fa fa-link"></i></a>コード的な話</h2>

<p>コードは <a href="https://github.com/ykhirao/traditional-color/" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/ykhirao/traditional-color/</a> です。</p>

<div class="code-frame" data-lang="javascript">
<div class="code-lang"><span class="bold">traditionalColor.js</span></div>
<div class="highlight"><pre><code>
<span class="p">;(</span><span class="kd">function</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">){</span>
  <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

  <span class="kd">class</span> <span class="nx">TraditionalColors</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">TraditionalColors is roaded !!!</span><span class="dl">"</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">colors</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">// 本当はここに伝統色のJSONが入っている</span>
    <span class="p">}</span>

    <span class="nx">distance3D</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">((</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">((</span><span class="nx">a</span><span class="p">.</span><span class="nx">r</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">((</span><span class="nx">a</span><span class="p">.</span><span class="nx">g</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">g</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">((</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">b</span><span class="p">),</span> <span class="mi">2</span><span class="p">)));</span>
    <span class="p">}</span>

    <span class="nx">regExpToRgb</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">decimal</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">r</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">result</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">decimal</span><span class="p">)</span>
      <span class="kd">const</span> <span class="nx">g</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">result</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nx">decimal</span><span class="p">)</span>
      <span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">result</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nx">decimal</span><span class="p">)</span>
      <span class="k">return</span> <span class="p">{</span><span class="nx">r</span><span class="p">,</span> <span class="nx">g</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">rgbStrToObj</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// from text "rgb(4,8,16)" to obj { r: 4, g: 8, a:16 }</span>
      <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="sr">/</span><span class="se">([</span><span class="sr">0-9</span><span class="se">]{1,3})</span><span class="sr">,</span><span class="se">([</span><span class="sr">0-9</span><span class="se">]{1,3})</span><span class="sr">,</span><span class="se">([</span><span class="sr">0-9</span><span class="se">]{1,3})</span><span class="sr">/i</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">result</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">regExpToRgb</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">:</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">hexToRgbObj</span><span class="p">(</span><span class="nx">str</span><span class="p">){</span>
      <span class="c1">// "#1234aa" to { r: 12, g: 34, a: aa }</span>
      <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="sr">/</span><span class="se">([</span><span class="sr">a-zA-Z0-9</span><span class="se">]{2})([</span><span class="sr">a-zA-Z0-9</span><span class="se">]{2})([</span><span class="sr">a-zA-Z0-9</span><span class="se">]{2})</span><span class="sr">/i</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">result</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">regExpToRgb</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="p">:</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">getNearColor</span><span class="p">(</span><span class="nx">rgb</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">approximationIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">minDiff</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">distance3D</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">rgb</span><span class="p">,</span> <span class="nx">rgb</span><span class="p">)),</span>
        <span class="nx">diff</span><span class="p">;</span>

      <span class="k">while</span> <span class="p">(</span><span class="o">++</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">colors</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">diff</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">distance3D</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">colors</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">rgb</span><span class="p">,</span> <span class="nx">rgb</span><span class="p">));</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">diff</span> <span class="o">&lt;</span> <span class="nx">minDiff</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">minDiff</span> <span class="o">=</span> <span class="nx">diff</span><span class="p">;</span>
          <span class="nx">approximationIndex</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">colors</span><span class="p">[</span><span class="nx">approximationIndex</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nb">window</span><span class="p">.</span><span class="nx">TraditionalColors</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">TraditionalColors</span> <span class="o">||</span> <span class="nx">TraditionalColors</span><span class="p">;</span>
<span class="p">})(</span><span class="nb">window</span><span class="p">);</span>
</code></pre></div>
</div>

<p>以上がtraditionalColors.jsですが、見てわかるように大したことはしていません。すべての伝統色との距離測って近いのを返却しているだけです。</p>

<p>使い方は</p>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">index.html</span></div>
<div class="highlight"><pre><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./traditionalColors.js"</span><span class="nt">&gt;&lt;/script&gt;</span> |
<span class="nt">&lt;script&gt;</span>
  <span class="kd">const</span> <span class="nx">tc</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">window</span><span class="p">.</span><span class="nx">TraditionalColors</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tc</span><span class="p">.</span><span class="nx">getNearColor</span><span class="p">({</span><span class="na">r</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="na">g</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="mi">243</span><span class="p">}))</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
</div>

<p>的な感じで、インスタンス変数を作ってメソッドを呼びせばいろいろ使えます。さくっと簡単なお遊びで作ったのですが、写真が趣味な人からすると結構楽しかったりします。</p>

<h2>
<span id="終わりに" class="fragment"></span><a href="#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB"><i class="fa fa-link"></i></a>終わりに</h2>

<p>rgbaster.js のソースコードを読むのは簡単でしたのでぜひ読んでみるといいかと思います。canvasの使い方も学べました。</p>

<h2>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h2>

<p><a href="http://liginc.co.jp/web/js/other-js/130257" rel="nofollow noopener" target="_blank">rgbaster.jsを使って画像の色を抽出してみよう | 株式会社LIG</a></p>
</article></div></div></div></div><footer class="footer"><div class="content has-text-centered"><p>This web site was created by ykhirao using react-static. <a href="https://github.com/ykhirao/ykhirao.github.io" target="_blank" rel="noopener noreferrer">Here</a> <!-- -->is the link to the GitHub repository</p><p>&amp; last uploaded at <!-- -->2023/04/24</p><p>© 2021 ykhirao</p></div></footer></div></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/src/components/QiitaPost\",\"sharedHashesByProp\":{},\"data\":{\"post\":{\"rendered_body\":\"\\n<h1>\\n<span id=\\\"\u753B\u50CF\u304B\u3089\u65E5\u672C\u306E\u4F1D\u7D71\u8272\u3092\u53D6\u308A\u51FA\u3057\u3066\u307F\u308B\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E7%94%BB%E5%83%8F%E3%81%8B%E3%82%89%E6%97%A5%E6%9C%AC%E3%81%AE%E4%BC%9D%E7%B5%B1%E8%89%B2%E3%82%92%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\\\"><i class=\\\"fa fa-link\\\"></i></a>\u753B\u50CF\u304B\u3089\u65E5\u672C\u306E\u4F1D\u7D71\u8272\u3092\u53D6\u308A\u51FA\u3057\u3066\u307F\u308B</h1>\\n\\n<h2>\\n<span id=\\\"\u306F\u3058\u3081\u306B\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\\\"><i class=\\\"fa fa-link\\\"></i></a>\u306F\u3058\u3081\u306B</h2>\\n\\n<p>\u3053\u3093\u306B\u3061\u308F\u3001\u50D5\u3067\u3059\u3002</p>\\n\\n<p>\u4ECA\u56DE\u306F\u753B\u50CF\u306E\u4E2D\u3067\u5C02\u6709\u3057\u3066\u3044\u308B\u8272\u3092\u53D6\u308A\u51FA\u3059\u65E2\u5B58\u306E <code>rgbaster.js</code> \u3068\u3001\u4ECA\u56DE\u81EA\u5206\u304C\u4F5C\u3063\u305F <code>traditionalColors.js</code> \u3092\u7D44\u307F\u5408\u308F\u305B\u3066Web\u30A2\u30D7\u30EA\u3092\u4F5C\u3063\u3066\u307F\u307E\u3059\u3002</p>\\n\\n<h2>\\n<span id=\\\"\u6210\u679C\u7269\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E6%88%90%E6%9E%9C%E7%89%A9\\\"><i class=\\\"fa fa-link\\\"></i></a>\u6210\u679C\u7269</h2>\\n\\n<p>\u30A4\u30E1\u30FC\u30B8\u306F\u4EE5\u4E0B\u306B\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8\u3092\u8CBC\u308A\u4ED8\u3051\u307E\u3057\u305F\u304C\u3001\u753B\u50CF\u306E\u4E2D\u306E\u5C02\u6709\u3057\u3066\u3044\u308B\u8272\u306B\u8FD1\u3044\u300C\u65E5\u672C\u306E\u4F1D\u7D71\u8272\u300D\u3092\u8FD4\u3059\u3068\u3044\u3046\u611F\u3058\u306EWeb\u30A2\u30D7\u30EA\u3067\u3059\u3002</p>\\n\\n<p><a href=\\\"https://camo.qiitausercontent.com/c9443d17f82b3e0d7ba9e172596f758be3c38ef0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131323932392f65376230336633322d623739642d363762362d646530352d6130643933656335636531322e6a706567\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img width=\\\"1188\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2018-05-25 23.02.17.jpg\\\" src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2Fe7b03f32-b79d-67b6-de05-a0d93ec5ce12.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=426f11cc660079fff8500c65b1fe46f6\\\" data-canonical-src=\\\"https://qiita-image-store.s3.amazonaws.com/0/112929/e7b03f32-b79d-67b6-de05-a0d93ec5ce12.jpeg\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2Fe7b03f32-b79d-67b6-de05-a0d93ec5ce12.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8ac1a5ed6d35d95c998610eda7431794 1x\\\" loading=\\\"lazy\\\"></a></p>\\n\\n<p>\u5B9F\u969B\u306B\u52D5\u4F5C\u3059\u308B\u74B0\u5883\u306F\u3053\u3061\u3089\u306E<a href=\\\"https://ykhirao.github.io/traditional-color/\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">GitHub.io</a>\u304B\u3089\u3069\u3046\u305E\uFF01\uFF01</p>\\n\\n<p>\u300C\u30D5\u30A1\u30A4\u30EB\u3092\u9078\u629E\u300D\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u9069\u5F53\u306A\u753B\u50CF\u3092\u30D6\u30E9\u30A6\u30B6\u306B\u3042\u3052\u3066\u307F\u3066\u304F\u3060\u3055\u3044\u3002\u305D\u3046\u3059\u308B\u3068JS/Canvas\u304C\u3054\u308A\u3054\u308A\u52D5\u304D\u51FA\u3057\u3066\u8272\u3092\u5224\u5B9A\u3057\u3066\u304F\u308C\u308B\u306F\u305A\u3067\u3059\u3002</p>\\n\\n<h2>\\n<span id=\\\"\u6210\u679C\u72692\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E6%88%90%E6%9E%9C%E7%89%A92\\\"><i class=\\\"fa fa-link\\\"></i></a>\u6210\u679C\u72692</h2>\\n\\n<p>\u30A4\u30E1\u30FC\u30B8\u306F\u4EE5\u4E0B\u306B\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8\u3092\u8CBC\u308A\u4ED8\u3051\u307E\u3057\u305F\u304C\u30AB\u30E9\u30FC\u30D4\u30C3\u30AB\u30FC\u3092\u7ACB\u3061\u4E0A\u3052\u3066\u8272\u3092\u5165\u529B\u3059\u308B\u3068\u4F1D\u7D71\u8272\u3092\u8FD4\u3059Web\u30A2\u30D7\u30EA\u3067\u3059\u3002\u3069\u3046\u305E\u904A\u3093\u3067\u307F\u3066\u304F\u3060\u3055\u3044\u3002 <a href=\\\"https://ykhirao.github.io/traditional-color/src/index.html\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">GitHub.io</a> \u30AF\u30EA\u30C3\u30AF\u3067\u304D\u308B\u306E\u306F\u4E0A\u306E\u307B\u3046\u306E\u30AB\u30E9\u30FC\u30D4\u30C3\u30AB\u30FC\u3060\u3051\u3067\u3059\uFF01</p>\\n\\n<p><a href=\\\"https://camo.qiitausercontent.com/7f666dd8bafaf5c952df14be3c00c5b9e54a3e3b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131323932392f64313666323437342d383963662d333562302d666339652d3230646335393362386437322e6a706567\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img width=\\\"681\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2018-05-26 0.20.00.jpg\\\" src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2Fd16f2474-89cf-35b0-fc9e-20dc593b8d72.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bc5b297633926bf04df246ef2c007c4a\\\" data-canonical-src=\\\"https://qiita-image-store.s3.amazonaws.com/0/112929/d16f2474-89cf-35b0-fc9e-20dc593b8d72.jpeg\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2Fd16f2474-89cf-35b0-fc9e-20dc593b8d72.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2d8c2343a16ba5a71a4b39ef0120d3fa 1x\\\" loading=\\\"lazy\\\"></a></p>\\n\\n<h2>\\n<span id=\\\"\u30B3\u30FC\u30C9\u7684\u306A\u8A71\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%82%B3%E3%83%BC%E3%83%89%E7%9A%84%E3%81%AA%E8%A9%B1\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30B3\u30FC\u30C9\u7684\u306A\u8A71</h2>\\n\\n<p>\u30B3\u30FC\u30C9\u306F <a href=\\\"https://github.com/ykhirao/traditional-color/\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">https://github.com/ykhirao/traditional-color/</a> \u3067\u3059\u3002</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"javascript\\\">\\n<div class=\\\"code-lang\\\"><span class=\\\"bold\\\">traditionalColor.js</span></div>\\n<div class=\\\"highlight\\\"><pre><code>\\n<span class=\\\"p\\\">;(</span><span class=\\\"kd\\\">function</span><span class=\\\"p\\\">(</span><span class=\\\"nb\\\">window</span><span class=\\\"p\\\">,</span> <span class=\\\"kc\\\">undefined</span><span class=\\\"p\\\">){</span>\\n  <span class=\\\"dl\\\">\\\"</span><span class=\\\"s2\\\">use strict</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"p\\\">;</span>\\n\\n  <span class=\\\"kd\\\">class</span> <span class=\\\"nx\\\">TraditionalColors</span> <span class=\\\"p\\\">{</span>\\n    <span class=\\\"kd\\\">constructor</span><span class=\\\"p\\\">()</span> <span class=\\\"p\\\">{</span>\\n      <span class=\\\"nx\\\">console</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">log</span><span class=\\\"p\\\">(</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"s2\\\">TraditionalColors is roaded !!!</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"p\\\">);</span>\\n      <span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">colors</span> <span class=\\\"o\\\">=</span> <span class=\\\"p\\\">[]</span> <span class=\\\"c1\\\">// \u672C\u5F53\u306F\u3053\u3053\u306B\u4F1D\u7D71\u8272\u306EJSON\u304C\u5165\u3063\u3066\u3044\u308B</span>\\n    <span class=\\\"p\\\">}</span>\\n\\n    <span class=\\\"nx\\\">distance3D</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">a</span><span class=\\\"p\\\">,</span> <span class=\\\"nx\\\">b</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">{</span>\\n      <span class=\\\"k\\\">return</span> <span class=\\\"nb\\\">Math</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">sqrt</span><span class=\\\"p\\\">((</span><span class=\\\"nb\\\">Math</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">pow</span><span class=\\\"p\\\">((</span><span class=\\\"nx\\\">a</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">r</span> <span class=\\\"o\\\">-</span> <span class=\\\"nx\\\">b</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">r</span><span class=\\\"p\\\">),</span> <span class=\\\"mi\\\">2</span><span class=\\\"p\\\">)</span> <span class=\\\"o\\\">+</span> <span class=\\\"nb\\\">Math</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">pow</span><span class=\\\"p\\\">((</span><span class=\\\"nx\\\">a</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">g</span> <span class=\\\"o\\\">-</span> <span class=\\\"nx\\\">b</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">g</span><span class=\\\"p\\\">),</span> <span class=\\\"mi\\\">2</span><span class=\\\"p\\\">)</span> <span class=\\\"o\\\">+</span> <span class=\\\"nb\\\">Math</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">pow</span><span class=\\\"p\\\">((</span><span class=\\\"nx\\\">a</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">b</span> <span class=\\\"o\\\">-</span> <span class=\\\"nx\\\">b</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">b</span><span class=\\\"p\\\">),</span> <span class=\\\"mi\\\">2</span><span class=\\\"p\\\">)));</span>\\n    <span class=\\\"p\\\">}</span>\\n\\n    <span class=\\\"nx\\\">regExpToRgb</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">result</span><span class=\\\"p\\\">,</span> <span class=\\\"nx\\\">decimal</span><span class=\\\"o\\\">=</span><span class=\\\"mi\\\">10</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">{</span>\\n      <span class=\\\"kd\\\">const</span> <span class=\\\"nx\\\">r</span> <span class=\\\"o\\\">=</span> <span class=\\\"nb\\\">parseInt</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">result</span><span class=\\\"p\\\">[</span><span class=\\\"mi\\\">1</span><span class=\\\"p\\\">],</span> <span class=\\\"nx\\\">decimal</span><span class=\\\"p\\\">)</span>\\n      <span class=\\\"kd\\\">const</span> <span class=\\\"nx\\\">g</span> <span class=\\\"o\\\">=</span> <span class=\\\"nb\\\">parseInt</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">result</span><span class=\\\"p\\\">[</span><span class=\\\"mi\\\">2</span><span class=\\\"p\\\">],</span> <span class=\\\"nx\\\">decimal</span><span class=\\\"p\\\">)</span>\\n      <span class=\\\"kd\\\">const</span> <span class=\\\"nx\\\">b</span> <span class=\\\"o\\\">=</span> <span class=\\\"nb\\\">parseInt</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">result</span><span class=\\\"p\\\">[</span><span class=\\\"mi\\\">3</span><span class=\\\"p\\\">],</span> <span class=\\\"nx\\\">decimal</span><span class=\\\"p\\\">)</span>\\n      <span class=\\\"k\\\">return</span> <span class=\\\"p\\\">{</span><span class=\\\"nx\\\">r</span><span class=\\\"p\\\">,</span> <span class=\\\"nx\\\">g</span><span class=\\\"p\\\">,</span> <span class=\\\"nx\\\">b</span><span class=\\\"p\\\">}</span>\\n    <span class=\\\"p\\\">}</span>\\n\\n    <span class=\\\"nx\\\">rgbStrToObj</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">str</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">{</span>\\n      <span class=\\\"c1\\\">// from text \\\"rgb(4,8,16)\\\" to obj { r: 4, g: 8, a:16 }</span>\\n      <span class=\\\"kd\\\">var</span> <span class=\\\"nx\\\">result</span> <span class=\\\"o\\\">=</span> <span class=\\\"sr\\\">/</span><span class=\\\"se\\\">([</span><span class=\\\"sr\\\">0-9</span><span class=\\\"se\\\">]{1,3})</span><span class=\\\"sr\\\">,</span><span class=\\\"se\\\">([</span><span class=\\\"sr\\\">0-9</span><span class=\\\"se\\\">]{1,3})</span><span class=\\\"sr\\\">,</span><span class=\\\"se\\\">([</span><span class=\\\"sr\\\">0-9</span><span class=\\\"se\\\">]{1,3})</span><span class=\\\"sr\\\">/i</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">exec</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">str</span><span class=\\\"p\\\">);</span>\\n      <span class=\\\"k\\\">return</span> <span class=\\\"nx\\\">result</span> <span class=\\\"p\\\">?</span> <span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">regExpToRgb</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">result</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">:</span> <span class=\\\"kc\\\">null</span><span class=\\\"p\\\">;</span>\\n    <span class=\\\"p\\\">}</span>\\n\\n    <span class=\\\"nx\\\">hexToRgbObj</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">str</span><span class=\\\"p\\\">){</span>\\n      <span class=\\\"c1\\\">// \\\"#1234aa\\\" to { r: 12, g: 34, a: aa }</span>\\n      <span class=\\\"kd\\\">var</span> <span class=\\\"nx\\\">result</span> <span class=\\\"o\\\">=</span> <span class=\\\"sr\\\">/</span><span class=\\\"se\\\">([</span><span class=\\\"sr\\\">a-zA-Z0-9</span><span class=\\\"se\\\">]{2})([</span><span class=\\\"sr\\\">a-zA-Z0-9</span><span class=\\\"se\\\">]{2})([</span><span class=\\\"sr\\\">a-zA-Z0-9</span><span class=\\\"se\\\">]{2})</span><span class=\\\"sr\\\">/i</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">exec</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">str</span><span class=\\\"p\\\">);</span>\\n      <span class=\\\"k\\\">return</span> <span class=\\\"nx\\\">result</span> <span class=\\\"p\\\">?</span> <span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">regExpToRgb</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">result</span><span class=\\\"p\\\">,</span> <span class=\\\"mi\\\">16</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">:</span> <span class=\\\"kc\\\">null</span><span class=\\\"p\\\">;</span>\\n    <span class=\\\"p\\\">}</span>\\n\\n    <span class=\\\"nx\\\">getNearColor</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">rgb</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">{</span>\\n      <span class=\\\"kd\\\">let</span> <span class=\\\"nx\\\">i</span> <span class=\\\"o\\\">=</span> <span class=\\\"mi\\\">0</span><span class=\\\"p\\\">,</span>\\n        <span class=\\\"nx\\\">approximationIndex</span> <span class=\\\"o\\\">=</span> <span class=\\\"mi\\\">0</span><span class=\\\"p\\\">,</span>\\n        <span class=\\\"nx\\\">minDiff</span> <span class=\\\"o\\\">=</span> <span class=\\\"nb\\\">Math</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">abs</span><span class=\\\"p\\\">(</span><span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">distance3D</span><span class=\\\"p\\\">(</span><span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">colors</span><span class=\\\"p\\\">[</span><span class=\\\"mi\\\">0</span><span class=\\\"p\\\">].</span><span class=\\\"nx\\\">rgb</span><span class=\\\"p\\\">,</span> <span class=\\\"nx\\\">rgb</span><span class=\\\"p\\\">)),</span>\\n        <span class=\\\"nx\\\">diff</span><span class=\\\"p\\\">;</span>\\n\\n      <span class=\\\"k\\\">while</span> <span class=\\\"p\\\">(</span><span class=\\\"o\\\">++</span><span class=\\\"nx\\\">i</span> <span class=\\\"o\\\">&lt;</span> <span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">colors</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">length</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">{</span>\\n        <span class=\\\"nx\\\">diff</span> <span class=\\\"o\\\">=</span> <span class=\\\"nb\\\">Math</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">abs</span><span class=\\\"p\\\">(</span><span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">distance3D</span><span class=\\\"p\\\">(</span><span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">colors</span><span class=\\\"p\\\">[</span><span class=\\\"nx\\\">i</span><span class=\\\"p\\\">].</span><span class=\\\"nx\\\">rgb</span><span class=\\\"p\\\">,</span> <span class=\\\"nx\\\">rgb</span><span class=\\\"p\\\">));</span>\\n\\n        <span class=\\\"k\\\">if</span> <span class=\\\"p\\\">(</span><span class=\\\"nx\\\">diff</span> <span class=\\\"o\\\">&lt;</span> <span class=\\\"nx\\\">minDiff</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">{</span>\\n          <span class=\\\"nx\\\">minDiff</span> <span class=\\\"o\\\">=</span> <span class=\\\"nx\\\">diff</span><span class=\\\"p\\\">;</span>\\n          <span class=\\\"nx\\\">approximationIndex</span> <span class=\\\"o\\\">=</span> <span class=\\\"nx\\\">i</span><span class=\\\"p\\\">;</span>\\n        <span class=\\\"p\\\">}</span>\\n      <span class=\\\"p\\\">}</span>\\n      <span class=\\\"k\\\">return</span> <span class=\\\"k\\\">this</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">colors</span><span class=\\\"p\\\">[</span><span class=\\\"nx\\\">approximationIndex</span><span class=\\\"p\\\">];</span>\\n    <span class=\\\"p\\\">}</span>\\n  <span class=\\\"p\\\">}</span>\\n\\n  <span class=\\\"nb\\\">window</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">TraditionalColors</span> <span class=\\\"o\\\">=</span> <span class=\\\"nb\\\">window</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">TraditionalColors</span> <span class=\\\"o\\\">||</span> <span class=\\\"nx\\\">TraditionalColors</span><span class=\\\"p\\\">;</span>\\n<span class=\\\"p\\\">})(</span><span class=\\\"nb\\\">window</span><span class=\\\"p\\\">);</span>\\n</code></pre></div>\\n</div>\\n\\n<p>\u4EE5\u4E0A\u304CtraditionalColors.js\u3067\u3059\u304C\u3001\u898B\u3066\u308F\u304B\u308B\u3088\u3046\u306B\u5927\u3057\u305F\u3053\u3068\u306F\u3057\u3066\u3044\u307E\u305B\u3093\u3002\u3059\u3079\u3066\u306E\u4F1D\u7D71\u8272\u3068\u306E\u8DDD\u96E2\u6E2C\u3063\u3066\u8FD1\u3044\u306E\u3092\u8FD4\u5374\u3057\u3066\u3044\u308B\u3060\u3051\u3067\u3059\u3002</p>\\n\\n<p>\u4F7F\u3044\u65B9\u306F</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"html\\\">\\n<div class=\\\"code-lang\\\"><span class=\\\"bold\\\">index.html</span></div>\\n<div class=\\\"highlight\\\"><pre><code><span class=\\\"nt\\\">&lt;script </span><span class=\\\"na\\\">src=</span><span class=\\\"s\\\">\\\"./traditionalColors.js\\\"</span><span class=\\\"nt\\\">&gt;&lt;/script&gt;</span> |\\n<span class=\\\"nt\\\">&lt;script&gt;</span>\\n  <span class=\\\"kd\\\">const</span> <span class=\\\"nx\\\">tc</span> <span class=\\\"o\\\">=</span> <span class=\\\"k\\\">new</span> <span class=\\\"nb\\\">window</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">TraditionalColors</span><span class=\\\"p\\\">();</span>\\n  <span class=\\\"nx\\\">console</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">log</span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">tc</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">getNearColor</span><span class=\\\"p\\\">({</span><span class=\\\"na\\\">r</span><span class=\\\"p\\\">:</span> <span class=\\\"mi\\\">14</span><span class=\\\"p\\\">,</span> <span class=\\\"na\\\">g</span><span class=\\\"p\\\">:</span> <span class=\\\"mi\\\">12</span><span class=\\\"p\\\">,</span> <span class=\\\"na\\\">b</span><span class=\\\"p\\\">:</span> <span class=\\\"mi\\\">243</span><span class=\\\"p\\\">}))</span>\\n<span class=\\\"nt\\\">&lt;/script&gt;</span>\\n</code></pre></div>\\n</div>\\n\\n<p>\u7684\u306A\u611F\u3058\u3067\u3001\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u5909\u6570\u3092\u4F5C\u3063\u3066\u30E1\u30BD\u30C3\u30C9\u3092\u547C\u3073\u305B\u3070\u3044\u308D\u3044\u308D\u4F7F\u3048\u307E\u3059\u3002\u3055\u304F\u3063\u3068\u7C21\u5358\u306A\u304A\u904A\u3073\u3067\u4F5C\u3063\u305F\u306E\u3067\u3059\u304C\u3001\u5199\u771F\u304C\u8DA3\u5473\u306A\u4EBA\u304B\u3089\u3059\u308B\u3068\u7D50\u69CB\u697D\u3057\u304B\u3063\u305F\u308A\u3057\u307E\u3059\u3002</p>\\n\\n<h2>\\n<span id=\\\"\u7D42\u308F\u308A\u306B\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\\\"><i class=\\\"fa fa-link\\\"></i></a>\u7D42\u308F\u308A\u306B</h2>\\n\\n<p>rgbaster.js \u306E\u30BD\u30FC\u30B9\u30B3\u30FC\u30C9\u3092\u8AAD\u3080\u306E\u306F\u7C21\u5358\u3067\u3057\u305F\u306E\u3067\u305C\u3072\u8AAD\u3093\u3067\u307F\u308B\u3068\u3044\u3044\u304B\u3068\u601D\u3044\u307E\u3059\u3002canvas\u306E\u4F7F\u3044\u65B9\u3082\u5B66\u3079\u307E\u3057\u305F\u3002</p>\\n\\n<h2>\\n<span id=\\\"\u53C2\u8003\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E5%8F%82%E8%80%83\\\"><i class=\\\"fa fa-link\\\"></i></a>\u53C2\u8003</h2>\\n\\n<p><a href=\\\"http://liginc.co.jp/web/js/other-js/130257\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">rgbaster.js\u3092\u4F7F\u3063\u3066\u753B\u50CF\u306E\u8272\u3092\u62BD\u51FA\u3057\u3066\u307F\u3088\u3046 | \u682A\u5F0F\u4F1A\u793ELIG</a></p>\\n\",\"body\":\"# \u753B\u50CF\u304B\u3089\u65E5\u672C\u306E\u4F1D\u7D71\u8272\u3092\u53D6\u308A\u51FA\u3057\u3066\u307F\u308B\\n\\n## \u306F\u3058\u3081\u306B\\n\\n\u3053\u3093\u306B\u3061\u308F\u3001\u50D5\u3067\u3059\u3002\\n\\n\u4ECA\u56DE\u306F\u753B\u50CF\u306E\u4E2D\u3067\u5C02\u6709\u3057\u3066\u3044\u308B\u8272\u3092\u53D6\u308A\u51FA\u3059\u65E2\u5B58\u306E `rgbaster.js` \u3068\u3001\u4ECA\u56DE\u81EA\u5206\u304C\u4F5C\u3063\u305F `traditionalColors.js` \u3092\u7D44\u307F\u5408\u308F\u305B\u3066Web\u30A2\u30D7\u30EA\u3092\u4F5C\u3063\u3066\u307F\u307E\u3059\u3002\\n\\n## \u6210\u679C\u7269\\n\\n\u30A4\u30E1\u30FC\u30B8\u306F\u4EE5\u4E0B\u306B\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8\u3092\u8CBC\u308A\u4ED8\u3051\u307E\u3057\u305F\u304C\u3001\u753B\u50CF\u306E\u4E2D\u306E\u5C02\u6709\u3057\u3066\u3044\u308B\u8272\u306B\u8FD1\u3044\u300C\u65E5\u672C\u306E\u4F1D\u7D71\u8272\u300D\u3092\u8FD4\u3059\u3068\u3044\u3046\u611F\u3058\u306EWeb\u30A2\u30D7\u30EA\u3067\u3059\u3002\\n\\n<img width=\\\"1188\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2018-05-25 23.02.17.jpg\\\" src=\\\"https://qiita-image-store.s3.amazonaws.com/0/112929/e7b03f32-b79d-67b6-de05-a0d93ec5ce12.jpeg\\\">\\n\\n\u5B9F\u969B\u306B\u52D5\u4F5C\u3059\u308B\u74B0\u5883\u306F\u3053\u3061\u3089\u306E[GitHub.io](https://ykhirao.github.io/traditional-color/)\u304B\u3089\u3069\u3046\u305E\uFF01\uFF01\\n\\n\u300C\u30D5\u30A1\u30A4\u30EB\u3092\u9078\u629E\u300D\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u9069\u5F53\u306A\u753B\u50CF\u3092\u30D6\u30E9\u30A6\u30B6\u306B\u3042\u3052\u3066\u307F\u3066\u304F\u3060\u3055\u3044\u3002\u305D\u3046\u3059\u308B\u3068JS/Canvas\u304C\u3054\u308A\u3054\u308A\u52D5\u304D\u51FA\u3057\u3066\u8272\u3092\u5224\u5B9A\u3057\u3066\u304F\u308C\u308B\u306F\u305A\u3067\u3059\u3002\\n\\n## \u6210\u679C\u72692\\n\\n\u30A4\u30E1\u30FC\u30B8\u306F\u4EE5\u4E0B\u306B\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8\u3092\u8CBC\u308A\u4ED8\u3051\u307E\u3057\u305F\u304C\u30AB\u30E9\u30FC\u30D4\u30C3\u30AB\u30FC\u3092\u7ACB\u3061\u4E0A\u3052\u3066\u8272\u3092\u5165\u529B\u3059\u308B\u3068\u4F1D\u7D71\u8272\u3092\u8FD4\u3059Web\u30A2\u30D7\u30EA\u3067\u3059\u3002\u3069\u3046\u305E\u904A\u3093\u3067\u307F\u3066\u304F\u3060\u3055\u3044\u3002 [GitHub.io](https://ykhirao.github.io/traditional-color/src/index.html) \u30AF\u30EA\u30C3\u30AF\u3067\u304D\u308B\u306E\u306F\u4E0A\u306E\u307B\u3046\u306E\u30AB\u30E9\u30FC\u30D4\u30C3\u30AB\u30FC\u3060\u3051\u3067\u3059\uFF01\\n\\n<img width=\\\"681\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2018-05-26 0.20.00.jpg\\\" src=\\\"https://qiita-image-store.s3.amazonaws.com/0/112929/d16f2474-89cf-35b0-fc9e-20dc593b8d72.jpeg\\\">\\n\\n## \u30B3\u30FC\u30C9\u7684\u306A\u8A71\\n\\n\u30B3\u30FC\u30C9\u306F https://github.com/ykhirao/traditional-color/ \u3067\u3059\u3002\\n\\n```traditionalColor.js\\n\\n;(function(window, undefined){\\n  \\\"use strict\\\";\\n\\n  class TraditionalColors {\\n    constructor() {\\n      console.log(\\\"TraditionalColors is roaded !!!\\\");\\n      this.colors = [] // \u672C\u5F53\u306F\u3053\u3053\u306B\u4F1D\u7D71\u8272\u306EJSON\u304C\u5165\u3063\u3066\u3044\u308B\\n    }\\n\\n    distance3D(a, b) {\\n      return Math.sqrt((Math.pow((a.r - b.r), 2) + Math.pow((a.g - b.g), 2) + Math.pow((a.b - b.b), 2)));\\n    }\\n\\n    regExpToRgb(result, decimal=10) {\\n      const r = parseInt(result[1], decimal)\\n      const g = parseInt(result[2], decimal)\\n      const b = parseInt(result[3], decimal)\\n      return {r, g, b}\\n    }\\n\\n    rgbStrToObj(str) {\\n      // from text \\\"rgb(4,8,16)\\\" to obj { r: 4, g: 8, a:16 }\\n      var result = /([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3})/i.exec(str);\\n      return result ? this.regExpToRgb(result) : null;\\n    }\\n\\n    hexToRgbObj(str){\\n      // \\\"#1234aa\\\" to { r: 12, g: 34, a: aa }\\n      var result = /([a-zA-Z0-9]{2})([a-zA-Z0-9]{2})([a-zA-Z0-9]{2})/i.exec(str);\\n      return result ? this.regExpToRgb(result, 16) : null;\\n    }\\n\\n    getNearColor(rgb) {\\n      let i = 0,\\n        approximationIndex = 0,\\n        minDiff = Math.abs(this.distance3D(this.colors[0].rgb, rgb)),\\n        diff;\\n\\n      while (++i < this.colors.length) {\\n        diff = Math.abs(this.distance3D(this.colors[i].rgb, rgb));\\n\\n        if (diff < minDiff) {\\n          minDiff = diff;\\n          approximationIndex = i;\\n        }\\n      }\\n      return this.colors[approximationIndex];\\n    }\\n  }\\n\\n  window.TraditionalColors = window.TraditionalColors || TraditionalColors;\\n})(window);\\n```\\n\\n\u4EE5\u4E0A\u304CtraditionalColors.js\u3067\u3059\u304C\u3001\u898B\u3066\u308F\u304B\u308B\u3088\u3046\u306B\u5927\u3057\u305F\u3053\u3068\u306F\u3057\u3066\u3044\u307E\u305B\u3093\u3002\u3059\u3079\u3066\u306E\u4F1D\u7D71\u8272\u3068\u306E\u8DDD\u96E2\u6E2C\u3063\u3066\u8FD1\u3044\u306E\u3092\u8FD4\u5374\u3057\u3066\u3044\u308B\u3060\u3051\u3067\u3059\u3002\\n\\n\u4F7F\u3044\u65B9\u306F\\n\\n```index.html\\n<script src=\\\"./traditionalColors.js\\\"><\/script> |\\n<script>\\n  const tc = new window.TraditionalColors();\\n  console.log(tc.getNearColor({r: 14, g: 12, b: 243}))\\n<\/script>\\n```\\n\\n\u7684\u306A\u611F\u3058\u3067\u3001\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u5909\u6570\u3092\u4F5C\u3063\u3066\u30E1\u30BD\u30C3\u30C9\u3092\u547C\u3073\u305B\u3070\u3044\u308D\u3044\u308D\u4F7F\u3048\u307E\u3059\u3002\u3055\u304F\u3063\u3068\u7C21\u5358\u306A\u304A\u904A\u3073\u3067\u4F5C\u3063\u305F\u306E\u3067\u3059\u304C\u3001\u5199\u771F\u304C\u8DA3\u5473\u306A\u4EBA\u304B\u3089\u3059\u308B\u3068\u7D50\u69CB\u697D\u3057\u304B\u3063\u305F\u308A\u3057\u307E\u3059\u3002\\n\\n## \u7D42\u308F\u308A\u306B\\n\\nrgbaster.js \u306E\u30BD\u30FC\u30B9\u30B3\u30FC\u30C9\u3092\u8AAD\u3080\u306E\u306F\u7C21\u5358\u3067\u3057\u305F\u306E\u3067\u305C\u3072\u8AAD\u3093\u3067\u307F\u308B\u3068\u3044\u3044\u304B\u3068\u601D\u3044\u307E\u3059\u3002canvas\u306E\u4F7F\u3044\u65B9\u3082\u5B66\u3079\u307E\u3057\u305F\u3002\\n\\n## \u53C2\u8003\\n\\n[rgbaster.js\u3092\u4F7F\u3063\u3066\u753B\u50CF\u306E\u8272\u3092\u62BD\u51FA\u3057\u3066\u307F\u3088\u3046 | \u682A\u5F0F\u4F1A\u793ELIG](http://liginc.co.jp/web/js/other-js/130257)\\n\",\"coediting\":false,\"comments_count\":0,\"created_at\":\"2018-05-28T09:59:14+09:00\",\"group\":null,\"id\":\"58f7aa3888ada78c1a4c\",\"likes_count\":13,\"private\":false,\"reactions_count\":0,\"stocks_count\":6,\"tags\":[{\"name\":\"JavaScript\",\"versions\":[]},{\"name\":\"JSON\",\"versions\":[]},{\"name\":\"canvas\",\"versions\":[]}],\"title\":\"\u753B\u50CF\u304B\u3089\u65E5\u672C\u306E\u4F1D\u7D71\u8272\u3092\u53D6\u308A\u51FA\u3057\u3066\u307F\u308B\u30E9\u30A4\u30D6\u30E9\u30EA\u4F5C\u3063\u305F\",\"updated_at\":\"2018-05-28T09:59:29+09:00\",\"url\":\"https://qiita.com/ykhirao/items/58f7aa3888ada78c1a4c\",\"user\":{\"description\":\"Web Developer For 6 years.\\r\\nPHP/Laravel && (React OR Vue.js)\\r\\nTypeScript/node.js\\r\\n\\r\\n\u696D\u52D9\u59D4\u8A17\u306E\u4F9D\u983C\u3068\u304B\u306FWantedly\u3068\u304B\u304B\u3089\u3067\u304A\u9858\u3044\u3057\u307E\u3059\uFF01\",\"facebook_id\":\"\",\"followees_count\":38,\"followers_count\":97,\"github_login_name\":\"ykhirao\",\"id\":\"ykhirao\",\"items_count\":62,\"linkedin_id\":\"\",\"location\":\"Tokyo, Japan\",\"name\":\"yk\",\"organization\":\"\",\"permanent_id\":112929,\"profile_image_url\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/profile-images/1639030792\",\"team_only\":false,\"twitter_screen_name\":\"ykhirao\",\"website_url\":\"https://www.wantedly.com/id/ykhirao\"},\"page_views_count\":null,\"team_membership\":null,\"organization_url_name\":null}},\"path\":\"posts/58f7aa3888ada78c1a4c\",\"sharedData\":{},\"siteData\":{\"updatedAt\":\"2023/04/24\"}}");</script><script defer="" type="text/javascript" src="/templates/styles.3e4f9072.js"></script><script defer="" type="text/javascript" src="/templates/vendors~main.867a25a5.js"></script><script defer="" type="text/javascript" src="/main.80784f3b.js"></script></body></html>