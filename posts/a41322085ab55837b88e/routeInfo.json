{"template":"__react_static_root__/src/components/QiitaPost","sharedHashesByProp":{},"data":{"post":{"rendered_body":"<h1 data-sourcepos=\"1:1-1:46\">\n<span id=\"jsonを返す無料apiを3分で作る方法\" class=\"fragment\"></span><a href=\"#json%E3%82%92%E8%BF%94%E3%81%99%E7%84%A1%E6%96%99api%E3%82%923%E5%88%86%E3%81%A7%E4%BD%9C%E3%82%8B%E6%96%B9%E6%B3%95\"><i class=\"fa fa-link\"></i></a>JSONを返す無料APIを3分で作る方法</h1>\n<h2 data-sourcepos=\"3:1-3:15\">\n<span id=\"はじめに\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>はじめに</h2>\n<p data-sourcepos=\"5:1-5:75\">この記事の読書対象者は以下のようなエンジニアです。</p>\n<ul data-sourcepos=\"7:1-9:0\">\n<li data-sourcepos=\"7:1-7:93\">Ajaxで叩くAPIを用意してあげようとしている新人教育中の優しい先輩</li>\n<li data-sourcepos=\"8:1-9:0\">なんかのサンプルアプリを作っているときのモックとして</li>\n</ul>\n<h2 data-sourcepos=\"10:1-10:27\">\n<span id=\"既存データセット\" class=\"fragment\"></span><a href=\"#%E6%97%A2%E5%AD%98%E3%83%87%E3%83%BC%E3%82%BF%E3%82%BB%E3%83%83%E3%83%88\"><i class=\"fa fa-link\"></i></a>既存データセット</h2>\n<h3 data-sourcepos=\"12:1-12:43\">\n<span id=\"ステータスコード等を返すapi\" class=\"fragment\"></span><a href=\"#%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E7%AD%89%E3%82%92%E8%BF%94%E3%81%99api\"><i class=\"fa fa-link\"></i></a>ステータスコード等を返すAPI</h3>\n<p data-sourcepos=\"14:1-14:87\">こちらのサイトがほぼいい感じにAPIを良いしてくださってます。</p>\n<p data-sourcepos=\"16:1-16:20\"><iframe id=\"qiita-embed-content__1f9af89b3e886db28abc11d46bdc602c\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__1f9af89b3e886db28abc11d46bdc602c\" data-content=\"https%3A%2F%2Fhttpbin.org%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\">\n</iframe>\n</p>\n<p data-sourcepos=\"18:1-18:72\">ステータスコード200のレスポンスがほしいときは以下</p>\n<div class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"20:1-29:3\"><div class=\"highlight\"><pre><code>curl <span class=\"nt\">-X</span> GET <span class=\"s2\">\"https://httpbin.org/status/200\"</span> <span class=\"nt\">-H</span> <span class=\"s2\">\"accept: text/plain\"</span>\n\n access-control-allow-credentials: <span class=\"nb\">true \n </span>access-control-allow-origin: <span class=\"k\">*</span> \n content-length: 0 \n content-type: text/html<span class=\"p\">;</span> <span class=\"nv\">charset</span><span class=\"o\">=</span>utf-8 \n <span class=\"nb\">date</span>: Sat, 16 Dec 2023 13:30:14 GMT \n server: gunicorn/19.9.0 \n</code></pre></div></div>\n<p data-sourcepos=\"31:1-31:27\">画像がほしいときは</p>\n<div class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"33:1-37:3\"><div class=\"highlight\"><pre><code>curl https://httpbin.org/image/jpeg\n\n// jpeg画像が返ってくる\n</code></pre></div></div>\n<p data-sourcepos=\"39:1-39:32\">自分のIP調べたいときは</p>\n<div class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"41:1-47:3\"><div class=\"highlight\"><pre><code><span class=\"nv\">$ </span>curl https://httpbin.org/ip\n\n<span class=\"o\">{</span>\n  <span class=\"s2\">\"origin\"</span>: <span class=\"s2\">\"60.11.111.11\"</span>\n<span class=\"o\">}</span>\n</code></pre></div></div>\n<h3 data-sourcepos=\"50:1-50:16\">\n<span id=\"お天気api\" class=\"fragment\"></span><a href=\"#%E3%81%8A%E5%A4%A9%E6%B0%97api\"><i class=\"fa fa-link\"></i></a>お天気API</h3>\n<p data-sourcepos=\"52:1-52:23\"><iframe id=\"qiita-embed-content__53f210f080acd2480575698ee93eda8c\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__53f210f080acd2480575698ee93eda8c\" data-content=\"https%3A%2F%2Fopen-meteo.com%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\">\n</iframe>\n</p>\n<div class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"54:1-70:3\"><div class=\"highlight\"><pre><code><span class=\"nv\">$ </span>curl <span class=\"s2\">\"https://api.open-meteo.com/v1/forecast?latitude=52.52&amp;longitude=13.41&amp;current=temperature_2m,wind_speed_10m&amp;hourly=temperature_2m,relative_humidity_2m,wind_speed_10m\"</span>\n\n<span class=\"o\">{</span>\n  <span class=\"s2\">\"current\"</span>: <span class=\"o\">{</span>\n    <span class=\"s2\">\"time\"</span>: <span class=\"s2\">\"2022-01-01T15:00\"</span>\n    <span class=\"s2\">\"temperature_2m\"</span>: 2.4,\n    <span class=\"s2\">\"wind_speed_10m\"</span>: 11.9,\n  <span class=\"o\">}</span>,\n  <span class=\"s2\">\"hourly\"</span>: <span class=\"o\">{</span>\n    <span class=\"s2\">\"time\"</span>: <span class=\"o\">[</span><span class=\"s2\">\"2022-07-01T00:00\"</span>,<span class=\"s2\">\"2022-07-01T01:00\"</span>, ...]\n    <span class=\"s2\">\"wind_speed_10m\"</span>: <span class=\"o\">[</span>3.16,3.02,3.3,3.14,3.2,2.95, ...],\n    <span class=\"s2\">\"temperature_2m\"</span>: <span class=\"o\">[</span>13.7,13.3,12.8,12.3,11.8, ...],\n    <span class=\"s2\">\"relative_humidity_2m\"</span>: <span class=\"o\">[</span>82,83,86,85,88,88,84,76, ...],\n  <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n</code></pre></div></div>\n<h3 data-sourcepos=\"72:1-72:19\">\n<span id=\"jsonplaceholder\" class=\"fragment\"></span><a href=\"#jsonplaceholder\"><i class=\"fa fa-link\"></i></a>jsonplaceholder</h3>\n<p data-sourcepos=\"74:1-74:37\"><iframe id=\"qiita-embed-content__96cf3806b7b8701e3ea05ba06e148cd0\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__96cf3806b7b8701e3ea05ba06e148cd0\" data-content=\"https%3A%2F%2Fjsonplaceholder.typicode.com%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\">\n</iframe>\n</p>\n<p data-sourcepos=\"76:1-76:87\">すでにいくつかのデータセットが用意されているので使いやすい</p>\n<div class=\"code-frame\" data-lang=\"js\" data-sourcepos=\"78:1-89:3\"><div class=\"highlight\"><pre><code><span class=\"nf\">fetch</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">https://jsonplaceholder.typicode.com/todos/1</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"nf\">then</span><span class=\"p\">(</span><span class=\"nx\">response</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nf\">json</span><span class=\"p\">())</span>\n      <span class=\"p\">.</span><span class=\"nf\">then</span><span class=\"p\">(</span><span class=\"nx\">json</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nf\">log</span><span class=\"p\">(</span><span class=\"nx\">json</span><span class=\"p\">))</span>\n\n<span class=\"p\">{</span>\n  <span class=\"dl\">\"</span><span class=\"s2\">userId</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n  <span class=\"dl\">\"</span><span class=\"s2\">id</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n  <span class=\"dl\">\"</span><span class=\"s2\">title</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">delectus aut autem</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n  <span class=\"dl\">\"</span><span class=\"s2\">completed</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n<span class=\"p\">}</span>\n</code></pre></div></div>\n<h2 data-sourcepos=\"92:1-92:12\">\n<span id=\"api作成\" class=\"fragment\"></span><a href=\"#api%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>API作成</h2>\n<ul data-sourcepos=\"94:1-99:0\">\n<li data-sourcepos=\"94:1-96:59\">実際に通信する\n<ul data-sourcepos=\"95:3-96:59\">\n<li data-sourcepos=\"95:3-95:43\">Google Apps Script (GAS)で作成する</li>\n<li data-sourcepos=\"96:3-96:59\">MyJson (既存のWebサービス)でJsonを登録する</li>\n</ul>\n</li>\n<li data-sourcepos=\"97:1-99:0\">ローカルサーバーを立てる\n<ul data-sourcepos=\"98:3-99:0\">\n<li data-sourcepos=\"98:3-99:0\">json-server（npmで導入する）</li>\n</ul>\n</li>\n</ul>\n<h3 data-sourcepos=\"100:1-100:36\">\n<span id=\"google-apps-scriptgasを使う\" class=\"fragment\"></span><a href=\"#google-apps-scriptgas%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>Google Apps Script(GAS)を使う</h3>\n<p data-sourcepos=\"102:1-102:190\">以下のコードをGASに貼り付けて、「公開」「ウェブアプリケーションとして導入」を押して発行されたURLを叩くと文字列のJSONが返ってくる。</p>\n<div class=\"code-frame\" data-lang=\"js\" data-sourcepos=\"104:1-109:3\"><div class=\"highlight\"><pre><code><span class=\"kd\">function</span> <span class=\"nf\">doGet</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"k\">return</span> <span class=\"nx\">ContentService</span><span class=\"p\">.</span><span class=\"nf\">createTextOutput</span><span class=\"p\">(</span><span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nf\">stringify</span><span class=\"p\">({</span><span class=\"dl\">'</span><span class=\"s1\">name</span><span class=\"dl\">'</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">Qiita</span><span class=\"dl\">'</span><span class=\"p\">}))</span>\n    <span class=\"p\">.</span><span class=\"nf\">setMimeType</span><span class=\"p\">(</span><span class=\"nx\">ContentService</span><span class=\"p\">.</span><span class=\"nx\">MimeType</span><span class=\"p\">.</span><span class=\"nx\">JSON</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</code></pre></div></div>\n<p data-sourcepos=\"111:1-111:125\"><a href=\"https://camo.qiitausercontent.com/10ada0fa694393dc7ed87f86622a66b57b2601e4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131323932392f32346136366337342d363837612d623138612d303137662d3561613539643065373362362e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2F24a66c74-687a-b18a-017f-5aa59d0e73b6.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2d52715e9c82d9c03c396c7d3b6be25e\" alt=\"スクリーンショット\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/112929/24a66c74-687a-b18a-017f-5aa59d0e73b6.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F112929%2F24a66c74-687a-b18a-017f-5aa59d0e73b6.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=85f86a6e8f2cf6c538526c30a9cb2bcc 1x\" loading=\"lazy\"></a></p>\n<p data-sourcepos=\"113:1-113:94\">参考： <a href=\"https://developers.google.com/apps-script/guides/content#serving_json_from_scripts\" rel=\"nofollow noopener\" target=\"_blank\">https://developers.google.com/apps-script/guides/content#serving_json_from_scripts</a></p>\n<p data-sourcepos=\"115:1-115:111\">GetメソッドにtokenをつけてたらJsonを返すとかそういう処理もできるのでオススメ！</p>\n<h3 data-sourcepos=\"117:1-117:84\">\n<span id=\"localにjson-serverを立てて使う\" class=\"fragment\"></span><a href=\"#local%E3%81%ABjson-server%E3%82%92%E7%AB%8B%E3%81%A6%E3%81%A6%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>localに<a href=\"https://github.com/typicode/json-server\" rel=\"nofollow noopener\" target=\"_blank\">json-server</a>を立てて使う</h3>\n<p data-sourcepos=\"119:1-119:72\">Node.js等を使える人はjson-serverがおすすめみたいです！</p>\n<p data-sourcepos=\"121:1-121:142\">参考：<a href=\"https://qiita.com/futoase/items/2859a60c8b240da70572\" id=\"reference-efbc2bde0ad5d33e4eaf\">JSON Serverを使って手っ取り早くWebAPIのモックアップを作る</a></p>\n<div class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"123:1-125:3\"><div class=\"highlight\"><pre><code>npm install -g json-server\n</code></pre></div></div>\n<p data-sourcepos=\"127:1-127:111\">npmインストールとか必要だけどAPIモックにするのにはすごく便利なのでオススメ！</p>\n<h3 data-sourcepos=\"129:1-129:31\">\n<span id=\"api-gatewayのmockを使う\" class=\"fragment\"></span><a href=\"#api-gateway%E3%81%AEmock%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>API GatewayのMockを使う</h3>\n<p data-sourcepos=\"131:1-131:39\">awsサービス使っている方は楽</p>\n<h3 data-sourcepos=\"133:1-133:9\">\n<span id=\"qiita\" class=\"fragment\"></span><a href=\"#qiita\"><i class=\"fa fa-link\"></i></a>Qiita</h3>\n<p data-sourcepos=\"135:1-136:79\">QiitaのAPIを使う。認証してないと1時間に60回という制限付きだが普通に使えると思う。<br>\nこの記事のlikeをしてくれたユーザー一覧を取得する場合。</p>\n<p data-sourcepos=\"138:1-138:94\">.httpファイルでREST clientアプリから取得してみるなら以下のようになる</p>\n<div class=\"code-frame\" data-lang=\"terminal\" data-sourcepos=\"141:1-150:3\"><div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">touch </span>test.http\n<span class=\"gp\">$</span><span class=\"w\"> </span>vim test.http\n<span class=\"go\">\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>GET /api/v2/items/:item_id/likes\n<span class=\"gp\">#</span><span class=\"w\"> </span>https://qiita.com/api/v2/docs#get-apiv2itemsitem_idlikes\n<span class=\"gp\">#</span><span class=\"w\"> </span>https://qiita.com/ykhirao/items/a41322085ab55837b88e\n<span class=\"go\">\nGET https://qiita.com/api/v2/items/a41322085ab55837b88e/likes\n</span></code></pre></div></div>\n<div class=\"code-frame\" data-lang=\"js\" data-sourcepos=\"152:1-200:3\"><div class=\"highlight\"><pre><code><span class=\"nx\">HTTP</span><span class=\"o\">/</span><span class=\"mf\">1.1</span> <span class=\"mi\">200</span> <span class=\"nx\">OK</span>\n<span class=\"nb\">Date</span><span class=\"p\">:</span> <span class=\"nx\">Mon</span><span class=\"p\">,</span> <span class=\"mi\">11</span> <span class=\"nx\">Dec</span> <span class=\"mi\">2023</span> <span class=\"mi\">05</span><span class=\"p\">:</span><span class=\"mi\">48</span><span class=\"p\">:</span><span class=\"mi\">50</span> <span class=\"nx\">GMT</span>\n<span class=\"nx\">Content</span><span class=\"o\">-</span><span class=\"nx\">Type</span><span class=\"p\">:</span> <span class=\"nx\">application</span><span class=\"o\">/</span><span class=\"nx\">json</span><span class=\"p\">;</span> <span class=\"nx\">charset</span><span class=\"o\">=</span><span class=\"nx\">utf</span><span class=\"o\">-</span><span class=\"mi\">8</span>\n<span class=\"nx\">Transfer</span><span class=\"o\">-</span><span class=\"nx\">Encoding</span><span class=\"p\">:</span> <span class=\"nx\">chunked</span>\n<span class=\"nx\">Connection</span><span class=\"p\">:</span> <span class=\"nx\">close</span>\n<span class=\"nx\">Server</span><span class=\"p\">:</span> <span class=\"nx\">nginx</span>\n<span class=\"nx\">X</span><span class=\"o\">-</span><span class=\"nx\">Frame</span><span class=\"o\">-</span><span class=\"nx\">Options</span><span class=\"p\">:</span> <span class=\"nx\">SAMEORIGIN</span>\n<span class=\"nx\">X</span><span class=\"o\">-</span><span class=\"nx\">XSS</span><span class=\"o\">-</span><span class=\"nx\">Protection</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"nx\">mode</span><span class=\"o\">=</span><span class=\"nx\">block</span>\n<span class=\"nx\">X</span><span class=\"o\">-</span><span class=\"nx\">Content</span><span class=\"o\">-</span><span class=\"nx\">Type</span><span class=\"o\">-</span><span class=\"nx\">Options</span><span class=\"p\">:</span> <span class=\"nx\">nosniff</span>\n<span class=\"nx\">X</span><span class=\"o\">-</span><span class=\"nx\">Download</span><span class=\"o\">-</span><span class=\"nx\">Options</span><span class=\"p\">:</span> <span class=\"nx\">noopen</span>\n<span class=\"nx\">X</span><span class=\"o\">-</span><span class=\"nx\">Permitted</span><span class=\"o\">-</span><span class=\"nx\">Cross</span><span class=\"o\">-</span><span class=\"nx\">Domain</span><span class=\"o\">-</span><span class=\"nx\">Policies</span><span class=\"p\">:</span> <span class=\"nx\">none</span>\n<span class=\"nx\">Referrer</span><span class=\"o\">-</span><span class=\"nx\">Policy</span><span class=\"p\">:</span> <span class=\"nx\">strict</span><span class=\"o\">-</span><span class=\"nx\">origin</span><span class=\"o\">-</span><span class=\"nx\">when</span><span class=\"o\">-</span><span class=\"nx\">cross</span><span class=\"o\">-</span><span class=\"nx\">origin</span>\n<span class=\"nx\">Link</span><span class=\"p\">:</span> <span class=\"o\">&lt;</span><span class=\"nx\">https</span><span class=\"p\">:</span><span class=\"c1\">//qiita.com/api/v2/items/a41322085ab55837b88e/likes?page=1&gt;; rel=\"first\", &lt;https://qiita.com/api/v2/items/a41322085ab55837b88e/likes?page=2&gt;; rel=\"next\", &lt;https://qiita.com/api/v2/items/a41322085ab55837b88e/likes?page=32&gt;; rel=\"last\"</span>\n<span class=\"nx\">Total</span><span class=\"o\">-</span><span class=\"nx\">Count</span><span class=\"p\">:</span> <span class=\"mi\">634</span>\n<span class=\"nx\">ETag</span><span class=\"p\">:</span> <span class=\"nx\">W</span><span class=\"o\">/</span><span class=\"dl\">\"</span><span class=\"s2\">df875ddadb9e3b1357f1c26cae6e8c28</span><span class=\"dl\">\"</span>\n<span class=\"nx\">Cache</span><span class=\"o\">-</span><span class=\"nx\">Control</span><span class=\"p\">:</span> <span class=\"nx\">max</span><span class=\"o\">-</span><span class=\"nx\">age</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"kr\">private</span><span class=\"p\">,</span> <span class=\"nx\">must</span><span class=\"o\">-</span><span class=\"nx\">revalidate</span>\n<span class=\"nx\">Rate</span><span class=\"o\">-</span><span class=\"nx\">Limit</span><span class=\"p\">:</span> <span class=\"mi\">60</span>\n<span class=\"nx\">Rate</span><span class=\"o\">-</span><span class=\"nx\">Remaining</span><span class=\"p\">:</span> <span class=\"mi\">59</span>\n<span class=\"nx\">Rate</span><span class=\"o\">-</span><span class=\"nx\">Reset</span><span class=\"p\">:</span> <span class=\"mi\">1702277330</span>\n<span class=\"nx\">Vary</span><span class=\"p\">:</span> <span class=\"nx\">Origin</span>\n<span class=\"nx\">X</span><span class=\"o\">-</span><span class=\"nx\">Request</span><span class=\"o\">-</span><span class=\"nx\">Id</span><span class=\"p\">:</span> <span class=\"nx\">fcce504f</span><span class=\"o\">-</span><span class=\"mi\">356</span><span class=\"nx\">b</span><span class=\"o\">-</span><span class=\"mi\">4</span><span class=\"nx\">d0a</span><span class=\"o\">-</span><span class=\"nx\">bbb7</span><span class=\"o\">-</span><span class=\"nx\">db2be19d2c84</span>\n<span class=\"nx\">X</span><span class=\"o\">-</span><span class=\"nx\">Runtime</span><span class=\"p\">:</span> <span class=\"mf\">0.732132</span>\n<span class=\"nx\">Strict</span><span class=\"o\">-</span><span class=\"nx\">Transport</span><span class=\"o\">-</span><span class=\"nx\">Security</span><span class=\"p\">:</span> <span class=\"nx\">max</span><span class=\"o\">-</span><span class=\"nx\">age</span><span class=\"o\">=</span><span class=\"mi\">2592000</span>\n\n<span class=\"p\">[</span>\n  <span class=\"p\">{</span>\n    <span class=\"dl\">\"</span><span class=\"s2\">created_at</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">2023-02-08T03:54:58+09:00</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n    <span class=\"dl\">\"</span><span class=\"s2\">user</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">description</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">勉強中</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">facebook_id</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"\"</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">followees_count</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">followers_count</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">github_login_name</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"kc\">null</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">id</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">user_name</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">items_count</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">linkedin_id</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"\"</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">location</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"\"</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">name</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"\"</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">organization</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"\"</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">permanent_id</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">profile_image_url</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">image_url</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">team_only</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">twitter_screen_name</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"kc\">null</span><span class=\"p\">,</span>\n      <span class=\"dl\">\"</span><span class=\"s2\">website_url</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">your_site</span><span class=\"dl\">\"</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">]</span>\n</code></pre></div></div>\n<h3 data-sourcepos=\"202:1-202:13\">\n<span id=\"その他\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%E4%BB%96\"><i class=\"fa fa-link\"></i></a>その他</h3>\n<p data-sourcepos=\"204:1-204:31\">Gistを使ってもいけた。</p>\n<div class=\"code-frame\" data-lang=\"js\" data-sourcepos=\"206:1-216:3\"><div class=\"highlight\"><pre><code><span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"dl\">'</span><span class=\"s1\">https://api.github.com/gists/3137d994d72040d00a84f422349757d4</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n\n<span class=\"nf\">fetch</span><span class=\"p\">(</span> <span class=\"nx\">url</span> <span class=\"p\">)</span>\n<span class=\"p\">.</span><span class=\"nf\">then</span><span class=\"p\">(</span> <span class=\"kd\">function</span><span class=\"p\">(</span> <span class=\"nx\">data</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"k\">return</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nf\">json</span><span class=\"p\">();</span>\n<span class=\"p\">})</span>\n<span class=\"p\">.</span><span class=\"nf\">then</span><span class=\"p\">(</span> <span class=\"kd\">function</span><span class=\"p\">(</span> <span class=\"nx\">json</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nf\">log</span><span class=\"p\">(</span> <span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">files</span><span class=\"p\">[</span><span class=\"dl\">'</span><span class=\"s1\">sample.json</span><span class=\"dl\">'</span><span class=\"p\">].</span><span class=\"nx\">content</span> <span class=\"p\">);</span>\n<span class=\"p\">})</span>\n</code></pre></div></div>\n<div class=\"code-frame\" data-lang=\"shell\" data-sourcepos=\"218:1-221:3\"><div class=\"highlight\"><pre><code><span class=\"c\"># json</span>\ncurl https://api.github.com/gists/3137d994d72040d00a84f422349757d4\n</code></pre></div></div>\n<p data-sourcepos=\"223:1-223:30\">お手軽ではないです。</p>\n<h2 data-sourcepos=\"225:1-225:15\">\n<span id=\"終わりに\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>終わりに</h2>\n<p data-sourcepos=\"227:1-227:259\">AjaxとかAPIとかよくわかってなかった時期がありました。それくらいのレベルの人に教えるときに先輩エンジニアが「API作っといたのでこれ自由に叩いていいよ」って感じの世界素敵ですね！！</p>\n<p data-sourcepos=\"229:1-229:42\">それでは素敵なAPIライフを！！</p>\n<h2 data-sourcepos=\"232:1-232:45\">\n<span id=\"残念ながらなくなったサービス\" class=\"fragment\"></span><a href=\"#%E6%AE%8B%E5%BF%B5%E3%81%AA%E3%81%8C%E3%82%89%E3%81%AA%E3%81%8F%E3%81%AA%E3%81%A3%E3%81%9F%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9\"><i class=\"fa fa-link\"></i></a>残念ながらなくなったサービス</h2>\n<h3 data-sourcepos=\"234:1-234:47\">\n<span id=\"json-okibaというwebサービスを使う\" class=\"fragment\"></span><a href=\"#json-okiba%E3%81%A8%E3%81%84%E3%81%86web%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>Json okibaというWebサービスを使う</h3>\n<p data-sourcepos=\"236:1-236:22\"><iframe id=\"qiita-embed-content__9b42701cf366f86767a3f1942586ae00\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__9b42701cf366f86767a3f1942586ae00\" data-content=\"https%3A%2F%2Fjson.okiba.me%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\">\n</iframe>\n</p>\n","body":"# JSONを返す無料APIを3分で作る方法\n\n## はじめに\n\nこの記事の読書対象者は以下のようなエンジニアです。\n\n* Ajaxで叩くAPIを用意してあげようとしている新人教育中の優しい先輩\n* なんかのサンプルアプリを作っているときのモックとして\n\n## 既存データセット\n\n### ステータスコード等を返すAPI\n\nこちらのサイトがほぼいい感じにAPIを良いしてくださってます。\n\nhttps://httpbin.org/\n\nステータスコード200のレスポンスがほしいときは以下\n\n```bash\ncurl -X GET \"https://httpbin.org/status/200\" -H \"accept: text/plain\"\n\n access-control-allow-credentials: true \n access-control-allow-origin: * \n content-length: 0 \n content-type: text/html; charset=utf-8 \n date: Sat, 16 Dec 2023 13:30:14 GMT \n server: gunicorn/19.9.0 \n```\n\n画像がほしいときは\n\n```bash\ncurl https://httpbin.org/image/jpeg\n\n// jpeg画像が返ってくる\n```\n\n自分のIP調べたいときは\n\n```bash\n$ curl https://httpbin.org/ip\n\n{\n  \"origin\": \"60.11.111.11\"\n}\n```\n\n\n### お天気API\n\nhttps://open-meteo.com/\n\n```bash\n$ curl \"https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&current=temperature_2m,wind_speed_10m&hourly=temperature_2m,relative_humidity_2m,wind_speed_10m\"\n\n{\n  \"current\": {\n    \"time\": \"2022-01-01T15:00\"\n    \"temperature_2m\": 2.4,\n    \"wind_speed_10m\": 11.9,\n  },\n  \"hourly\": {\n    \"time\": [\"2022-07-01T00:00\",\"2022-07-01T01:00\", ...]\n    \"wind_speed_10m\": [3.16,3.02,3.3,3.14,3.2,2.95, ...],\n    \"temperature_2m\": [13.7,13.3,12.8,12.3,11.8, ...],\n    \"relative_humidity_2m\": [82,83,86,85,88,88,84,76, ...],\n  }\n}\n```\n\n### jsonplaceholder\n\nhttps://jsonplaceholder.typicode.com/\n\nすでにいくつかのデータセットが用意されているので使いやすい\n\n```js\nfetch('https://jsonplaceholder.typicode.com/todos/1')\n      .then(response => response.json())\n      .then(json => console.log(json))\n\n{\n  \"userId\": 1,\n  \"id\": 1,\n  \"title\": \"delectus aut autem\",\n  \"completed\": false\n}\n```\n\n\n## API作成\n\n* 実際に通信する\n  * Google Apps Script (GAS)で作成する\n  * MyJson (既存のWebサービス)でJsonを登録する\n* ローカルサーバーを立てる\n  * json-server（npmで導入する）\n\n### Google Apps Script(GAS)を使う\n\n以下のコードをGASに貼り付けて、「公開」「ウェブアプリケーションとして導入」を押して発行されたURLを叩くと文字列のJSONが返ってくる。\n\n```js\nfunction doGet(e) {\n  return ContentService.createTextOutput(JSON.stringify({'name': 'Qiita'}))\n    .setMimeType(ContentService.MimeType.JSON);\n}\n```\n\n![スクリーンショット](https://qiita-image-store.s3.amazonaws.com/0/112929/24a66c74-687a-b18a-017f-5aa59d0e73b6.jpeg)\n\n参考： <https://developers.google.com/apps-script/guides/content#serving_json_from_scripts>\n\nGetメソッドにtokenをつけてたらJsonを返すとかそういう処理もできるのでオススメ！\n\n### localに[json-server](https://github.com/typicode/json-server)を立てて使う\n\nNode.js等を使える人はjson-serverがおすすめみたいです！\n\n参考：[JSON Serverを使って手っ取り早くWebAPIのモックアップを作る](https://qiita.com/futoase/items/2859a60c8b240da70572)\n\n```\nnpm install -g json-server\n```\n\nnpmインストールとか必要だけどAPIモックにするのにはすごく便利なのでオススメ！\n\n### API GatewayのMockを使う\n\nawsサービス使っている方は楽\n\n### Qiita\n\nQiitaのAPIを使う。認証してないと1時間に60回という制限付きだが普通に使えると思う。\nこの記事のlikeをしてくれたユーザー一覧を取得する場合。\n\n.httpファイルでREST clientアプリから取得してみるなら以下のようになる\n\n\n```terminal\n$ touch test.http\n$ vim test.http\n\n# GET /api/v2/items/:item_id/likes\n# https://qiita.com/api/v2/docs#get-apiv2itemsitem_idlikes\n# https://qiita.com/ykhirao/items/a41322085ab55837b88e\n\nGET https://qiita.com/api/v2/items/a41322085ab55837b88e/likes\n```\n\n```js\nHTTP/1.1 200 OK\nDate: Mon, 11 Dec 2023 05:48:50 GMT\nContent-Type: application/json; charset=utf-8\nTransfer-Encoding: chunked\nConnection: close\nServer: nginx\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\nX-Content-Type-Options: nosniff\nX-Download-Options: noopen\nX-Permitted-Cross-Domain-Policies: none\nReferrer-Policy: strict-origin-when-cross-origin\nLink: <https://qiita.com/api/v2/items/a41322085ab55837b88e/likes?page=1>; rel=\"first\", <https://qiita.com/api/v2/items/a41322085ab55837b88e/likes?page=2>; rel=\"next\", <https://qiita.com/api/v2/items/a41322085ab55837b88e/likes?page=32>; rel=\"last\"\nTotal-Count: 634\nETag: W/\"df875ddadb9e3b1357f1c26cae6e8c28\"\nCache-Control: max-age=0, private, must-revalidate\nRate-Limit: 60\nRate-Remaining: 59\nRate-Reset: 1702277330\nVary: Origin\nX-Request-Id: fcce504f-356b-4d0a-bbb7-db2be19d2c84\nX-Runtime: 0.732132\nStrict-Transport-Security: max-age=2592000\n\n[\n  {\n    \"created_at\": \"2023-02-08T03:54:58+09:00\",\n    \"user\": {\n      \"description\": \"勉強中\",\n      \"facebook_id\": \"\",\n      \"followees_count\": 1,\n      \"followers_count\": 1,\n      \"github_login_name\": null,\n      \"id\": \"user_name\",\n      \"items_count\": 1,\n      \"linkedin_id\": \"\",\n      \"location\": \"\",\n      \"name\": \"\",\n      \"organization\": \"\",\n      \"permanent_id\": 1,\n      \"profile_image_url\": \"image_url\",\n      \"team_only\": false,\n      \"twitter_screen_name\": null,\n      \"website_url\": \"your_site\"\n    }\n  }\n]\n```\n\n### その他\n\nGistを使ってもいけた。\n\n```js\nvar url = 'https://api.github.com/gists/3137d994d72040d00a84f422349757d4';\n\nfetch( url )\n.then( function( data ) {\n  return data.json();\n})\n.then( function( json ) {\n  console.log( json.files['sample.json'].content );\n})\n```\n\n```shell\n# json\ncurl https://api.github.com/gists/3137d994d72040d00a84f422349757d4\n```\n\nお手軽ではないです。\n\n## 終わりに\n\nAjaxとかAPIとかよくわかってなかった時期がありました。それくらいのレベルの人に教えるときに先輩エンジニアが「API作っといたのでこれ自由に叩いていいよ」って感じの世界素敵ですね！！\n\nそれでは素敵なAPIライフを！！\n\n\n## 残念ながらなくなったサービス\n\n### Json okibaというWebサービスを使う\n\nhttps://json.okiba.me/\n","coediting":false,"comments_count":5,"created_at":"2018-03-05T02:36:35+09:00","group":null,"id":"a41322085ab55837b88e","likes_count":633,"private":false,"reactions_count":0,"stocks_count":680,"tags":[{"name":"JavaScript","versions":[]},{"name":"API","versions":[]},{"name":"GoogleAppsScript","versions":[]},{"name":"JSON","versions":[]}],"title":"JSONを返す無料APIを3分で作る方法","updated_at":"2023-12-16T22:34:59+09:00","url":"https://qiita.com/ykhirao/items/a41322085ab55837b88e","user":{"description":"Web Developer From 2016.\r\nPHP/Laravel && React/TypeScript/Node.js\r\n\r\n業務委託の依頼とかはWantedlyとかからでお願いします！","facebook_id":"","followees_count":39,"followers_count":102,"github_login_name":"ykhirao","id":"ykhirao","items_count":83,"linkedin_id":"","location":"Tokyo, Japan","name":"yk","organization":"","permanent_id":112929,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/profile-images/1639030792","team_only":false,"twitter_screen_name":"ykhirao","website_url":"https://www.wantedly.com/id/ykhirao"},"page_views_count":null,"team_membership":null,"organization_url_name":null,"slide":false}},"path":"posts/a41322085ab55837b88e"}
