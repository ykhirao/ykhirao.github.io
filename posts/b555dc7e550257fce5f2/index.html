<!DOCTYPE html><html lang="en"><head><meta name="generator" content="React Static"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><link rel="preload" as="script" href="/templates/styles.fdd47aea.js"/><link rel="preload" as="script" href="/templates/vendors~main.867a25a5.js"/><link rel="preload" as="script" href="/main.80784f3b.js"/><link rel="preload" as="style" href="/styles.642cfcb4.css"/><link rel="stylesheet" href="/styles.642cfcb4.css"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png"/><link rel="manifest" href="/manifest.json"/><meta name="mobile-web-app-capable" content="yes"/><meta name="theme-color" content="#fff"/><meta name="application-name"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="167x167" href="/apple-touch-icon-167x167.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/apple-touch-icon-1024x1024.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="apple-mobile-web-app-title"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-640x1136.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-750x1334.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-828x1792.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1125x2436.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2208.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2688.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1536x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2224.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2388.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-2048x2732.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1620x2160.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1136x640.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1334x750.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1792x828.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2436x1125.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2208x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2688x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2048x1536.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2224x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2388x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2732x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2160x1620.png"/><link rel="icon" type="image/png" sizes="228x228" href="/coast-228x228.png"/><meta name="msapplication-TileColor" content="#fff"/><meta name="msapplication-TileImage" content="/mstile-144x144.png"/><meta name="msapplication-config" content="/browserconfig.xml"/><link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json"/></head><body><div id="root"><div style="outline:none" tabindex="-1"><nav class="navbar is-dark is-fixed-top" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item" href="/">Home</a><a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div><div id="navbarBasicExample" class="navbar-menu "><div class="navbar-start"><a class="navbar-item" href="/posts">Posts</a><a class="navbar-item" href="/events">Events</a><a class="navbar-item" href="/github">GitHub</a></div></div></div></nav><div class="container"><div class="is-primary" style="padding:4.5rem 0.5rem"><div style="outline:none" tabindex="-1"><div><a href="/posts">&lt;<!-- --> Back</a><br/><h3>本番運用しているサーバーにgit/GitHubを導入するときのベストプラクティスとマサカリ</h3><article class="md-body">
<h1>
<span id="本番運用しているphplaravelサーバーにgitを入れたいんだけどこれであってるのかな" class="fragment"></span><a href="#%E6%9C%AC%E7%95%AA%E9%81%8B%E7%94%A8%E3%81%97%E3%81%A6%E3%81%84%E3%82%8Bphplaravel%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%ABgit%E3%82%92%E5%85%A5%E3%82%8C%E3%81%9F%E3%81%84%E3%82%93%E3%81%A0%E3%81%91%E3%81%A9%E3%81%93%E3%82%8C%E3%81%A7%E3%81%82%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%AE%E3%81%8B%E3%81%AA"><i class="fa fa-link"></i></a>本番運用しているphp/Laravelサーバーにgitを入れたいんだけどこれであってるのかな。</h1>

<p>こんにちは！ <a href="/ykhirao" class="user-mention js-hovercard" title="ykhirao" data-hovercard-target-type="user" data-hovercard-target-name="ykhirao">@ykhirao</a> です！本番サーバーにFTPでぽちぽちアップロードしている現状ですが、 <code>ssh production</code> <code>git pull origin master</code> とかで本番コードを反映させたいなと夢みたいなことを考えています。適当に考えたベストプラクティス（たたき台ともいう）を投稿するのでマサカリください！！！！！</p>

<h2>
<span id="手順の大まかなながれ" class="fragment"></span><a href="#%E6%89%8B%E9%A0%86%E3%81%AE%E5%A4%A7%E3%81%BE%E3%81%8B%E3%81%AA%E3%81%AA%E3%81%8C%E3%82%8C"><i class="fa fa-link"></i></a>手順の大まかなながれ</h2>

<p>だいたいこんな状況を仮定すると</p>

<ul>
<li>ローカルブランチにgitを導入して、GitHubにpushする</li>
<li>GitHubのレポジトリがあるし、masterブランチで最新になっている</li>
<li>本番コードはだいたいmasterブランチと同じ、一部デプロイ忘れとかある</li>
</ul>

<p>こんなものかなと思う。それに対してやることは</p>

<ul>
<li>サーバー上で <code>ssh key-gen</code> して公開鍵・秘密鍵を作成する</li>
<li>GitHubでデプロイキーを登録する（GitHubにデプロイユーザーとか作らなくていいよ！）</li>
<li>.gitignoreが適切に設定されているか確認する</li>
<li>特に.envファイルとか、storageフォルダとか、DB以外に本番とローカル環境で違うものがないかよく確認する</li>
</ul>

<p>とかでしょうか。</p>

<h2>
<span id="実際の動作で確認する" class="fragment"></span><a href="#%E5%AE%9F%E9%9A%9B%E3%81%AE%E5%8B%95%E4%BD%9C%E3%81%A7%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>実際の動作で確認する</h2>

<p>GitHubにレポジトリ作るのを省略するためにlocalにremote addする。<br>
GitHubとして読み解いてほしい。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk <span class="nb">local</span> % git remote add origin /Users/yk/server/project.git
yk@yk <span class="nb">local</span> % <span class="nb">cd</span> ..                 
yk@yk server % <span class="nb">ls
local   </span>prod
yk@yk server % git clone <span class="nt">--bare</span> <span class="nb">local </span>project.git 
Cloning into bare repository <span class="s1">'project.git'</span>...
<span class="k">done</span><span class="nb">.</span>
yk@yk server % <span class="nb">cd local 
</span>yk@yk <span class="nb">local</span> % git push origin master                            
Everything up-to-date
</code></pre></div></div>

<p>prodフォルダにcloneしてくる！！で <code>.git</code> フォルダを削除して、git管理下に置かれてない状況に戻す。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk server % <span class="nb">cd </span>prod
yk@yk prod % <span class="nb">ls
</span>yk@yk prod % git clone /Users/yk/server/project.git <span class="nb">.</span>
Cloning into <span class="s1">'.'</span>...
<span class="k">done</span><span class="nb">.</span>
yk@yk prod % ll
total 8
drwxr-xr-x   5 yk  staff  160  7 11 01:54 <span class="nb">.</span>
drwxr-xr-x   5 yk  staff  160  7 11 01:51 ..
drwxr-xr-x  12 yk  staff  384  7 11 01:54 .git
<span class="nt">-rw-r--r--</span>   1 yk  staff   16  7 11 01:54 .gitignore
<span class="nt">-rw-r--r--</span>   1 yk  staff    0  7 11 01:54 README.md

yk@yk prod % <span class="nb">rm</span> <span class="nt">-fr</span> .git

<span class="c"># 本番ではstorageフォルダに画像がたくさん溜まっていることを仮定</span>
yk@yk prod % <span class="nb">mkdir </span>storage
yk@yk prod % <span class="nb">touch </span>storage/image-prod.jpg
yk@yk prod % <span class="nb">touch </span>storage/image-prod2.jpg
yk@yk prod % <span class="nb">touch </span>storage/image-prod3.jpg

<span class="c"># .envファイル を本番用に書き換え</span>
yk@yk prod % vim .env
yk@yk prod % <span class="nb">cat</span> .env 
<span class="nv">APP</span><span class="o">=</span>prod
</code></pre></div></div>

<p>いろいろlocalで作業した！</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk server % <span class="nb">cd local 

</span>yk@yk <span class="nb">local</span> % <span class="nb">echo</span> <span class="s2">"# README.md を追記"</span> <span class="o">&gt;&gt;</span> README.md 

yk@yk <span class="nb">local</span> % git diff
diff <span class="nt">--git</span> a/README.md b/README.md
index e69de29..7039b84 100644
<span class="nt">---</span> a/README.md
+++ b/README.md
@@ <span class="nt">-0</span>,0 +1 @@
+# README.md を追記

yk@yk <span class="nb">local</span> % git commit <span class="nt">-am</span> <span class="s2">"Update"</span>
<span class="o">[</span>master 1b9e11d] Update
 1 file changed, 1 insertion<span class="o">(</span>+<span class="o">)</span>

yk@yk <span class="nb">local</span> % git push origin master
Enumerating objects: 5, <span class="k">done</span><span class="nb">.</span>
Counting objects: 100% <span class="o">(</span>5/5<span class="o">)</span>, <span class="k">done</span><span class="nb">.</span>
Delta compression using up to 4 threads
Compressing objects: 100% <span class="o">(</span>2/2<span class="o">)</span>, <span class="k">done</span><span class="nb">.</span>
Writing objects: 100% <span class="o">(</span>3/3<span class="o">)</span>, 298 bytes | 298.00 KiB/s, <span class="k">done</span><span class="nb">.</span>
Total 3 <span class="o">(</span>delta 0<span class="o">)</span>, reused 0 <span class="o">(</span>delta 0<span class="o">)</span>
To /Users/yk/server/project.git
   cf9a63e..1b9e11d  master -&gt; master
</code></pre></div></div>

<p>さてこの状況で本番にgitを導入しようと思います。</p>

<ul>
<li>少しlocalのほうが進んでいる</li>
<li>.envファイルが書き換わるとまずい</li>
<li>storage配下に画像たくさんあるけど.gitignoreしているから大丈夫なんだっけ？</li>
</ul>

<p>とかそんな感じの疑問を抱えつつ、見てみます。</p>

<p>サーバーで <code>ssh-keygen</code> をして 公開鍵を GitHubのこのあたり<a href="https://github.com/XXXXX/XXXXX/settings/keys" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/XXXXX/XXXXX/settings/keys</a> に登録すると、privateレポジトリでも、いい感じにpullとかできるようになります。デプロイユーザーとかをGitHubに登録しなくても大丈夫です。</p>

<p>本番のプロジェクトにはgit initされていない状態を確認する。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk prod % git log
fatal: not a git repository <span class="o">(</span>or any of the parent directories<span class="o">)</span>: .git
</code></pre></div></div>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk prod % git init 
Initialized empty Git repository <span class="k">in</span> /Users/yk/server/prod/.git/
yk@yk prod % git log
fatal: your current branch <span class="s1">'master'</span> does not have any commits yet
</code></pre></div></div>

<p>masterブランチもないし、操作できない状態なので、remoteでGitHubとかを指定して、pullしてきましょう。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk prod % git remote add origin /Users/yk/server/project.git 
yk@yk prod % git pull origin master
remote: Enumerating objects: 7, <span class="k">done</span><span class="nb">.</span>
remote: Counting objects: 100% <span class="o">(</span>7/7<span class="o">)</span>, <span class="k">done</span><span class="nb">.</span>
remote: Compressing objects: 100% <span class="o">(</span>4/4<span class="o">)</span>, <span class="k">done</span><span class="nb">.</span>
remote: Total 7 <span class="o">(</span>delta 0<span class="o">)</span>, reused 0 <span class="o">(</span>delta 0<span class="o">)</span>
Unpacking objects: 100% <span class="o">(</span>7/7<span class="o">)</span>, 516 bytes | 103.00 KiB/s, <span class="k">done</span><span class="nb">.</span>
From /Users/yk/server/project
 <span class="k">*</span> branch            master     -&gt; FETCH_HEAD
 <span class="k">*</span> <span class="o">[</span>new branch]      master     -&gt; origin/master
error: The following untracked working tree files would be overwritten by merge:
    .gitignore
    README.md
Please move or remove them before you merge.
Aborting
</code></pre></div></div>

<p>いい感じ。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk prod % git log
fatal: your current branch <span class="s1">'master'</span> does not have any commits yet
yk@yk prod % git status                   
On branch master

No commits yet

Untracked files:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to include <span class="k">in </span>what will be committed<span class="o">)</span>
    .gitignore
    README.md

nothing added to commit but untracked files present <span class="o">(</span>use <span class="s2">"git add"</span> to track<span class="o">)</span>
</code></pre></div></div>

<p>まだlogも見れないのでブランチを切り替えて一旦コミットする</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk prod % git checkout <span class="nt">-b</span> master-backup
Switched to a new branch <span class="s1">'master-backup'</span>
yk@yk prod % git add <span class="nb">.</span>
yk@yk prod % git commit <span class="nt">-m</span> <span class="s2">"マスターのバックアップ"</span>
<span class="o">[</span>master-backup <span class="o">(</span>root-commit<span class="o">)</span> a6fd38c] マスターのバックアップ
 2 files changed, 3 insertions<span class="o">(</span>+<span class="o">)</span>
 create mode 100644 .gitignore
 create mode 100644 README.md

yk@yk prod % git branch
<span class="k">*</span> master-backup
</code></pre></div></div>

<p>大丈夫そう。masterにチェックアウトしてみる</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk prod % git checkout master
Branch <span class="s1">'master'</span> <span class="nb">set </span>up to track remote branch <span class="s1">'master'</span> from <span class="s1">'origin'</span><span class="nb">.</span>
Switched to a new branch <span class="s1">'master'</span>

yk@yk prod % git log
commit 1b9e11d15bda2ecdec75a8d205bdbdec185a9388 <span class="o">(</span>HEAD -&gt; master, origin/master<span class="o">)</span>
Author: Yuki &lt;yuki.dees39th@gmail.com&gt;
Date:   Sat Jul 11 02:01:05 2020 +0900

    Update

commit cf9a63ebb4676faa949aa29a9fdf56244ed313d0
Author: Yuki &lt;yuki.dees39th@gmail.com&gt;
Date:   Sat Jul 11 01:48:36 2020 +0900

    init
</code></pre></div></div>

<p><code>Update</code> という変更はまだ <code>prod</code> フォルダには適応させてなかったのに、きちんとpullされていることがわかりますね！<br>
これで最新ブランチの適応はOKかと思います。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk prod % <span class="nb">cat</span> .env 
<span class="nv">APP</span><span class="o">=</span>prod
yk@yk prod % <span class="nb">ls </span>storage 
image-prod.jpg  image-prod2.jpg image-prod3.jpg
</code></pre></div></div>

<p><code>.env</code> ファイルとか <code>storege/</code> とか <code>.gitignore</code> に記述しているものは書き換わってないことがわかります。<br>
もちろんlocalファイルは <code>AA=local</code> ときちんとなったままです。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><code>yk@yk prod % <span class="nb">cat</span> ../local/.env 
<span class="nv">APP</span><span class="o">=</span><span class="nb">local</span>
</code></pre></div></div>

<h2>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h2>

<p>こんな感じでサーバー上で <code>git init</code> して <code>remote add</code> <code>checkout -b</code> <code>git add .</code> <code>git commit</code> <code>git checkout master</code> って流れでいい感じにgit適応できる気がしたのです。</p>

<p>あまりこのあたりちゃんとまとめられてなかったので、サーバー運用得意な方いたら編集リクエスト、<br>
コメント欄記入、自分なりのやつを投稿、何でも構いませんので後世に残せるいいドキュメントになればと思ってます。</p>

<p>。</p>
</article></div></div></div></div><footer class="footer"><div class="content has-text-centered"><p>This web site was created by ykhirao using react-static. <a href="https://github.com/ykhirao/ykhirao.github.io" target="_blank" rel="noopener noreferrer">Here</a> <!-- -->is the link to the GitHub repository</p><p>&amp; last uploaded at <!-- -->2023/02/06</p><p>© 2021 ykhirao</p></div></footer></div></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/src/components/QiitaPost\",\"sharedHashesByProp\":{},\"data\":{\"post\":{\"rendered_body\":\"\\n<h1>\\n<span id=\\\"\u672C\u756A\u904B\u7528\u3057\u3066\u3044\u308Bphplaravel\u30B5\u30FC\u30D0\u30FC\u306Bgit\u3092\u5165\u308C\u305F\u3044\u3093\u3060\u3051\u3069\u3053\u308C\u3067\u3042\u3063\u3066\u308B\u306E\u304B\u306A\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E6%9C%AC%E7%95%AA%E9%81%8B%E7%94%A8%E3%81%97%E3%81%A6%E3%81%84%E3%82%8Bphplaravel%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%ABgit%E3%82%92%E5%85%A5%E3%82%8C%E3%81%9F%E3%81%84%E3%82%93%E3%81%A0%E3%81%91%E3%81%A9%E3%81%93%E3%82%8C%E3%81%A7%E3%81%82%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%AE%E3%81%8B%E3%81%AA\\\"><i class=\\\"fa fa-link\\\"></i></a>\u672C\u756A\u904B\u7528\u3057\u3066\u3044\u308Bphp/Laravel\u30B5\u30FC\u30D0\u30FC\u306Bgit\u3092\u5165\u308C\u305F\u3044\u3093\u3060\u3051\u3069\u3053\u308C\u3067\u3042\u3063\u3066\u308B\u306E\u304B\u306A\u3002</h1>\\n\\n<p>\u3053\u3093\u306B\u3061\u306F\uFF01 <a href=\\\"/ykhirao\\\" class=\\\"user-mention js-hovercard\\\" title=\\\"ykhirao\\\" data-hovercard-target-type=\\\"user\\\" data-hovercard-target-name=\\\"ykhirao\\\">@ykhirao</a> \u3067\u3059\uFF01\u672C\u756A\u30B5\u30FC\u30D0\u30FC\u306BFTP\u3067\u307D\u3061\u307D\u3061\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3066\u3044\u308B\u73FE\u72B6\u3067\u3059\u304C\u3001 <code>ssh production</code> <code>git pull origin master</code> \u3068\u304B\u3067\u672C\u756A\u30B3\u30FC\u30C9\u3092\u53CD\u6620\u3055\u305B\u305F\u3044\u306A\u3068\u5922\u307F\u305F\u3044\u306A\u3053\u3068\u3092\u8003\u3048\u3066\u3044\u307E\u3059\u3002\u9069\u5F53\u306B\u8003\u3048\u305F\u30D9\u30B9\u30C8\u30D7\u30E9\u30AF\u30C6\u30A3\u30B9\uFF08\u305F\u305F\u304D\u53F0\u3068\u3082\u3044\u3046\uFF09\u3092\u6295\u7A3F\u3059\u308B\u306E\u3067\u30DE\u30B5\u30AB\u30EA\u304F\u3060\u3055\u3044\uFF01\uFF01\uFF01\uFF01\uFF01</p>\\n\\n<h2>\\n<span id=\\\"\u624B\u9806\u306E\u5927\u307E\u304B\u306A\u306A\u304C\u308C\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E6%89%8B%E9%A0%86%E3%81%AE%E5%A4%A7%E3%81%BE%E3%81%8B%E3%81%AA%E3%81%AA%E3%81%8C%E3%82%8C\\\"><i class=\\\"fa fa-link\\\"></i></a>\u624B\u9806\u306E\u5927\u307E\u304B\u306A\u306A\u304C\u308C</h2>\\n\\n<p>\u3060\u3044\u305F\u3044\u3053\u3093\u306A\u72B6\u6CC1\u3092\u4EEE\u5B9A\u3059\u308B\u3068</p>\\n\\n<ul>\\n<li>\u30ED\u30FC\u30AB\u30EB\u30D6\u30E9\u30F3\u30C1\u306Bgit\u3092\u5C0E\u5165\u3057\u3066\u3001GitHub\u306Bpush\u3059\u308B</li>\\n<li>GitHub\u306E\u30EC\u30DD\u30B8\u30C8\u30EA\u304C\u3042\u308B\u3057\u3001master\u30D6\u30E9\u30F3\u30C1\u3067\u6700\u65B0\u306B\u306A\u3063\u3066\u3044\u308B</li>\\n<li>\u672C\u756A\u30B3\u30FC\u30C9\u306F\u3060\u3044\u305F\u3044master\u30D6\u30E9\u30F3\u30C1\u3068\u540C\u3058\u3001\u4E00\u90E8\u30C7\u30D7\u30ED\u30A4\u5FD8\u308C\u3068\u304B\u3042\u308B</li>\\n</ul>\\n\\n<p>\u3053\u3093\u306A\u3082\u306E\u304B\u306A\u3068\u601D\u3046\u3002\u305D\u308C\u306B\u5BFE\u3057\u3066\u3084\u308B\u3053\u3068\u306F</p>\\n\\n<ul>\\n<li>\u30B5\u30FC\u30D0\u30FC\u4E0A\u3067 <code>ssh key-gen</code> \u3057\u3066\u516C\u958B\u9375\u30FB\u79D8\u5BC6\u9375\u3092\u4F5C\u6210\u3059\u308B</li>\\n<li>GitHub\u3067\u30C7\u30D7\u30ED\u30A4\u30AD\u30FC\u3092\u767B\u9332\u3059\u308B\uFF08GitHub\u306B\u30C7\u30D7\u30ED\u30A4\u30E6\u30FC\u30B6\u30FC\u3068\u304B\u4F5C\u3089\u306A\u304F\u3066\u3044\u3044\u3088\uFF01\uFF09</li>\\n<li>.gitignore\u304C\u9069\u5207\u306B\u8A2D\u5B9A\u3055\u308C\u3066\u3044\u308B\u304B\u78BA\u8A8D\u3059\u308B</li>\\n<li>\u7279\u306B.env\u30D5\u30A1\u30A4\u30EB\u3068\u304B\u3001storage\u30D5\u30A9\u30EB\u30C0\u3068\u304B\u3001DB\u4EE5\u5916\u306B\u672C\u756A\u3068\u30ED\u30FC\u30AB\u30EB\u74B0\u5883\u3067\u9055\u3046\u3082\u306E\u304C\u306A\u3044\u304B\u3088\u304F\u78BA\u8A8D\u3059\u308B</li>\\n</ul>\\n\\n<p>\u3068\u304B\u3067\u3057\u3087\u3046\u304B\u3002</p>\\n\\n<h2>\\n<span id=\\\"\u5B9F\u969B\u306E\u52D5\u4F5C\u3067\u78BA\u8A8D\u3059\u308B\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E5%AE%9F%E9%9A%9B%E3%81%AE%E5%8B%95%E4%BD%9C%E3%81%A7%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\\\"><i class=\\\"fa fa-link\\\"></i></a>\u5B9F\u969B\u306E\u52D5\u4F5C\u3067\u78BA\u8A8D\u3059\u308B</h2>\\n\\n<p>GitHub\u306B\u30EC\u30DD\u30B8\u30C8\u30EA\u4F5C\u308B\u306E\u3092\u7701\u7565\u3059\u308B\u305F\u3081\u306Blocal\u306Bremote add\u3059\u308B\u3002<br>\\nGitHub\u3068\u3057\u3066\u8AAD\u307F\u89E3\u3044\u3066\u307B\u3057\u3044\u3002</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk <span class=\\\"nb\\\">local</span> % git remote add origin /Users/yk/server/project.git\\nyk@yk <span class=\\\"nb\\\">local</span> % <span class=\\\"nb\\\">cd</span> ..                 \\nyk@yk server % <span class=\\\"nb\\\">ls\\nlocal   </span>prod\\nyk@yk server % git clone <span class=\\\"nt\\\">--bare</span> <span class=\\\"nb\\\">local </span>project.git \\nCloning into bare repository <span class=\\\"s1\\\">'project.git'</span>...\\n<span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nyk@yk server % <span class=\\\"nb\\\">cd local \\n</span>yk@yk <span class=\\\"nb\\\">local</span> % git push origin master                            \\nEverything up-to-date\\n</code></pre></div></div>\\n\\n<p>prod\u30D5\u30A9\u30EB\u30C0\u306Bclone\u3057\u3066\u304F\u308B\uFF01\uFF01\u3067 <code>.git</code> \u30D5\u30A9\u30EB\u30C0\u3092\u524A\u9664\u3057\u3066\u3001git\u7BA1\u7406\u4E0B\u306B\u7F6E\u304B\u308C\u3066\u306A\u3044\u72B6\u6CC1\u306B\u623B\u3059\u3002</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk server % <span class=\\\"nb\\\">cd </span>prod\\nyk@yk prod % <span class=\\\"nb\\\">ls\\n</span>yk@yk prod % git clone /Users/yk/server/project.git <span class=\\\"nb\\\">.</span>\\nCloning into <span class=\\\"s1\\\">'.'</span>...\\n<span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nyk@yk prod % ll\\ntotal 8\\ndrwxr-xr-x   5 yk  staff  160  7 11 01:54 <span class=\\\"nb\\\">.</span>\\ndrwxr-xr-x   5 yk  staff  160  7 11 01:51 ..\\ndrwxr-xr-x  12 yk  staff  384  7 11 01:54 .git\\n<span class=\\\"nt\\\">-rw-r--r--</span>   1 yk  staff   16  7 11 01:54 .gitignore\\n<span class=\\\"nt\\\">-rw-r--r--</span>   1 yk  staff    0  7 11 01:54 README.md\\n\\nyk@yk prod % <span class=\\\"nb\\\">rm</span> <span class=\\\"nt\\\">-fr</span> .git\\n\\n<span class=\\\"c\\\"># \u672C\u756A\u3067\u306Fstorage\u30D5\u30A9\u30EB\u30C0\u306B\u753B\u50CF\u304C\u305F\u304F\u3055\u3093\u6E9C\u307E\u3063\u3066\u3044\u308B\u3053\u3068\u3092\u4EEE\u5B9A</span>\\nyk@yk prod % <span class=\\\"nb\\\">mkdir </span>storage\\nyk@yk prod % <span class=\\\"nb\\\">touch </span>storage/image-prod.jpg\\nyk@yk prod % <span class=\\\"nb\\\">touch </span>storage/image-prod2.jpg\\nyk@yk prod % <span class=\\\"nb\\\">touch </span>storage/image-prod3.jpg\\n\\n<span class=\\\"c\\\"># .env\u30D5\u30A1\u30A4\u30EB \u3092\u672C\u756A\u7528\u306B\u66F8\u304D\u63DB\u3048</span>\\nyk@yk prod % vim .env\\nyk@yk prod % <span class=\\\"nb\\\">cat</span> .env \\n<span class=\\\"nv\\\">APP</span><span class=\\\"o\\\">=</span>prod\\n</code></pre></div></div>\\n\\n<p>\u3044\u308D\u3044\u308Dlocal\u3067\u4F5C\u696D\u3057\u305F\uFF01</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk server % <span class=\\\"nb\\\">cd local \\n\\n</span>yk@yk <span class=\\\"nb\\\">local</span> % <span class=\\\"nb\\\">echo</span> <span class=\\\"s2\\\">\\\"# README.md \u3092\u8FFD\u8A18\\\"</span> <span class=\\\"o\\\">&gt;&gt;</span> README.md \\n\\nyk@yk <span class=\\\"nb\\\">local</span> % git diff\\ndiff <span class=\\\"nt\\\">--git</span> a/README.md b/README.md\\nindex e69de29..7039b84 100644\\n<span class=\\\"nt\\\">---</span> a/README.md\\n+++ b/README.md\\n@@ <span class=\\\"nt\\\">-0</span>,0 +1 @@\\n+# README.md \u3092\u8FFD\u8A18\\n\\nyk@yk <span class=\\\"nb\\\">local</span> % git commit <span class=\\\"nt\\\">-am</span> <span class=\\\"s2\\\">\\\"Update\\\"</span>\\n<span class=\\\"o\\\">[</span>master 1b9e11d] Update\\n 1 file changed, 1 insertion<span class=\\\"o\\\">(</span>+<span class=\\\"o\\\">)</span>\\n\\nyk@yk <span class=\\\"nb\\\">local</span> % git push origin master\\nEnumerating objects: 5, <span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nCounting objects: 100% <span class=\\\"o\\\">(</span>5/5<span class=\\\"o\\\">)</span>, <span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nDelta compression using up to 4 threads\\nCompressing objects: 100% <span class=\\\"o\\\">(</span>2/2<span class=\\\"o\\\">)</span>, <span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nWriting objects: 100% <span class=\\\"o\\\">(</span>3/3<span class=\\\"o\\\">)</span>, 298 bytes | 298.00 KiB/s, <span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nTotal 3 <span class=\\\"o\\\">(</span>delta 0<span class=\\\"o\\\">)</span>, reused 0 <span class=\\\"o\\\">(</span>delta 0<span class=\\\"o\\\">)</span>\\nTo /Users/yk/server/project.git\\n   cf9a63e..1b9e11d  master -&gt; master\\n</code></pre></div></div>\\n\\n<p>\u3055\u3066\u3053\u306E\u72B6\u6CC1\u3067\u672C\u756A\u306Bgit\u3092\u5C0E\u5165\u3057\u3088\u3046\u3068\u601D\u3044\u307E\u3059\u3002</p>\\n\\n<ul>\\n<li>\u5C11\u3057local\u306E\u307B\u3046\u304C\u9032\u3093\u3067\u3044\u308B</li>\\n<li>.env\u30D5\u30A1\u30A4\u30EB\u304C\u66F8\u304D\u63DB\u308F\u308B\u3068\u307E\u305A\u3044</li>\\n<li>storage\u914D\u4E0B\u306B\u753B\u50CF\u305F\u304F\u3055\u3093\u3042\u308B\u3051\u3069.gitignore\u3057\u3066\u3044\u308B\u304B\u3089\u5927\u4E08\u592B\u306A\u3093\u3060\u3063\u3051\uFF1F</li>\\n</ul>\\n\\n<p>\u3068\u304B\u305D\u3093\u306A\u611F\u3058\u306E\u7591\u554F\u3092\u62B1\u3048\u3064\u3064\u3001\u898B\u3066\u307F\u307E\u3059\u3002</p>\\n\\n<p>\u30B5\u30FC\u30D0\u30FC\u3067 <code>ssh-keygen</code> \u3092\u3057\u3066 \u516C\u958B\u9375\u3092 GitHub\u306E\u3053\u306E\u3042\u305F\u308A<a href=\\\"https://github.com/XXXXX/XXXXX/settings/keys\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">https://github.com/XXXXX/XXXXX/settings/keys</a> \u306B\u767B\u9332\u3059\u308B\u3068\u3001private\u30EC\u30DD\u30B8\u30C8\u30EA\u3067\u3082\u3001\u3044\u3044\u611F\u3058\u306Bpull\u3068\u304B\u3067\u304D\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3059\u3002\u30C7\u30D7\u30ED\u30A4\u30E6\u30FC\u30B6\u30FC\u3068\u304B\u3092GitHub\u306B\u767B\u9332\u3057\u306A\u304F\u3066\u3082\u5927\u4E08\u592B\u3067\u3059\u3002</p>\\n\\n<p>\u672C\u756A\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u306Fgit init\u3055\u308C\u3066\u3044\u306A\u3044\u72B6\u614B\u3092\u78BA\u8A8D\u3059\u308B\u3002</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk prod % git log\\nfatal: not a git repository <span class=\\\"o\\\">(</span>or any of the parent directories<span class=\\\"o\\\">)</span>: .git\\n</code></pre></div></div>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk prod % git init \\nInitialized empty Git repository <span class=\\\"k\\\">in</span> /Users/yk/server/prod/.git/\\nyk@yk prod % git log\\nfatal: your current branch <span class=\\\"s1\\\">'master'</span> does not have any commits yet\\n</code></pre></div></div>\\n\\n<p>master\u30D6\u30E9\u30F3\u30C1\u3082\u306A\u3044\u3057\u3001\u64CD\u4F5C\u3067\u304D\u306A\u3044\u72B6\u614B\u306A\u306E\u3067\u3001remote\u3067GitHub\u3068\u304B\u3092\u6307\u5B9A\u3057\u3066\u3001pull\u3057\u3066\u304D\u307E\u3057\u3087\u3046\u3002</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk prod % git remote add origin /Users/yk/server/project.git \\nyk@yk prod % git pull origin master\\nremote: Enumerating objects: 7, <span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nremote: Counting objects: 100% <span class=\\\"o\\\">(</span>7/7<span class=\\\"o\\\">)</span>, <span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nremote: Compressing objects: 100% <span class=\\\"o\\\">(</span>4/4<span class=\\\"o\\\">)</span>, <span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nremote: Total 7 <span class=\\\"o\\\">(</span>delta 0<span class=\\\"o\\\">)</span>, reused 0 <span class=\\\"o\\\">(</span>delta 0<span class=\\\"o\\\">)</span>\\nUnpacking objects: 100% <span class=\\\"o\\\">(</span>7/7<span class=\\\"o\\\">)</span>, 516 bytes | 103.00 KiB/s, <span class=\\\"k\\\">done</span><span class=\\\"nb\\\">.</span>\\nFrom /Users/yk/server/project\\n <span class=\\\"k\\\">*</span> branch            master     -&gt; FETCH_HEAD\\n <span class=\\\"k\\\">*</span> <span class=\\\"o\\\">[</span>new branch]      master     -&gt; origin/master\\nerror: The following untracked working tree files would be overwritten by merge:\\n    .gitignore\\n    README.md\\nPlease move or remove them before you merge.\\nAborting\\n</code></pre></div></div>\\n\\n<p>\u3044\u3044\u611F\u3058\u3002</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk prod % git log\\nfatal: your current branch <span class=\\\"s1\\\">'master'</span> does not have any commits yet\\nyk@yk prod % git status                   \\nOn branch master\\n\\nNo commits yet\\n\\nUntracked files:\\n  <span class=\\\"o\\\">(</span>use <span class=\\\"s2\\\">\\\"git add &lt;file&gt;...\\\"</span> to include <span class=\\\"k\\\">in </span>what will be committed<span class=\\\"o\\\">)</span>\\n    .gitignore\\n    README.md\\n\\nnothing added to commit but untracked files present <span class=\\\"o\\\">(</span>use <span class=\\\"s2\\\">\\\"git add\\\"</span> to track<span class=\\\"o\\\">)</span>\\n</code></pre></div></div>\\n\\n<p>\u307E\u3060log\u3082\u898B\u308C\u306A\u3044\u306E\u3067\u30D6\u30E9\u30F3\u30C1\u3092\u5207\u308A\u66FF\u3048\u3066\u4E00\u65E6\u30B3\u30DF\u30C3\u30C8\u3059\u308B</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk prod % git checkout <span class=\\\"nt\\\">-b</span> master-backup\\nSwitched to a new branch <span class=\\\"s1\\\">'master-backup'</span>\\nyk@yk prod % git add <span class=\\\"nb\\\">.</span>\\nyk@yk prod % git commit <span class=\\\"nt\\\">-m</span> <span class=\\\"s2\\\">\\\"\u30DE\u30B9\u30BF\u30FC\u306E\u30D0\u30C3\u30AF\u30A2\u30C3\u30D7\\\"</span>\\n<span class=\\\"o\\\">[</span>master-backup <span class=\\\"o\\\">(</span>root-commit<span class=\\\"o\\\">)</span> a6fd38c] \u30DE\u30B9\u30BF\u30FC\u306E\u30D0\u30C3\u30AF\u30A2\u30C3\u30D7\\n 2 files changed, 3 insertions<span class=\\\"o\\\">(</span>+<span class=\\\"o\\\">)</span>\\n create mode 100644 .gitignore\\n create mode 100644 README.md\\n\\nyk@yk prod % git branch\\n<span class=\\\"k\\\">*</span> master-backup\\n</code></pre></div></div>\\n\\n<p>\u5927\u4E08\u592B\u305D\u3046\u3002master\u306B\u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8\u3057\u3066\u307F\u308B</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk prod % git checkout master\\nBranch <span class=\\\"s1\\\">'master'</span> <span class=\\\"nb\\\">set </span>up to track remote branch <span class=\\\"s1\\\">'master'</span> from <span class=\\\"s1\\\">'origin'</span><span class=\\\"nb\\\">.</span>\\nSwitched to a new branch <span class=\\\"s1\\\">'master'</span>\\n\\nyk@yk prod % git log\\ncommit 1b9e11d15bda2ecdec75a8d205bdbdec185a9388 <span class=\\\"o\\\">(</span>HEAD -&gt; master, origin/master<span class=\\\"o\\\">)</span>\\nAuthor: Yuki &lt;yuki.dees39th@gmail.com&gt;\\nDate:   Sat Jul 11 02:01:05 2020 +0900\\n\\n    Update\\n\\ncommit cf9a63ebb4676faa949aa29a9fdf56244ed313d0\\nAuthor: Yuki &lt;yuki.dees39th@gmail.com&gt;\\nDate:   Sat Jul 11 01:48:36 2020 +0900\\n\\n    init\\n</code></pre></div></div>\\n\\n<p><code>Update</code> \u3068\u3044\u3046\u5909\u66F4\u306F\u307E\u3060 <code>prod</code> \u30D5\u30A9\u30EB\u30C0\u306B\u306F\u9069\u5FDC\u3055\u305B\u3066\u306A\u304B\u3063\u305F\u306E\u306B\u3001\u304D\u3061\u3093\u3068pull\u3055\u308C\u3066\u3044\u308B\u3053\u3068\u304C\u308F\u304B\u308A\u307E\u3059\u306D\uFF01<br>\\n\u3053\u308C\u3067\u6700\u65B0\u30D6\u30E9\u30F3\u30C1\u306E\u9069\u5FDC\u306FOK\u304B\u3068\u601D\u3044\u307E\u3059\u3002</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk prod % <span class=\\\"nb\\\">cat</span> .env \\n<span class=\\\"nv\\\">APP</span><span class=\\\"o\\\">=</span>prod\\nyk@yk prod % <span class=\\\"nb\\\">ls </span>storage \\nimage-prod.jpg  image-prod2.jpg image-prod3.jpg\\n</code></pre></div></div>\\n\\n<p><code>.env</code> \u30D5\u30A1\u30A4\u30EB\u3068\u304B <code>storege/</code> \u3068\u304B <code>.gitignore</code> \u306B\u8A18\u8FF0\u3057\u3066\u3044\u308B\u3082\u306E\u306F\u66F8\u304D\u63DB\u308F\u3063\u3066\u306A\u3044\u3053\u3068\u304C\u308F\u304B\u308A\u307E\u3059\u3002<br>\\n\u3082\u3061\u308D\u3093local\u30D5\u30A1\u30A4\u30EB\u306F <code>AA=local</code> \u3068\u304D\u3061\u3093\u3068\u306A\u3063\u305F\u307E\u307E\u3067\u3059\u3002</p>\\n\\n<div class=\\\"code-frame\\\" data-lang=\\\"bash\\\"><div class=\\\"highlight\\\"><pre><code>yk@yk prod % <span class=\\\"nb\\\">cat</span> ../local/.env \\n<span class=\\\"nv\\\">APP</span><span class=\\\"o\\\">=</span><span class=\\\"nb\\\">local</span>\\n</code></pre></div></div>\\n\\n<h2>\\n<span id=\\\"\u307E\u3068\u3081\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%81%BE%E3%81%A8%E3%82%81\\\"><i class=\\\"fa fa-link\\\"></i></a>\u307E\u3068\u3081</h2>\\n\\n<p>\u3053\u3093\u306A\u611F\u3058\u3067\u30B5\u30FC\u30D0\u30FC\u4E0A\u3067 <code>git init</code> \u3057\u3066 <code>remote add</code> <code>checkout -b</code> <code>git add .</code> <code>git commit</code> <code>git checkout master</code> \u3063\u3066\u6D41\u308C\u3067\u3044\u3044\u611F\u3058\u306Bgit\u9069\u5FDC\u3067\u304D\u308B\u6C17\u304C\u3057\u305F\u306E\u3067\u3059\u3002</p>\\n\\n<p>\u3042\u307E\u308A\u3053\u306E\u3042\u305F\u308A\u3061\u3083\u3093\u3068\u307E\u3068\u3081\u3089\u308C\u3066\u306A\u304B\u3063\u305F\u306E\u3067\u3001\u30B5\u30FC\u30D0\u30FC\u904B\u7528\u5F97\u610F\u306A\u65B9\u3044\u305F\u3089\u7DE8\u96C6\u30EA\u30AF\u30A8\u30B9\u30C8\u3001<br>\\n\u30B3\u30E1\u30F3\u30C8\u6B04\u8A18\u5165\u3001\u81EA\u5206\u306A\u308A\u306E\u3084\u3064\u3092\u6295\u7A3F\u3001\u4F55\u3067\u3082\u69CB\u3044\u307E\u305B\u3093\u306E\u3067\u5F8C\u4E16\u306B\u6B8B\u305B\u308B\u3044\u3044\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306B\u306A\u308C\u3070\u3068\u601D\u3063\u3066\u307E\u3059\u3002</p>\\n\\n<p>\u3002</p>\\n\",\"body\":\"# \u672C\u756A\u904B\u7528\u3057\u3066\u3044\u308Bphp/Laravel\u30B5\u30FC\u30D0\u30FC\u306Bgit\u3092\u5165\u308C\u305F\u3044\u3093\u3060\u3051\u3069\u3053\u308C\u3067\u3042\u3063\u3066\u308B\u306E\u304B\u306A\u3002\\n\\n\u3053\u3093\u306B\u3061\u306F\uFF01 @ykhirao \u3067\u3059\uFF01\u672C\u756A\u30B5\u30FC\u30D0\u30FC\u306BFTP\u3067\u307D\u3061\u307D\u3061\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3066\u3044\u308B\u73FE\u72B6\u3067\u3059\u304C\u3001 `ssh production` `git pull origin master` \u3068\u304B\u3067\u672C\u756A\u30B3\u30FC\u30C9\u3092\u53CD\u6620\u3055\u305B\u305F\u3044\u306A\u3068\u5922\u307F\u305F\u3044\u306A\u3053\u3068\u3092\u8003\u3048\u3066\u3044\u307E\u3059\u3002\u9069\u5F53\u306B\u8003\u3048\u305F\u30D9\u30B9\u30C8\u30D7\u30E9\u30AF\u30C6\u30A3\u30B9\uFF08\u305F\u305F\u304D\u53F0\u3068\u3082\u3044\u3046\uFF09\u3092\u6295\u7A3F\u3059\u308B\u306E\u3067\u30DE\u30B5\u30AB\u30EA\u304F\u3060\u3055\u3044\uFF01\uFF01\uFF01\uFF01\uFF01\\n\\n## \u624B\u9806\u306E\u5927\u307E\u304B\u306A\u306A\u304C\u308C\\n\\n\u3060\u3044\u305F\u3044\u3053\u3093\u306A\u72B6\u6CC1\u3092\u4EEE\u5B9A\u3059\u308B\u3068\\n\\n- \u30ED\u30FC\u30AB\u30EB\u30D6\u30E9\u30F3\u30C1\u306Bgit\u3092\u5C0E\u5165\u3057\u3066\u3001GitHub\u306Bpush\u3059\u308B\\n- GitHub\u306E\u30EC\u30DD\u30B8\u30C8\u30EA\u304C\u3042\u308B\u3057\u3001master\u30D6\u30E9\u30F3\u30C1\u3067\u6700\u65B0\u306B\u306A\u3063\u3066\u3044\u308B\\n- \u672C\u756A\u30B3\u30FC\u30C9\u306F\u3060\u3044\u305F\u3044master\u30D6\u30E9\u30F3\u30C1\u3068\u540C\u3058\u3001\u4E00\u90E8\u30C7\u30D7\u30ED\u30A4\u5FD8\u308C\u3068\u304B\u3042\u308B\\n\\n\u3053\u3093\u306A\u3082\u306E\u304B\u306A\u3068\u601D\u3046\u3002\u305D\u308C\u306B\u5BFE\u3057\u3066\u3084\u308B\u3053\u3068\u306F\\n\\n- \u30B5\u30FC\u30D0\u30FC\u4E0A\u3067 `ssh key-gen` \u3057\u3066\u516C\u958B\u9375\u30FB\u79D8\u5BC6\u9375\u3092\u4F5C\u6210\u3059\u308B\\n- GitHub\u3067\u30C7\u30D7\u30ED\u30A4\u30AD\u30FC\u3092\u767B\u9332\u3059\u308B\uFF08GitHub\u306B\u30C7\u30D7\u30ED\u30A4\u30E6\u30FC\u30B6\u30FC\u3068\u304B\u4F5C\u3089\u306A\u304F\u3066\u3044\u3044\u3088\uFF01\uFF09\\n- .gitignore\u304C\u9069\u5207\u306B\u8A2D\u5B9A\u3055\u308C\u3066\u3044\u308B\u304B\u78BA\u8A8D\u3059\u308B\\n- \u7279\u306B.env\u30D5\u30A1\u30A4\u30EB\u3068\u304B\u3001storage\u30D5\u30A9\u30EB\u30C0\u3068\u304B\u3001DB\u4EE5\u5916\u306B\u672C\u756A\u3068\u30ED\u30FC\u30AB\u30EB\u74B0\u5883\u3067\u9055\u3046\u3082\u306E\u304C\u306A\u3044\u304B\u3088\u304F\u78BA\u8A8D\u3059\u308B\\n\\n\u3068\u304B\u3067\u3057\u3087\u3046\u304B\u3002\\n\\n## \u5B9F\u969B\u306E\u52D5\u4F5C\u3067\u78BA\u8A8D\u3059\u308B\\n\\nGitHub\u306B\u30EC\u30DD\u30B8\u30C8\u30EA\u4F5C\u308B\u306E\u3092\u7701\u7565\u3059\u308B\u305F\u3081\u306Blocal\u306Bremote add\u3059\u308B\u3002\\nGitHub\u3068\u3057\u3066\u8AAD\u307F\u89E3\u3044\u3066\u307B\u3057\u3044\u3002\\n\\n```bash\\nyk@yk local % git remote add origin /Users/yk/server/project.git\\nyk@yk local % cd ..                 \\nyk@yk server % ls\\nlocal\\tprod\\nyk@yk server % git clone --bare local project.git \\nCloning into bare repository 'project.git'...\\ndone.\\nyk@yk server % cd local \\nyk@yk local % git push origin master                            \\nEverything up-to-date\\n```\\n\\nprod\u30D5\u30A9\u30EB\u30C0\u306Bclone\u3057\u3066\u304F\u308B\uFF01\uFF01\u3067 `.git` \u30D5\u30A9\u30EB\u30C0\u3092\u524A\u9664\u3057\u3066\u3001git\u7BA1\u7406\u4E0B\u306B\u7F6E\u304B\u308C\u3066\u306A\u3044\u72B6\u6CC1\u306B\u623B\u3059\u3002\\n\\n```bash\\nyk@yk server % cd prod\\nyk@yk prod % ls\\nyk@yk prod % git clone /Users/yk/server/project.git .\\nCloning into '.'...\\ndone.\\nyk@yk prod % ll\\ntotal 8\\ndrwxr-xr-x   5 yk  staff  160  7 11 01:54 .\\ndrwxr-xr-x   5 yk  staff  160  7 11 01:51 ..\\ndrwxr-xr-x  12 yk  staff  384  7 11 01:54 .git\\n-rw-r--r--   1 yk  staff   16  7 11 01:54 .gitignore\\n-rw-r--r--   1 yk  staff    0  7 11 01:54 README.md\\n\\nyk@yk prod % rm -fr .git\\n\\n# \u672C\u756A\u3067\u306Fstorage\u30D5\u30A9\u30EB\u30C0\u306B\u753B\u50CF\u304C\u305F\u304F\u3055\u3093\u6E9C\u307E\u3063\u3066\u3044\u308B\u3053\u3068\u3092\u4EEE\u5B9A\\nyk@yk prod % mkdir storage\\nyk@yk prod % touch storage/image-prod.jpg\\nyk@yk prod % touch storage/image-prod2.jpg\\nyk@yk prod % touch storage/image-prod3.jpg\\n\\n# .env\u30D5\u30A1\u30A4\u30EB \u3092\u672C\u756A\u7528\u306B\u66F8\u304D\u63DB\u3048\\nyk@yk prod % vim .env\\nyk@yk prod % cat .env \\nAPP=prod\\n```\\n\\n\u3044\u308D\u3044\u308Dlocal\u3067\u4F5C\u696D\u3057\u305F\uFF01\\n\\n```bash\\nyk@yk server % cd local \\n\\nyk@yk local % echo \\\"# README.md \u3092\u8FFD\u8A18\\\" >> README.md \\n\\nyk@yk local % git diff\\ndiff --git a/README.md b/README.md\\nindex e69de29..7039b84 100644\\n--- a/README.md\\n+++ b/README.md\\n@@ -0,0 +1 @@\\n+# README.md \u3092\u8FFD\u8A18\\n\\nyk@yk local % git commit -am \\\"Update\\\"\\n[master 1b9e11d] Update\\n 1 file changed, 1 insertion(+)\\n\\nyk@yk local % git push origin master\\nEnumerating objects: 5, done.\\nCounting objects: 100% (5/5), done.\\nDelta compression using up to 4 threads\\nCompressing objects: 100% (2/2), done.\\nWriting objects: 100% (3/3), 298 bytes | 298.00 KiB/s, done.\\nTotal 3 (delta 0), reused 0 (delta 0)\\nTo /Users/yk/server/project.git\\n   cf9a63e..1b9e11d  master -> master\\n```\\n\\n\u3055\u3066\u3053\u306E\u72B6\u6CC1\u3067\u672C\u756A\u306Bgit\u3092\u5C0E\u5165\u3057\u3088\u3046\u3068\u601D\u3044\u307E\u3059\u3002\\n\\n- \u5C11\u3057local\u306E\u307B\u3046\u304C\u9032\u3093\u3067\u3044\u308B\\n- .env\u30D5\u30A1\u30A4\u30EB\u304C\u66F8\u304D\u63DB\u308F\u308B\u3068\u307E\u305A\u3044\\n- storage\u914D\u4E0B\u306B\u753B\u50CF\u305F\u304F\u3055\u3093\u3042\u308B\u3051\u3069.gitignore\u3057\u3066\u3044\u308B\u304B\u3089\u5927\u4E08\u592B\u306A\u3093\u3060\u3063\u3051\uFF1F\\n\\n\u3068\u304B\u305D\u3093\u306A\u611F\u3058\u306E\u7591\u554F\u3092\u62B1\u3048\u3064\u3064\u3001\u898B\u3066\u307F\u307E\u3059\u3002\\n\\n\u30B5\u30FC\u30D0\u30FC\u3067 `ssh-keygen` \u3092\u3057\u3066 \u516C\u958B\u9375\u3092 GitHub\u306E\u3053\u306E\u3042\u305F\u308Ahttps://github.com/XXXXX/XXXXX/settings/keys \u306B\u767B\u9332\u3059\u308B\u3068\u3001private\u30EC\u30DD\u30B8\u30C8\u30EA\u3067\u3082\u3001\u3044\u3044\u611F\u3058\u306Bpull\u3068\u304B\u3067\u304D\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3059\u3002\u30C7\u30D7\u30ED\u30A4\u30E6\u30FC\u30B6\u30FC\u3068\u304B\u3092GitHub\u306B\u767B\u9332\u3057\u306A\u304F\u3066\u3082\u5927\u4E08\u592B\u3067\u3059\u3002\\n\\n\\n\u672C\u756A\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u306Fgit init\u3055\u308C\u3066\u3044\u306A\u3044\u72B6\u614B\u3092\u78BA\u8A8D\u3059\u308B\u3002\\n\\n```bash\\nyk@yk prod % git log\\nfatal: not a git repository (or any of the parent directories): .git\\n```\\n\\n```bash\\nyk@yk prod % git init \\nInitialized empty Git repository in /Users/yk/server/prod/.git/\\nyk@yk prod % git log\\nfatal: your current branch 'master' does not have any commits yet\\n```\\n\\nmaster\u30D6\u30E9\u30F3\u30C1\u3082\u306A\u3044\u3057\u3001\u64CD\u4F5C\u3067\u304D\u306A\u3044\u72B6\u614B\u306A\u306E\u3067\u3001remote\u3067GitHub\u3068\u304B\u3092\u6307\u5B9A\u3057\u3066\u3001pull\u3057\u3066\u304D\u307E\u3057\u3087\u3046\u3002\\n\\n```bash\\nyk@yk prod % git remote add origin /Users/yk/server/project.git \\nyk@yk prod % git pull origin master\\nremote: Enumerating objects: 7, done.\\nremote: Counting objects: 100% (7/7), done.\\nremote: Compressing objects: 100% (4/4), done.\\nremote: Total 7 (delta 0), reused 0 (delta 0)\\nUnpacking objects: 100% (7/7), 516 bytes | 103.00 KiB/s, done.\\nFrom /Users/yk/server/project\\n * branch            master     -> FETCH_HEAD\\n * [new branch]      master     -> origin/master\\nerror: The following untracked working tree files would be overwritten by merge:\\n\\t.gitignore\\n\\tREADME.md\\nPlease move or remove them before you merge.\\nAborting\\n```\\n\\n\\n\u3044\u3044\u611F\u3058\u3002\\n\\n\\n```bash\\nyk@yk prod % git log\\nfatal: your current branch 'master' does not have any commits yet\\nyk@yk prod % git status                   \\nOn branch master\\n\\nNo commits yet\\n\\nUntracked files:\\n  (use \\\"git add <file>...\\\" to include in what will be committed)\\n\\t.gitignore\\n\\tREADME.md\\n\\nnothing added to commit but untracked files present (use \\\"git add\\\" to track)\\n```\\n\\n\u307E\u3060log\u3082\u898B\u308C\u306A\u3044\u306E\u3067\u30D6\u30E9\u30F3\u30C1\u3092\u5207\u308A\u66FF\u3048\u3066\u4E00\u65E6\u30B3\u30DF\u30C3\u30C8\u3059\u308B\\n\\n```bash\\nyk@yk prod % git checkout -b master-backup\\nSwitched to a new branch 'master-backup'\\nyk@yk prod % git add .\\nyk@yk prod % git commit -m \\\"\u30DE\u30B9\u30BF\u30FC\u306E\u30D0\u30C3\u30AF\u30A2\u30C3\u30D7\\\"\\n[master-backup (root-commit) a6fd38c] \u30DE\u30B9\u30BF\u30FC\u306E\u30D0\u30C3\u30AF\u30A2\u30C3\u30D7\\n 2 files changed, 3 insertions(+)\\n create mode 100644 .gitignore\\n create mode 100644 README.md\\n\\nyk@yk prod % git branch\\n* master-backup\\n```\\n\\n\u5927\u4E08\u592B\u305D\u3046\u3002master\u306B\u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8\u3057\u3066\u307F\u308B\\n\\n\\n```bash\\nyk@yk prod % git checkout master\\nBranch 'master' set up to track remote branch 'master' from 'origin'.\\nSwitched to a new branch 'master'\\n\\nyk@yk prod % git log\\ncommit 1b9e11d15bda2ecdec75a8d205bdbdec185a9388 (HEAD -> master, origin/master)\\nAuthor: Yuki <yuki.dees39th@gmail.com>\\nDate:   Sat Jul 11 02:01:05 2020 +0900\\n\\n    Update\\n\\ncommit cf9a63ebb4676faa949aa29a9fdf56244ed313d0\\nAuthor: Yuki <yuki.dees39th@gmail.com>\\nDate:   Sat Jul 11 01:48:36 2020 +0900\\n\\n    init\\n```\\n\\n`Update` \u3068\u3044\u3046\u5909\u66F4\u306F\u307E\u3060 `prod` \u30D5\u30A9\u30EB\u30C0\u306B\u306F\u9069\u5FDC\u3055\u305B\u3066\u306A\u304B\u3063\u305F\u306E\u306B\u3001\u304D\u3061\u3093\u3068pull\u3055\u308C\u3066\u3044\u308B\u3053\u3068\u304C\u308F\u304B\u308A\u307E\u3059\u306D\uFF01\\n\u3053\u308C\u3067\u6700\u65B0\u30D6\u30E9\u30F3\u30C1\u306E\u9069\u5FDC\u306FOK\u304B\u3068\u601D\u3044\u307E\u3059\u3002\\n\\n```bash\\nyk@yk prod % cat .env \\nAPP=prod\\nyk@yk prod % ls storage \\nimage-prod.jpg\\timage-prod2.jpg\\timage-prod3.jpg\\n```\\n\\n`.env` \u30D5\u30A1\u30A4\u30EB\u3068\u304B `storege/` \u3068\u304B `.gitignore` \u306B\u8A18\u8FF0\u3057\u3066\u3044\u308B\u3082\u306E\u306F\u66F8\u304D\u63DB\u308F\u3063\u3066\u306A\u3044\u3053\u3068\u304C\u308F\u304B\u308A\u307E\u3059\u3002\\n\u3082\u3061\u308D\u3093local\u30D5\u30A1\u30A4\u30EB\u306F `AA=local` \u3068\u304D\u3061\u3093\u3068\u306A\u3063\u305F\u307E\u307E\u3067\u3059\u3002\\n\\n```bash\\nyk@yk prod % cat ../local/.env \\nAPP=local\\n```\\n\\n## \u307E\u3068\u3081\\n\\n\u3053\u3093\u306A\u611F\u3058\u3067\u30B5\u30FC\u30D0\u30FC\u4E0A\u3067 `git init` \u3057\u3066 `remote add` `checkout -b` `git add .` `git commit` `git checkout master` \u3063\u3066\u6D41\u308C\u3067\u3044\u3044\u611F\u3058\u306Bgit\u9069\u5FDC\u3067\u304D\u308B\u6C17\u304C\u3057\u305F\u306E\u3067\u3059\u3002\\n\\n\u3042\u307E\u308A\u3053\u306E\u3042\u305F\u308A\u3061\u3083\u3093\u3068\u307E\u3068\u3081\u3089\u308C\u3066\u306A\u304B\u3063\u305F\u306E\u3067\u3001\u30B5\u30FC\u30D0\u30FC\u904B\u7528\u5F97\u610F\u306A\u65B9\u3044\u305F\u3089\u7DE8\u96C6\u30EA\u30AF\u30A8\u30B9\u30C8\u3001\\n\u30B3\u30E1\u30F3\u30C8\u6B04\u8A18\u5165\u3001\u81EA\u5206\u306A\u308A\u306E\u3084\u3064\u3092\u6295\u7A3F\u3001\u4F55\u3067\u3082\u69CB\u3044\u307E\u305B\u3093\u306E\u3067\u5F8C\u4E16\u306B\u6B8B\u305B\u308B\u3044\u3044\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306B\u306A\u308C\u3070\u3068\u601D\u3063\u3066\u307E\u3059\u3002\\n\\n\\n\\n\u3002\\n\",\"coediting\":false,\"comments_count\":0,\"created_at\":\"2020-07-14T09:36:07+09:00\",\"group\":null,\"id\":\"b555dc7e550257fce5f2\",\"likes_count\":0,\"private\":false,\"reactions_count\":0,\"stocks_count\":0,\"tags\":[{\"name\":\"PHP\",\"versions\":[]},{\"name\":\"Git\",\"versions\":[]},{\"name\":\"GitHub\",\"versions\":[]}],\"title\":\"\u672C\u756A\u904B\u7528\u3057\u3066\u3044\u308B\u30B5\u30FC\u30D0\u30FC\u306Bgit/GitHub\u3092\u5C0E\u5165\u3059\u308B\u3068\u304D\u306E\u30D9\u30B9\u30C8\u30D7\u30E9\u30AF\u30C6\u30A3\u30B9\u3068\u30DE\u30B5\u30AB\u30EA\",\"updated_at\":\"2020-07-14T09:36:07+09:00\",\"url\":\"https://qiita.com/ykhirao/items/b555dc7e550257fce5f2\",\"user\":{\"description\":\"Web Developer For 6 years.\\r\\nPHP/Laravel && (React OR Vue.js)\\r\\nTypeScript/node.js\\r\\n\\r\\n\u696D\u52D9\u59D4\u8A17\u306E\u4F9D\u983C\u3068\u304B\u306FWantedly\u3068\u304B\u304B\u3089\u3067\u304A\u9858\u3044\u3057\u307E\u3059\uFF01\",\"facebook_id\":\"\",\"followees_count\":38,\"followers_count\":95,\"github_login_name\":\"ykhirao\",\"id\":\"ykhirao\",\"items_count\":61,\"linkedin_id\":\"\",\"location\":\"Tokyo, Japan\",\"name\":\"yk\",\"organization\":\"\",\"permanent_id\":112929,\"profile_image_url\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/profile-images/1639030792\",\"team_only\":false,\"twitter_screen_name\":\"ykhirao\",\"website_url\":\"https://www.wantedly.com/id/ykhirao\"},\"page_views_count\":null,\"team_membership\":null}},\"path\":\"posts/b555dc7e550257fce5f2\",\"sharedData\":{},\"siteData\":{\"updatedAt\":\"2023/02/06\"}}");</script><script defer="" type="text/javascript" src="/templates/styles.fdd47aea.js"></script><script defer="" type="text/javascript" src="/templates/vendors~main.867a25a5.js"></script><script defer="" type="text/javascript" src="/main.80784f3b.js"></script></body></html>