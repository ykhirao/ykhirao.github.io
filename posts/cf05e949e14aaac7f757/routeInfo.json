{"template":"__react_static_root__/src/components/QiitaPost","sharedHashesByProp":{},"data":{"post":{"rendered_body":"\n<h1>\n<span id=\"v-forをnestするために\" class=\"fragment\"></span><a href=\"#v-for%E3%82%92nest%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>v-forをnestするために</h1>\n\n<p>おつかれさまです。先日のVue.js meetup#6はお疲れ様でした。ピンクの髪色のイケメンさんすごく楽しかったです。<img alt=\":grinning:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f600.png\" title=\":grinning:\" width=\"20\" loading=\"lazy\"><br>\n記事に間違いがあればPRでもください〜〜〜！！！</p>\n\n<p>Vue.js アドベントカレンダー2 15日目の記事です。<br>\n<a href=\"https://qiita.com/advent-calendar/2017/vue2\" class=\"autolink\">https://qiita.com/advent-calendar/2017/vue2</a></p>\n\n<h2>\n<span id=\"やりたいこと\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>やりたいこと</h2>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><code>\n<span class=\"nt\">&lt;div</span> <span class=\"na\">v-for</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;div</span> <span class=\"na\">v-for</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">v-for</span><span class=\"nt\">&gt;</span>\n      v-forをネストしてデータをすべて出力したい。\n    <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n\n</code></pre></div></div>\n\n<h2>\n<span id=\"今回扱うデータ\" class=\"fragment\"></span><a href=\"#%E4%BB%8A%E5%9B%9E%E6%89%B1%E3%81%86%E3%83%87%E3%83%BC%E3%82%BF\"><i class=\"fa fa-link\"></i></a>今回扱うデータ</h2>\n\n<p>ブログのカテゴリごとに記事を出力する。</p>\n\n<blockquote>\n<p>データ：カテゴリ(数：0以上)ごとにブログ(数：0~3)をもたせています。<br>\nブログにはタイトルと画像URLを持たせています。</p>\n</blockquote>\n\n<p><a href=\"https://camo.qiitausercontent.com/2e10ec70db6c02fa1567d0c51a983ecd5430c3ec/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f796b686972616f2f71696974612f6d61737465722f765f666f725f6e6573742f6173736574732f7373253230323031372d31322d313125323031372e34312e35322e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fraw.githubusercontent.com%2Fykhirao%2Fqiita%2Fmaster%2Fv_for_nest%2Fassets%2Fss%25202017-12-11%252017.41.52.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=53531786b02bcb7e09edf3289f4f4c43\" alt=\"img\" data-canonical-src=\"https://raw.githubusercontent.com/ykhirao/qiita/master/v_for_nest/assets/ss%202017-12-11%2017.41.52.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fraw.githubusercontent.com%2Fykhirao%2Fqiita%2Fmaster%2Fv_for_nest%2Fassets%2Fss%25202017-12-11%252017.41.52.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=66607fc737b0eb9dae6cabff5cae443a 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"v-forをnestするには同じ名前を使うだけ\" class=\"fragment\"></span><a href=\"#v-for%E3%82%92nest%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF%E5%90%8C%E3%81%98%E5%90%8D%E5%89%8D%E3%82%92%E4%BD%BF%E3%81%86%E3%81%A0%E3%81%91\"><i class=\"fa fa-link\"></i></a>v-forをnestするには同じ名前を使うだけ</h2>\n\n<p>同じ変数名を使ってやればデータにアクセスできるです。</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><code><span class=\"nt\">&lt;div</span> <span class=\"na\">v-for=</span><span class=\"s\">'category in categories'</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;div</span> <span class=\"na\">v-for=</span><span class=\"s\">'blog in category.blogs'</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;div&gt;</span>{{blog.title}}<span class=\"nt\">&lt;/div&gt;</span>\n    <span class=\"nt\">&lt;div&gt;</span>{{blog.text}}<span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</code></pre></div></div>\n\n<h2>\n<span id=\"完成形\" class=\"fragment\"></span><a href=\"#%E5%AE%8C%E6%88%90%E5%BD%A2\"><i class=\"fa fa-link\"></i></a>完成形</h2>\n\n<p><a href=\"https://jsfiddle.net/de6ohg2z/\" rel=\"nofollow noopener\" target=\"_blank\">JSFiddle</a> においてあるので動作はそちらを確認ください。</p>\n\n<blockquote>\n<p>データ：カテゴリ(複数、0~)ごとにブログ(複数、0~3)をもたせています。</p>\n</blockquote>\n\n<ul>\n<li>カテゴリ1\n\n<ul>\n<li>タイトル1 - <a href=\"https://goo.gl/hvjbc4\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://goo.gl/hvjbc4</a>\n</li>\n<li>タイトル2 - <a href=\"https://goo.gl/hvjbc4\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://goo.gl/hvjbc4</a>\n</li>\n<li>タイトル3 - <a href=\"https://goo.gl/hvjbc4\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://goo.gl/hvjbc4</a>\n</li>\n</ul>\n</li>\n<li>カテゴリ2(ブログ記事がなければカテゴリも非表示)</li>\n<li>カテゴリ3\n\n<ul>\n<li>タイトル1 - <a href=\"https://goo.gl/hvjbc4\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://goo.gl/hvjbc4</a>\n</li>\n<li>タイトル2 - <a href=\"https://goo.gl/hvjbc4\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://goo.gl/hvjbc4</a>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>こんな感じになるはずです。</p>\n\n<h2>\n<span id=\"コード\" class=\"fragment\"></span><a href=\"#%E3%82%B3%E3%83%BC%E3%83%89\"><i class=\"fa fa-link\"></i></a>コード</h2>\n\n<p>htmlとJSは以下にも書いているのでそちらでも確認できます。</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><code><span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"https://unpkg.com/vue@2.5.3/dist/vue.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n\n<span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">'demo'</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;template</span> <span class=\"na\">v-for=</span><span class=\"s\">'category in categories'</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">v-if=</span><span class=\"s\">\"category.blogs.length &gt; 0\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;h2&gt;</span>{{category.name}}<span class=\"nt\">&lt;/h2&gt;</span>\n      <span class=\"nt\">&lt;ul&gt;</span>\n        <span class=\"nt\">&lt;li</span> <span class=\"na\">v-for=</span><span class=\"s\">'blog in category.blogs'</span><span class=\"nt\">&gt;</span>{{blog.title}} - {{blog.img}}<span class=\"nt\">&lt;/li&gt;</span>\n      <span class=\"nt\">&lt;/ul&gt;</span>\n    <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;/template&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><code><span class=\"k\">new</span> <span class=\"nx\">Vue</span><span class=\"p\">({</span>\n  <span class=\"na\">el</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">#demo</span><span class=\"dl\">'</span><span class=\"p\">,</span>\n  <span class=\"na\">data</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">categories</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span> \n        <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">カテゴリ1</span><span class=\"dl\">'</span><span class=\"p\">,</span>\n        <span class=\"na\">blogs</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">タイトル1</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n            <span class=\"na\">img</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">https://goo.gl/hvjbc4</span><span class=\"dl\">'</span>\n          <span class=\"p\">},</span>\n          <span class=\"p\">{</span>\n            <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">タイトル2</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n            <span class=\"na\">img</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">https://goo.gl/hvjbc4</span><span class=\"dl\">'</span>\n          <span class=\"p\">},</span>\n          <span class=\"p\">{</span>\n            <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">タイトル3</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n            <span class=\"na\">img</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">https://goo.gl/hvjbc4</span><span class=\"dl\">'</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span> \n        <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">カテゴリ2</span><span class=\"dl\">'</span><span class=\"p\">,</span>\n        <span class=\"na\">blogs</span><span class=\"p\">:</span> <span class=\"p\">[]</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span> \n        <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">カテゴリ3</span><span class=\"dl\">'</span><span class=\"p\">,</span>\n        <span class=\"na\">blogs</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">タイトル1</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n            <span class=\"na\">img</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">https://goo.gl/hvjbc4</span><span class=\"dl\">'</span>\n          <span class=\"p\">},</span>\n          <span class=\"p\">{</span>\n            <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">タイトル2</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n            <span class=\"na\">img</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">https://goo.gl/hvjbc4</span><span class=\"dl\">'</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">})</span>\n</code></pre></div></div>\n\n<h1>\n<span id=\"いろいろ試した話\" class=\"fragment\"></span><a href=\"#%E3%81%84%E3%82%8D%E3%81%84%E3%82%8D%E8%A9%A6%E3%81%97%E3%81%9F%E8%A9%B1\"><i class=\"fa fa-link\"></i></a>いろいろ試した話</h1>\n\n<p>弊社ではCMSを開発しているのですが、そこでかなりの時間ハマってしまったので共有しておこうと思い記事を書かせていただきました。</p>\n\n<p>普段は、CMS( <a href=\"https://start.eat.auto/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://start.eat.auto/</a> )の機能開発をしていて、Vue.js, jQuery, Ruby on Railsとかを使っているWebエンジニア1年目のペーペーです。これ以下はだらだらと書くので読む必要はないと思います！</p>\n\n<h2>\n<span id=\"検索編1--v-for-ネスト-でぐぐった\" class=\"fragment\"></span><a href=\"#%E6%A4%9C%E7%B4%A2%E7%B7%A81--v-for-%E3%83%8D%E3%82%B9%E3%83%88-%E3%81%A7%E3%81%90%E3%81%90%E3%81%A3%E3%81%9F\"><i class=\"fa fa-link\"></i></a>検索編1 [ v-for ネスト ]でぐぐった</h2>\n\n<p>私のドハマリ日のまずはじめはGoogle先生に頼ろうとして、日本語での検索からスタートしました。</p>\n\n<div class=\"code-frame\" data-lang=\"js\"><div class=\"highlight\"><pre><code><span class=\"kd\">var</span> <span class=\"nx\">doc</span> <span class=\"o\">=</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">h3 &gt; a</span><span class=\"dl\">'</span><span class=\"p\">);</span>\n<span class=\"kd\">var</span> <span class=\"nx\">tmp</span> <span class=\"o\">=</span> <span class=\"dl\">\"\"</span><span class=\"p\">;</span>\n<span class=\"nx\">doc</span><span class=\"p\">.</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">,</span><span class=\"nx\">index</span><span class=\"p\">){</span>\n   <span class=\"c1\">// tmp += index + '. ' + val.innerHTML + \"\\n\";</span>\n   <span class=\"nx\">tmp</span> <span class=\"o\">+=</span> <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">index</span><span class=\"o\">+</span><span class=\"mi\">1</span><span class=\"p\">}</span><span class=\"s2\">. </span><span class=\"p\">${</span><span class=\"nx\">val</span><span class=\"p\">.</span><span class=\"nx\">innerHTML</span><span class=\"p\">}</span><span class=\"s2\"> \\n`</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">tmp</span><span class=\"p\">);</span>\n</code></pre></div></div>\n\n<ol>\n<li>リストレンダリング — Vue.js </li>\n<li>体で覚えるVue.js - v-repeatネスト編 〜 JSおくのほそ道 #027 - Qiita </li>\n<li>vue.js - Nested arrays of objects and v-for - Stack Overflow </li>\n<li>Vue.jsの入れ子のComponentで {{ Hoge.fuga }} を渡したいだけの人生 </li>\n<li>【Vue.js】v-forでリスト表示してみる – Snaplog </li>\n<li>Vue.js で el がネストしてる場合の処理 · GitHub </li>\n<li>Vue.jsでv-repeatをネストするには - console.lealog(); </li>\n<li>v-forとv-ifでリストレンダリング制御したいと思っていた俺がアホだった </li>\n<li>Vue.js で文字やリストを動的に表示する | Cubix </li>\n<li>Vue.jsメモ </li>\n</ol>\n\n<p>唯一それっぽい記事がでてきたのは<a href=\"https://qiita.com/hosomichi/items/6f22ebd15bcc0afe1ab0\" id=\"reference-f7d3e15d50059aa0a459\">体で覚えるVue.js - v-repeatネスト編 〜 JSおくのほそ道 #027 - Qiita</a>でしたがv-repeatのネストでvue.jsのversion0.12の環境ではこれが正解みたいです。</p>\n\n<p>そう。日本語で情報がまったく出てこなかったのです。<br>\nこれは同じところにハマるひとのためにもQiitaに書かなきゃねと思って今回の記事を書いてます〜</p>\n\n<h2>\n<span id=\"公式ドキュメントを漁る\" class=\"fragment\"></span><a href=\"#%E5%85%AC%E5%BC%8F%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%82%92%E6%BC%81%E3%82%8B\"><i class=\"fa fa-link\"></i></a>公式ドキュメントを漁る</h2>\n\n<p>ここからが長かったのですが、公式ドキュメントを読みこんだり、v-repeatは本当に動かないのかなと試したり、配列のlengthを取得してぐるぐるしようとしたりしてました。</p>\n\n<p>公式ドキュメントの読みこみついでにタイポ修正の <a href=\"https://github.com/vuejs/jp.vuejs.org/pull/333\" rel=\"nofollow noopener\" target=\"_blank\">PR</a> を、前職の同僚 <a href=\"https://qiita.com/re-fort\">@ re-fort</a> に手伝ってもらいながら出したりしました。初めてのOSS系のPRで緊張しながら出したら1分ほどで <a href=\"https://qiita.com/kazupon\">@ kazupon</a> さんにマージされたので「平日の昼間にはやっ」と思ったのですが、こちらも仕事中にPR出したのでそんなものかもしれないですね。</p>\n\n<h2>\n<span id=\"検索編2--v-for-nest-でぐぐった\" class=\"fragment\"></span><a href=\"#%E6%A4%9C%E7%B4%A2%E7%B7%A82--v-for-nest-%E3%81%A7%E3%81%90%E3%81%90%E3%81%A3%E3%81%9F\"><i class=\"fa fa-link\"></i></a>検索編2 [ v-for nest ]でぐぐった</h2>\n\n<ol>\n<li>vue.js - Nested arrays of objects and v-for - Stack Overflow </li>\n<li>vuejs2 - Vue.js v-for nested in Table - Stack Overflow </li>\n<li>リストレンダリング — Vue.js </li>\n<li>Nested v-for question - Laracasts </li>\n<li>v-forとv-ifでリストレンダリング制御したいと思っていた俺がアホだった。 - Qiita </li>\n<li>Vue.jsの入れ子のComponentで {{ Hoge.fuga }} を渡したいだけの人生 </li>\n<li>体で覚えるVue.js - v-repeatネスト編 〜 JSおくのほそ道 #027 - Qiita </li>\n<li>Vue.jsでv-repeatをネストするには - console.lealog(); </li>\n<li>v-ref inside v-for is not defined · Issue #2044 · vuejs/vue · GitHub </li>\n<li>How do I create a nested v-for · Issue #3465 · vuejs/vue · GitHub </li>\n</ol>\n\n<p>日本語は10件に出てこなかったのに、英語だと一番上にでてきた。。<br>\nありがとうStack Overflow。</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37534249/nested-arrays-of-objects-and-v-for\" rel=\"nofollow noopener\" target=\"_blank\">Nested arrays of objects and v-for</a></p>\n\n<p>これが今回の教訓ですね。英語で調べたら一発ででてきました。<br><br>\n最初から英語で検索すればよかったと思います。英語嫌いなひともぜひ調べ物は英語で。</p>\n\n<p>調べ物は</p>\n\n<ol>\n<li>日本語で検索する</li>\n<li>ドキュメント読む</li>\n<li>英語で検索する</li>\n</ol>\n\n<p>の３つをちゃんと全部やりましょう。</p>\n\n<h2>\n<span id=\"最終的な微修正\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E7%B5%82%E7%9A%84%E3%81%AA%E5%BE%AE%E4%BF%AE%E6%AD%A3\"><i class=\"fa fa-link\"></i></a>最終的な微修正</h2>\n\n<p>v-forでネストできるとわかったあとはまあ問題もなく順調にコーディングが終わり、最終的には以下のような感じに落ち着きました。</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><code><span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">'demo'</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;div</span> <span class=\"na\">v-for=</span><span class=\"s\">'category in categories'</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;h2&gt;</span>{{ category.name }}<span class=\"nt\">&lt;/h2&gt;</span>\n    <span class=\"nt\">&lt;ul</span> <span class=\"na\">v-for=</span><span class=\"s\">'blog in category.blogs'</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;li&gt;</span>{{blog.title}} - {{blog.img}}<span class=\"nt\">&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;/ul&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</code></pre></div></div>\n\n<p>上記のように書くとブログを持っていないカテゴリも表示してしまうので<code>&lt;template&gt;</code>と<code>v-if</code>でなんとなく制御してみました。</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><code><span class=\"nt\">&lt;script </span><span class=\"na\">src=</span><span class=\"s\">\"https://unpkg.com/vue@2.5.3/dist/vue.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n\n<span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">'demo'</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;template</span> <span class=\"na\">v-for=</span><span class=\"s\">'category in categories'</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">v-if=</span><span class=\"s\">\"category.blogs.length &gt; 0\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;h2&gt;</span>{{category.name}}<span class=\"nt\">&lt;/h2&gt;</span>\n      <span class=\"nt\">&lt;ul&gt;</span>\n        <span class=\"nt\">&lt;li</span> <span class=\"na\">v-for=</span><span class=\"s\">'blog in category.blogs'</span><span class=\"nt\">&gt;</span>{{blog.title}} - {{blog.img}}<span class=\"nt\">&lt;/li&gt;</span>\n      <span class=\"nt\">&lt;/ul&gt;</span>\n    <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;/template&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</code></pre></div></div>\n\n<h2>\n<span id=\"まとめ\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>まとめ</h2>\n\n<ol>\n<li>v-forはネストできる</li>\n<li>検索はちゃんと英語でも調べる</li>\n</ol>\n","body":"# v-forをnestするために\n\nおつかれさまです。先日のVue.js meetup#6はお疲れ様でした。ピンクの髪色のイケメンさんすごく楽しかったです。:grinning:\n記事に間違いがあればPRでもください〜〜〜！！！\n\nVue.js アドベントカレンダー2 15日目の記事です。\nhttps://qiita.com/advent-calendar/2017/vue2\n\n## やりたいこと\n\n```html\n\n<div v-for>\n  <div v-for>\n    <div v-for>\n      v-forをネストしてデータをすべて出力したい。\n    </div>\n  </div>\n</div>\n\n````\n\n## 今回扱うデータ\n\nブログのカテゴリごとに記事を出力する。\n\n> データ：カテゴリ(数：0以上)ごとにブログ(数：0~3)をもたせています。\n> ブログにはタイトルと画像URLを持たせています。\n\n![img](https://raw.githubusercontent.com/ykhirao/qiita/master/v_for_nest/assets/ss%202017-12-11%2017.41.52.jpg)\n\n## v-forをnestするには同じ名前を使うだけ\n\n同じ変数名を使ってやればデータにアクセスできるです。\n\n```html\n<div v-for='category in categories'>\n  <div v-for='blog in category.blogs'>\n    <div>{{blog.title}}</div>\n    <div>{{blog.text}}</div>\n  </div>\n</div>\n```\n\n## 完成形\n \n [JSFiddle](https://jsfiddle.net/de6ohg2z/) においてあるので動作はそちらを確認ください。\n \n> データ：カテゴリ(複数、0~)ごとにブログ(複数、0~3)をもたせています。\n\n- カテゴリ1\n  - タイトル1 - https://goo.gl/hvjbc4\n  - タイトル2 - https://goo.gl/hvjbc4\n  - タイトル3 - https://goo.gl/hvjbc4\n- カテゴリ2(ブログ記事がなければカテゴリも非表示)\n- カテゴリ3\n  - タイトル1 - https://goo.gl/hvjbc4\n  - タイトル2 - https://goo.gl/hvjbc4\n\nこんな感じになるはずです。\n\n## コード\n\nhtmlとJSは以下にも書いているのでそちらでも確認できます。\n\n```html\n<script src=\"https://unpkg.com/vue@2.5.3/dist/vue.js\"></script>\n\n<div id='demo'>\n  <template v-for='category in categories'>\n    <div v-if=\"category.blogs.length > 0\">\n      <h2>{{category.name}}</h2>\n      <ul>\n        <li v-for='blog in category.blogs'>{{blog.title}} - {{blog.img}}</li>\n      </ul>\n    </div>\n  </template>\n</div>\n```\n\n```javascript\nnew Vue({\n  el: '#demo',\n  data: {\n    categories: [\n      { \n        name: 'カテゴリ1',\n        blogs: [\n          {\n            title: \"タイトル1\",\n            img: 'https://goo.gl/hvjbc4'\n          },\n          {\n            title: \"タイトル2\",\n            img: 'https://goo.gl/hvjbc4'\n          },\n          {\n            title: \"タイトル3\",\n            img: 'https://goo.gl/hvjbc4'\n          }\n        ]\n      },\n      { \n        name: 'カテゴリ2',\n        blogs: []\n      },\n      { \n        name: 'カテゴリ3',\n        blogs: [\n          {\n            title: \"タイトル1\",\n            img: 'https://goo.gl/hvjbc4'\n          },\n          {\n            title: \"タイトル2\",\n            img: 'https://goo.gl/hvjbc4'\n          }\n        ]\n      }\n    ]\n  }\n})\n```\n\n\n# いろいろ試した話\n\n弊社ではCMSを開発しているのですが、そこでかなりの時間ハマってしまったので共有しておこうと思い記事を書かせていただきました。\n\n普段は、CMS( https://start.eat.auto/ )の機能開発をしていて、Vue.js, jQuery, Ruby on Railsとかを使っているWebエンジニア1年目のペーペーです。これ以下はだらだらと書くので読む必要はないと思います！\n\n## 検索編1 [ v-for ネスト ]でぐぐった\n\n私のドハマリ日のまずはじめはGoogle先生に頼ろうとして、日本語での検索からスタートしました。\n\n```js\nvar doc = document.querySelectorAll('h3 > a');\nvar tmp = \"\";\ndoc.forEach(function(val,index){\n   // tmp += index + '. ' + val.innerHTML + \"\\n\";\n   tmp += `${index+1}. ${val.innerHTML} \\n`;\n});\nconsole.log(tmp);\n```\n\n1. リストレンダリング — Vue.js \n1. 体で覚えるVue.js - v-repeatネスト編 〜 JSおくのほそ道 #027 - Qiita \n1. vue.js - Nested arrays of objects and v-for - Stack Overflow \n1. Vue.jsの入れ子のComponentで {{ Hoge.fuga }} を渡したいだけの人生 \n1. 【Vue.js】v-forでリスト表示してみる – Snaplog \n1. Vue.js で el がネストしてる場合の処理 · GitHub \n1. Vue.jsでv-repeatをネストするには - console.lealog(); \n1. v-forとv-ifでリストレンダリング制御したいと思っていた俺がアホだった \n1. Vue.js で文字やリストを動的に表示する | Cubix \n1. Vue.jsメモ \n\n唯一それっぽい記事がでてきたのは[体で覚えるVue.js - v-repeatネスト編 〜 JSおくのほそ道 #027 - Qiita](https://qiita.com/hosomichi/items/6f22ebd15bcc0afe1ab0)でしたがv-repeatのネストでvue.jsのversion0.12の環境ではこれが正解みたいです。\n\nそう。日本語で情報がまったく出てこなかったのです。\nこれは同じところにハマるひとのためにもQiitaに書かなきゃねと思って今回の記事を書いてます〜\n\n## 公式ドキュメントを漁る\n\nここからが長かったのですが、公式ドキュメントを読みこんだり、v-repeatは本当に動かないのかなと試したり、配列のlengthを取得してぐるぐるしようとしたりしてました。\n\n公式ドキュメントの読みこみついでにタイポ修正の [PR](https://github.com/vuejs/jp.vuejs.org/pull/333) を、前職の同僚 [@ re-fort](https://qiita.com/re-fort) に手伝ってもらいながら出したりしました。初めてのOSS系のPRで緊張しながら出したら1分ほどで [@ kazupon](https://qiita.com/kazupon) さんにマージされたので「平日の昼間にはやっ」と思ったのですが、こちらも仕事中にPR出したのでそんなものかもしれないですね。\n\n## 検索編2 [ v-for nest ]でぐぐった\n\n1. vue.js - Nested arrays of objects and v-for - Stack Overflow \n1. vuejs2 - Vue.js v-for nested in Table - Stack Overflow \n1. リストレンダリング — Vue.js \n1. Nested v-for question - Laracasts \n1. v-forとv-ifでリストレンダリング制御したいと思っていた俺がアホだった。 - Qiita \n1. Vue.jsの入れ子のComponentで {{ Hoge.fuga }} を渡したいだけの人生 \n1. 体で覚えるVue.js - v-repeatネスト編 〜 JSおくのほそ道 #027 - Qiita \n1. Vue.jsでv-repeatをネストするには - console.lealog(); \n1. v-ref inside v-for is not defined · Issue #2044 · vuejs/vue · GitHub \n1. How do I create a nested v-for · Issue #3465 · vuejs/vue · GitHub \n\n日本語は10件に出てこなかったのに、英語だと一番上にでてきた。。\nありがとうStack Overflow。\n\n[Nested arrays of objects and v-for](https://stackoverflow.com/questions/37534249/nested-arrays-of-objects-and-v-for)\n\nこれが今回の教訓ですね。英語で調べたら一発ででてきました。  \n最初から英語で検索すればよかったと思います。英語嫌いなひともぜひ調べ物は英語で。\n\n調べ物は\n\n1. 日本語で検索する\n1. ドキュメント読む\n1. 英語で検索する\n\nの３つをちゃんと全部やりましょう。\n\n## 最終的な微修正\n\nv-forでネストできるとわかったあとはまあ問題もなく順調にコーディングが終わり、最終的には以下のような感じに落ち着きました。\n\n```html\n<div id='demo'>\n  <div v-for='category in categories'>\n    <h2>{{ category.name }}</h2>\n    <ul v-for='blog in category.blogs'>\n      <li>{{blog.title}} - {{blog.img}}</li>\n    </ul>\n  </div>\n</div>\n```\n\n上記のように書くとブログを持っていないカテゴリも表示してしまうので`<template>`と`v-if`でなんとなく制御してみました。\n\n```html\n<script src=\"https://unpkg.com/vue@2.5.3/dist/vue.js\"></script>\n\n<div id='demo'>\n  <template v-for='category in categories'>\n    <div v-if=\"category.blogs.length > 0\">\n      <h2>{{category.name}}</h2>\n      <ul>\n        <li v-for='blog in category.blogs'>{{blog.title}} - {{blog.img}}</li>\n      </ul>\n    </div>\n  </template>\n</div>\n```\n\n## まとめ\n1. v-forはネストできる\n1. 検索はちゃんと英語でも調べる\n\n\n\n\n","coediting":false,"comments_count":0,"created_at":"2017-12-11T12:34:57+09:00","group":null,"id":"cf05e949e14aaac7f757","likes_count":64,"private":false,"reactions_count":0,"stocks_count":57,"tags":[{"name":"JavaScript","versions":[]},{"name":"Vue.js","versions":[]},{"name":"フロントエンド","versions":[]}],"title":"Vue.jsでv-forをネストする","updated_at":"2018-06-19T18:47:25+09:00","url":"https://qiita.com/ykhirao/items/cf05e949e14aaac7f757","user":{"description":"Web Developer For 6 years.\r\nPHP/Laravel && (React OR Vue.js)\r\nTypeScript/node.js\r\n\r\n業務委託の依頼とかはWantedlyとかからでお願いします！","facebook_id":"","followees_count":38,"followers_count":98,"github_login_name":"ykhirao","id":"ykhirao","items_count":64,"linkedin_id":"","location":"Tokyo, Japan","name":"yk","organization":"","permanent_id":112929,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/profile-images/1639030792","team_only":false,"twitter_screen_name":"ykhirao","website_url":"https://www.wantedly.com/id/ykhirao"},"page_views_count":null,"team_membership":null,"organization_url_name":null}},"path":"posts/cf05e949e14aaac7f757"}
