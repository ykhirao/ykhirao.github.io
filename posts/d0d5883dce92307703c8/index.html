<!DOCTYPE html><html lang="en"><head><meta name="generator" content="React Static"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><link rel="preload" as="script" href="/templates/styles.ce528c12.js"/><link rel="preload" as="script" href="/templates/vendors~main.991a9778.js"/><link rel="preload" as="script" href="/main.e4c894d8.js"/><link rel="preload" as="style" href="/styles.642cfcb4.css"/><link rel="stylesheet" href="/styles.642cfcb4.css"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png"/><link rel="manifest" href="/manifest.json"/><meta name="mobile-web-app-capable" content="yes"/><meta name="theme-color" content="#fff"/><meta name="application-name"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="167x167" href="/apple-touch-icon-167x167.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/apple-touch-icon-1024x1024.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="apple-mobile-web-app-title"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-640x1136.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-750x1334.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-828x1792.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1125x2436.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2208.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2688.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1536x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2224.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2388.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-2048x2732.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1620x2160.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1136x640.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1334x750.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1792x828.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2436x1125.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2208x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2688x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2048x1536.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2224x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2388x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2732x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2160x1620.png"/><link rel="icon" type="image/png" sizes="228x228" href="/coast-228x228.png"/><meta name="msapplication-TileColor" content="#fff"/><meta name="msapplication-TileImage" content="/mstile-144x144.png"/><meta name="msapplication-config" content="/browserconfig.xml"/><link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json"/></head><body><div id="root"><div style="outline:none" tabindex="-1"><nav class="navbar is-dark is-fixed-top" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item" href="/">Home</a><a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div><div id="navbarBasicExample" class="navbar-menu "><div class="navbar-start"><a class="navbar-item" href="/posts">Posts</a><a class="navbar-item" href="/events">Events</a><a class="navbar-item" href="/github">GitHub</a></div></div></div></nav><div class="container"><div class="is-primary" style="padding:4.5rem 0.5rem"><div style="outline:none" tabindex="-1"><div><a href="/posts">&lt;<!-- --> Back</a><br/><h3>【React】Input属性でタブを押したときの初期フォーカス位置を調整する</h3><article class="md-body"><h1 data-sourcepos="2:1-2:8">
<span id="結果" class="fragment"></span><a href="#%E7%B5%90%E6%9E%9C"><i class="fa fa-link"></i></a>結果</h1>
<p data-sourcepos="4:1-4:24">SelectionAPIを使った</p>
<p data-sourcepos="6:1-6:55"><iframe id="qiita-embed-content__f42aa32504c5ea27129b7c70e817be13" src="https://qiita.com/embed-contents/link-card#qiita-embed-content__f42aa32504c5ea27129b7c70e817be13" data-content="https%3A%2F%2Fdeveloper.mozilla.org%2Fja%2Fdocs%2FWeb%2FAPI%2FSelection" frameborder="0" scrolling="no" loading="lazy" style="width:100%;" height="29">
</iframe>
</p>
<p data-sourcepos="8:1-8:134"><a href="https://camo.qiitausercontent.com/c03535952cd145101380aeb089aa826b32bb763f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f38303461393933332d646533322d323666632d373430342d3831343734373138356432632e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F804a9933-de32-26fc-7404-814747185d2c.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d8d9bf0c9a1f5755fb977203989bbfac" alt="ezgif-4-d89ef571cc.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/804a9933-de32-26fc-7404-814747185d2c.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F804a9933-de32-26fc-7404-814747185d2c.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1b5cbc88c056fbc9f31afab9e34d46ef 1x" loading="lazy"></a></p>
<p data-sourcepos="11:1-12:84">めっちゃいろんなことを検索したけどreact関係なくSelectionAPIでやるのが便利だと思った次第。<br>
普通にuseRefのドキュメントとか見てたけどこれでいいのでは。</p>
<div class="code-frame" data-lang="js" data-sourcepos="15:1-17:3"><div class="highlight"><pre><code><span class="nb">window</span><span class="p">.</span><span class="nf">getSelection</span><span class="p">().</span><span class="nf">collapseToStart</span><span class="p">()</span>
</code></pre></div></div>
<h2 data-sourcepos="20:1-20:45">
<span id="コードとコードサンドボックス" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A8%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B5%E3%83%B3%E3%83%89%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9"><i class="fa fa-link"></i></a>コードとコードサンドボックス</h2>
<p data-sourcepos="22:1-22:82"><iframe id="qiita-embed-content__96545f3872668a88e646e3b07276ba55" src="https://qiita.com/embed-contents/code-sandbox#qiita-embed-content__96545f3872668a88e646e3b07276ba55" data-content="https%3A%2F%2Fcodesandbox.io%2Fembed%2Fcn9r7g%3Fview%3DEditor%2B%252B%2BPreview%26module%3D%252Fsrc%252FApp.js" frameborder="0" scrolling="no" loading="lazy" style="width:100%;height:500px;">
</iframe>
</p>
<div class="code-frame" data-lang="jsx" data-sourcepos="25:1-65:3"><div class="highlight"><pre><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useRef</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./styles.css</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nf">useRef</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">ref</span><span class="p">?.</span><span class="nx">current</span><span class="p">?.</span><span class="nf">focus</span><span class="p">(),</span> <span class="p">[</span><span class="nx">ref</span><span class="p">?.</span><span class="nx">current</span><span class="p">]);</span>

  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>タブ押したときのフォーカス位置<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">ref</span><span class="p">=</span><span class="si">{</span><span class="nx">ref</span><span class="si">}</span> <span class="na">defaultValue</span><span class="p">=</span><span class="s">"初期選択"</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">defaultValue</span><span class="p">=</span><span class="s">"何もなしは全選択"</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span>
          <span class="na">onFocus</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">?.</span><span class="nf">getSelection</span><span class="p">().</span><span class="nf">collapseToStart</span><span class="p">()</span><span class="si">}</span>
          <span class="na">defaultValue</span><span class="p">=</span><span class="s">"先頭カーソル"</span>
        <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span>
          <span class="na">onFocus</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">?.</span><span class="nf">getSelection</span><span class="p">().</span><span class="nf">collapseToEnd</span><span class="p">()</span><span class="si">}</span>
          <span class="na">defaultValue</span><span class="p">=</span><span class="s">"末端カーソル"</span>
        <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span>
          <span class="na">onFocus</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">?.</span><span class="nf">getSelection</span><span class="p">().</span><span class="nf">deleteFromDocument</span><span class="p">()</span><span class="si">}</span>
          <span class="na">defaultValue</span><span class="p">=</span><span class="s">"選択を削除"</span>
        <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

</code></pre></div></div>
</article></div></div></div></div><footer class="footer"><div class="content has-text-centered"><p>last uploaded at <!-- -->2024/01/08</p><p>© 2021 ykhirao</p></div></footer></div></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/src/components/QiitaPost\",\"sharedHashesByProp\":{},\"data\":{\"post\":{\"rendered_body\":\"<h1 data-sourcepos=\\\"2:1-2:8\\\">\\n<span id=\\\"\u7D50\u679C\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E7%B5%90%E6%9E%9C\\\"><i class=\\\"fa fa-link\\\"></i></a>\u7D50\u679C</h1>\\n<p data-sourcepos=\\\"4:1-4:24\\\">SelectionAPI\u3092\u4F7F\u3063\u305F</p>\\n<p data-sourcepos=\\\"6:1-6:55\\\"><iframe id=\\\"qiita-embed-content__f42aa32504c5ea27129b7c70e817be13\\\" src=\\\"https://qiita.com/embed-contents/link-card#qiita-embed-content__f42aa32504c5ea27129b7c70e817be13\\\" data-content=\\\"https%3A%2F%2Fdeveloper.mozilla.org%2Fja%2Fdocs%2FWeb%2FAPI%2FSelection\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" loading=\\\"lazy\\\" style=\\\"width:100%;\\\" height=\\\"29\\\">\\n</iframe>\\n</p>\\n<p data-sourcepos=\\\"8:1-8:134\\\"><a href=\\\"https://camo.qiitausercontent.com/c03535952cd145101380aeb089aa826b32bb763f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f38303461393933332d646533322d323666632d373430342d3831343734373138356432632e676966\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F804a9933-de32-26fc-7404-814747185d2c.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d8d9bf0c9a1f5755fb977203989bbfac\\\" alt=\\\"ezgif-4-d89ef571cc.gif\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/804a9933-de32-26fc-7404-814747185d2c.gif\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F804a9933-de32-26fc-7404-814747185d2c.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1b5cbc88c056fbc9f31afab9e34d46ef 1x\\\" loading=\\\"lazy\\\"></a></p>\\n<p data-sourcepos=\\\"11:1-12:84\\\">\u3081\u3063\u3061\u3083\u3044\u308D\u3093\u306A\u3053\u3068\u3092\u691C\u7D22\u3057\u305F\u3051\u3069react\u95A2\u4FC2\u306A\u304FSelectionAPI\u3067\u3084\u308B\u306E\u304C\u4FBF\u5229\u3060\u3068\u601D\u3063\u305F\u6B21\u7B2C\u3002<br>\\n\u666E\u901A\u306BuseRef\u306E\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u3068\u304B\u898B\u3066\u305F\u3051\u3069\u3053\u308C\u3067\u3044\u3044\u306E\u3067\u306F\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"js\\\" data-sourcepos=\\\"15:1-17:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"nb\\\">window</span><span class=\\\"p\\\">.</span><span class=\\\"nf\\\">getSelection</span><span class=\\\"p\\\">().</span><span class=\\\"nf\\\">collapseToStart</span><span class=\\\"p\\\">()</span>\\n</code></pre></div></div>\\n<h2 data-sourcepos=\\\"20:1-20:45\\\">\\n<span id=\\\"\u30B3\u30FC\u30C9\u3068\u30B3\u30FC\u30C9\u30B5\u30F3\u30C9\u30DC\u30C3\u30AF\u30B9\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A8%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B5%E3%83%B3%E3%83%89%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30B3\u30FC\u30C9\u3068\u30B3\u30FC\u30C9\u30B5\u30F3\u30C9\u30DC\u30C3\u30AF\u30B9</h2>\\n<p data-sourcepos=\\\"22:1-22:82\\\"><iframe id=\\\"qiita-embed-content__96545f3872668a88e646e3b07276ba55\\\" src=\\\"https://qiita.com/embed-contents/code-sandbox#qiita-embed-content__96545f3872668a88e646e3b07276ba55\\\" data-content=\\\"https%3A%2F%2Fcodesandbox.io%2Fembed%2Fcn9r7g%3Fview%3DEditor%2B%252B%2BPreview%26module%3D%252Fsrc%252FApp.js\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" loading=\\\"lazy\\\" style=\\\"width:100%;height:500px;\\\">\\n</iframe>\\n</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"jsx\\\" data-sourcepos=\\\"25:1-65:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"k\\\">import</span> <span class=\\\"p\\\">{</span> <span class=\\\"nx\\\">useRef</span><span class=\\\"p\\\">,</span> <span class=\\\"nx\\\">useEffect</span> <span class=\\\"p\\\">}</span> <span class=\\\"k\\\">from</span> <span class=\\\"dl\\\">\\\"</span><span class=\\\"s2\\\">react</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"p\\\">;</span>\\n<span class=\\\"k\\\">import</span> <span class=\\\"dl\\\">\\\"</span><span class=\\\"s2\\\">./styles.css</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"p\\\">;</span>\\n\\n<span class=\\\"k\\\">export</span> <span class=\\\"k\\\">default</span> <span class=\\\"kd\\\">function</span> <span class=\\\"nf\\\">App</span><span class=\\\"p\\\">()</span> <span class=\\\"p\\\">{</span>\\n  <span class=\\\"kd\\\">const</span> <span class=\\\"nx\\\">ref</span> <span class=\\\"o\\\">=</span> <span class=\\\"nf\\\">useRef</span><span class=\\\"p\\\">(</span><span class=\\\"kc\\\">null</span><span class=\\\"p\\\">);</span>\\n\\n  <span class=\\\"nf\\\">useEffect</span><span class=\\\"p\\\">(()</span> <span class=\\\"o\\\">=&gt;</span> <span class=\\\"nx\\\">ref</span><span class=\\\"p\\\">?.</span><span class=\\\"nx\\\">current</span><span class=\\\"p\\\">?.</span><span class=\\\"nf\\\">focus</span><span class=\\\"p\\\">(),</span> <span class=\\\"p\\\">[</span><span class=\\\"nx\\\">ref</span><span class=\\\"p\\\">?.</span><span class=\\\"nx\\\">current</span><span class=\\\"p\\\">]);</span>\\n\\n  <span class=\\\"k\\\">return </span><span class=\\\"p\\\">(</span>\\n    <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">div</span> <span class=\\\"na\\\">className</span><span class=\\\"p\\\">=</span><span class=\\\"s\\\">\\\"App\\\"</span><span class=\\\"p\\\">&gt;</span>\\n      <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">h1</span><span class=\\\"p\\\">&gt;</span>\u30BF\u30D6\u62BC\u3057\u305F\u3068\u304D\u306E\u30D5\u30A9\u30FC\u30AB\u30B9\u4F4D\u7F6E<span class=\\\"p\\\">&lt;/</span><span class=\\\"nt\\\">h1</span><span class=\\\"p\\\">&gt;</span>\\n      <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n        <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">input</span> <span class=\\\"na\\\">ref</span><span class=\\\"p\\\">=</span><span class=\\\"si\\\">{</span><span class=\\\"nx\\\">ref</span><span class=\\\"si\\\">}</span> <span class=\\\"na\\\">defaultValue</span><span class=\\\"p\\\">=</span><span class=\\\"s\\\">\\\"\u521D\u671F\u9078\u629E\\\"</span> <span class=\\\"p\\\">/&gt;</span>\\n      <span class=\\\"p\\\">&lt;/</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n      <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n        <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">input</span> <span class=\\\"na\\\">defaultValue</span><span class=\\\"p\\\">=</span><span class=\\\"s\\\">\\\"\u4F55\u3082\u306A\u3057\u306F\u5168\u9078\u629E\\\"</span> <span class=\\\"p\\\">/&gt;</span>\\n      <span class=\\\"p\\\">&lt;/</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n      <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n        <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">input</span>\\n          <span class=\\\"na\\\">onFocus</span><span class=\\\"p\\\">=</span><span class=\\\"si\\\">{</span><span class=\\\"p\\\">()</span> <span class=\\\"o\\\">=&gt;</span> <span class=\\\"nb\\\">window</span><span class=\\\"p\\\">?.</span><span class=\\\"nf\\\">getSelection</span><span class=\\\"p\\\">().</span><span class=\\\"nf\\\">collapseToStart</span><span class=\\\"p\\\">()</span><span class=\\\"si\\\">}</span>\\n          <span class=\\\"na\\\">defaultValue</span><span class=\\\"p\\\">=</span><span class=\\\"s\\\">\\\"\u5148\u982D\u30AB\u30FC\u30BD\u30EB\\\"</span>\\n        <span class=\\\"p\\\">/&gt;</span>\\n      <span class=\\\"p\\\">&lt;/</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n      <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n        <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">input</span>\\n          <span class=\\\"na\\\">onFocus</span><span class=\\\"p\\\">=</span><span class=\\\"si\\\">{</span><span class=\\\"p\\\">()</span> <span class=\\\"o\\\">=&gt;</span> <span class=\\\"nb\\\">window</span><span class=\\\"p\\\">?.</span><span class=\\\"nf\\\">getSelection</span><span class=\\\"p\\\">().</span><span class=\\\"nf\\\">collapseToEnd</span><span class=\\\"p\\\">()</span><span class=\\\"si\\\">}</span>\\n          <span class=\\\"na\\\">defaultValue</span><span class=\\\"p\\\">=</span><span class=\\\"s\\\">\\\"\u672B\u7AEF\u30AB\u30FC\u30BD\u30EB\\\"</span>\\n        <span class=\\\"p\\\">/&gt;</span>\\n      <span class=\\\"p\\\">&lt;/</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n      <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n        <span class=\\\"p\\\">&lt;</span><span class=\\\"nt\\\">input</span>\\n          <span class=\\\"na\\\">onFocus</span><span class=\\\"p\\\">=</span><span class=\\\"si\\\">{</span><span class=\\\"p\\\">()</span> <span class=\\\"o\\\">=&gt;</span> <span class=\\\"nb\\\">window</span><span class=\\\"p\\\">?.</span><span class=\\\"nf\\\">getSelection</span><span class=\\\"p\\\">().</span><span class=\\\"nf\\\">deleteFromDocument</span><span class=\\\"p\\\">()</span><span class=\\\"si\\\">}</span>\\n          <span class=\\\"na\\\">defaultValue</span><span class=\\\"p\\\">=</span><span class=\\\"s\\\">\\\"\u9078\u629E\u3092\u524A\u9664\\\"</span>\\n        <span class=\\\"p\\\">/&gt;</span>\\n      <span class=\\\"p\\\">&lt;/</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n    <span class=\\\"p\\\">&lt;/</span><span class=\\\"nt\\\">div</span><span class=\\\"p\\\">&gt;</span>\\n  <span class=\\\"p\\\">);</span>\\n<span class=\\\"p\\\">}</span>\\n\\n</code></pre></div></div>\\n\",\"body\":\"\\n# \u7D50\u679C\\n\\nSelectionAPI\u3092\u4F7F\u3063\u305F\\n\\nhttps://developer.mozilla.org/ja/docs/Web/API/Selection\\n\\n![ezgif-4-d89ef571cc.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/804a9933-de32-26fc-7404-814747185d2c.gif)\\n\\n\\n\u3081\u3063\u3061\u3083\u3044\u308D\u3093\u306A\u3053\u3068\u3092\u691C\u7D22\u3057\u305F\u3051\u3069react\u95A2\u4FC2\u306A\u304FSelectionAPI\u3067\u3084\u308B\u306E\u304C\u4FBF\u5229\u3060\u3068\u601D\u3063\u305F\u6B21\u7B2C\u3002\\n\u666E\u901A\u306BuseRef\u306E\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u3068\u304B\u898B\u3066\u305F\u3051\u3069\u3053\u308C\u3067\u3044\u3044\u306E\u3067\u306F\u3002\\n\\n\\n```js\\nwindow.getSelection().collapseToStart()\\n```\\n\\n\\n## \u30B3\u30FC\u30C9\u3068\u30B3\u30FC\u30C9\u30B5\u30F3\u30C9\u30DC\u30C3\u30AF\u30B9\\n\\nhttps://codesandbox.io/embed/cn9r7g?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.js\\n\\n\\n```jsx\\nimport { useRef, useEffect } from \\\"react\\\";\\nimport \\\"./styles.css\\\";\\n\\nexport default function App() {\\n  const ref = useRef(null);\\n\\n  useEffect(() => ref?.current?.focus(), [ref?.current]);\\n\\n  return (\\n    <div className=\\\"App\\\">\\n      <h1>\u30BF\u30D6\u62BC\u3057\u305F\u3068\u304D\u306E\u30D5\u30A9\u30FC\u30AB\u30B9\u4F4D\u7F6E</h1>\\n      <div>\\n        <input ref={ref} defaultValue=\\\"\u521D\u671F\u9078\u629E\\\" />\\n      </div>\\n      <div>\\n        <input defaultValue=\\\"\u4F55\u3082\u306A\u3057\u306F\u5168\u9078\u629E\\\" />\\n      </div>\\n      <div>\\n        <input\\n          onFocus={() => window?.getSelection().collapseToStart()}\\n          defaultValue=\\\"\u5148\u982D\u30AB\u30FC\u30BD\u30EB\\\"\\n        />\\n      </div>\\n      <div>\\n        <input\\n          onFocus={() => window?.getSelection().collapseToEnd()}\\n          defaultValue=\\\"\u672B\u7AEF\u30AB\u30FC\u30BD\u30EB\\\"\\n        />\\n      </div>\\n      <div>\\n        <input\\n          onFocus={() => window?.getSelection().deleteFromDocument()}\\n          defaultValue=\\\"\u9078\u629E\u3092\u524A\u9664\\\"\\n        />\\n      </div>\\n    </div>\\n  );\\n}\\n\\n```\\n\",\"coediting\":false,\"comments_count\":0,\"created_at\":\"2023-12-26T18:47:45+09:00\",\"group\":null,\"id\":\"d0d5883dce92307703c8\",\"likes_count\":0,\"private\":false,\"reactions_count\":0,\"stocks_count\":0,\"tags\":[{\"name\":\"JavaScript\",\"versions\":[]},{\"name\":\"React\",\"versions\":[]}],\"title\":\"\u3010React\u3011Input\u5C5E\u6027\u3067\u30BF\u30D6\u3092\u62BC\u3057\u305F\u3068\u304D\u306E\u521D\u671F\u30D5\u30A9\u30FC\u30AB\u30B9\u4F4D\u7F6E\u3092\u8ABF\u6574\u3059\u308B\",\"updated_at\":\"2023-12-29T00:00:59+09:00\",\"url\":\"https://qiita.com/ykhirao/items/d0d5883dce92307703c8\",\"user\":{\"description\":\"Web Developer From 2016.\\r\\nPHP/Laravel && React/TypeScript/Node.js\\r\\n\\r\\n\u696D\u52D9\u59D4\u8A17\u306E\u4F9D\u983C\u3068\u304B\u306FWantedly\u3068\u304B\u304B\u3089\u3067\u304A\u9858\u3044\u3057\u307E\u3059\uFF01\",\"facebook_id\":\"\",\"followees_count\":39,\"followers_count\":100,\"github_login_name\":\"ykhirao\",\"id\":\"ykhirao\",\"items_count\":82,\"linkedin_id\":\"\",\"location\":\"Tokyo, Japan\",\"name\":\"yk\",\"organization\":\"\",\"permanent_id\":112929,\"profile_image_url\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/profile-images/1639030792\",\"team_only\":false,\"twitter_screen_name\":\"ykhirao\",\"website_url\":\"https://www.wantedly.com/id/ykhirao\"},\"page_views_count\":null,\"team_membership\":null,\"organization_url_name\":null,\"slide\":false}},\"path\":\"posts/d0d5883dce92307703c8\",\"sharedData\":{},\"siteData\":{\"updatedAt\":\"2024/01/08\"}}");</script><script defer="" type="text/javascript" src="/templates/styles.ce528c12.js"></script><script defer="" type="text/javascript" src="/templates/vendors~main.991a9778.js"></script><script defer="" type="text/javascript" src="/main.e4c894d8.js"></script></body></html>