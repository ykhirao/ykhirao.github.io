<!DOCTYPE html><html lang="en"><head><meta name="generator" content="React Static"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><link rel="preload" as="script" href="/templates/styles.ee1b85ad.js"/><link rel="preload" as="script" href="/templates/vendors~main.991a9778.js"/><link rel="preload" as="script" href="/main.e4c894d8.js"/><link rel="preload" as="style" href="/styles.642cfcb4.css"/><link rel="stylesheet" href="/styles.642cfcb4.css"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png"/><link rel="manifest" href="/manifest.json"/><meta name="mobile-web-app-capable" content="yes"/><meta name="theme-color" content="#fff"/><meta name="application-name"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="167x167" href="/apple-touch-icon-167x167.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/apple-touch-icon-1024x1024.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="apple-mobile-web-app-title"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-640x1136.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-750x1334.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-828x1792.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1125x2436.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2208.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2688.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1536x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2224.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2388.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-2048x2732.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1620x2160.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1136x640.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1334x750.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1792x828.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2436x1125.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2208x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2688x1242.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2048x1536.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2224x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2388x1668.png"/><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2732x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2160x1620.png"/><link rel="icon" type="image/png" sizes="228x228" href="/coast-228x228.png"/><meta name="msapplication-TileColor" content="#fff"/><meta name="msapplication-TileImage" content="/mstile-144x144.png"/><meta name="msapplication-config" content="/browserconfig.xml"/><link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json"/></head><body><div id="root"><div style="outline:none" tabindex="-1"><nav class="navbar is-dark is-fixed-top" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item" href="/">Home</a><a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div><div id="navbarBasicExample" class="navbar-menu "><div class="navbar-start"><a class="navbar-item" href="/posts">Posts</a><a class="navbar-item" href="/events">Events</a><a class="navbar-item" href="/github">GitHub</a></div></div></div></nav><div class="container"><div class="is-primary" style="padding:4.5rem 0.5rem"><div style="outline:none" tabindex="-1"><div><a href="/posts">&lt;<!-- --> Back</a><br/><h3>2023年GWなのでラズパイ買ってきてWebサーバーとして公開した件</h3><article class="md-body"><h1 data-sourcepos="1:1-1:79">
<span id="gwなのでラズパイ買ってきてwebサーバーとして公開した件" class="fragment"></span><a href="#gw%E3%81%AA%E3%81%AE%E3%81%A7%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4%E8%B2%B7%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%A6web%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%A8%E3%81%97%E3%81%A6%E5%85%AC%E9%96%8B%E3%81%97%E3%81%9F%E4%BB%B6"><i class="fa fa-link"></i></a>GWなのでラズパイ買ってきてWebサーバーとして公開した件</h1>
<p data-sourcepos="3:1-5:81">インストーラーのアップデートなどで過去の記事の内容が古くなっていたので一応最新っぽいものを乗せます。<br>
全世界公開しているので自分でセキュリティの知識を得てから使ってください。責任は持てません。<br>
やばそうなところあったら編集リクエストくださると・・・</p>
<h2 data-sourcepos="7:1-7:27">
<span id="ラズパイ購入する" class="fragment"></span><a href="#%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4%E8%B3%BC%E5%85%A5%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>ラズパイ購入する</h2>
<ul data-sourcepos="9:1-11:0">
<li data-sourcepos="9:1-9:35">メルカリで購入しました</li>
<li data-sourcepos="10:1-11:0"><a href="https://jp.mercari.com/search?keyword=%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4" class="autolink" rel="nofollow noopener" target="_blank">https://jp.mercari.com/search?keyword=ラズパイ</a></li>
</ul>
<h2 data-sourcepos="12:1-12:42">
<span id="ラズパイをインストールする" class="fragment"></span><a href="#%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>ラズパイをインストールする</h2>
<p data-sourcepos="14:1-14:107">2023年にはRaspberry Pi Imagerというインストーラーを使うやり方が主流みたいです。</p>
<ul data-sourcepos="16:1-18:0">
<li data-sourcepos="16:1-16:91">
<a href="https://www.raspberrypi.com/software/" rel="nofollow noopener" target="_blank">公式</a>からダウンロードしましょう。</li>
<li data-sourcepos="17:1-18:0">ここが参考になりました <a href="https://nw-electric.way-nifty.com/blog/2022/05/post-2cdd01.html" class="autolink" rel="nofollow noopener" target="_blank">https://nw-electric.way-nifty.com/blog/2022/05/post-2cdd01.html</a>
</li>
</ul>
<p data-sourcepos="19:1-19:157">初期ユーザー <code>user＝pi、password＝raspberry</code> は2022年からデフォルトで存在しないので、設定から作りましょう。以下参考</p>
<details>
<summary>ラズパイへのアクセスはSSH/CUIのみの方向け</summary>
<p data-sourcepos="24:1-24:163"><a href="https://camo.qiitausercontent.com/b804d5f0b1282445468a9a211930ad2e5ee04c92/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f32613562363864322d393562622d373330612d313130382d3333656464363164393939302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F2a5b68d2-95bb-730a-1108-33edd61d9990.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=028178245d8410debfecb34a301c8374" alt="スクリーンショット 2023-05-07 23.14.09.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/2a5b68d2-95bb-730a-1108-33edd61d9990.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F2a5b68d2-95bb-730a-1108-33edd61d9990.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2aae32760878fc7e6dc23ef27be60e23 1x" loading="lazy"></a></p>
<ul data-sourcepos="27:1-29:0">
<li data-sourcepos="27:1-27:54">OSはPI OS Lite （ダウンロード早いです）</li>
<li data-sourcepos="28:1-29:0">画面右下の設定マークからSSH設定を作れます</li>
</ul>
<p data-sourcepos="30:1-30:103">一応以下設定乗せます。mac側から <code>ssh pi</code> でログインできるようにしてます。</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="32:1-42:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span>vim ~/.ssh/config
<span class="go">
Host pi
</span><span class="gp">  HostName raspberrypi.local #</span><span class="w"> </span>http://192.168.0.23/, <span class="sb">`</span><span class="nv">$ </span>ip addr<span class="sb">`</span>
<span class="go">  User ykhirao
  IdentityFile /Users/ykhirao/.ssh/id_rsa_pi

</span><span class="gp">$</span><span class="w"> </span>ssh pi
<span class="gp">$</span><span class="w"> </span>ykhirao@raspberrypi:~ <span class="err">$</span>
</code></pre></div></div>
</details>
<h2 data-sourcepos="47:1-47:30">
<span id="サーバーを用意する" class="fragment"></span><a href="#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%92%E7%94%A8%E6%84%8F%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>サーバーを用意する</h2>
<p data-sourcepos="49:1-50:126">nginx でも Apacheでも適当なミドルウエアとphpでもnodejsでも何でもいいのでアプリケーションサーバー選ぶ。<br>
何いっているのという方は<a href="https://www.rworks.jp/system/system-column/sys-entry/14865/" rel="nofollow noopener" target="_blank">適当な記事</a>を読む。</p>
<p data-sourcepos="52:1-52:286">今回は <code>nginx x nodejs</code> にしますが、ApacheのC10K問題とかまでアクセスされる予定ないので（ラズパイのメモリ性能とかが先に限界迎えるはず・・・）自分の好きな環境とか身近な記事を参考にするとよいと思います。</p>
<p data-sourcepos="55:1-55:105">上記記事と同様に設定すると、以下のコマンドを入力してサーバーを立ち上げ</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="57:1-59:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span>node index.js
</code></pre></div></div>
<p data-sourcepos="61:1-61:320">同じネットワーク内から <code>http://raspberrypi.local/</code>　か <a href="http://192.168.0.23/" class="autolink" rel="nofollow noopener" target="_blank">http://192.168.0.23/</a> (人によってIP違う可能性あり) にアクセスしたとき <code>nginx</code> のミドルウエアが動き <code>nodejsサーバー</code> にアクセスします。うまく設定できてたら <code>Hello World</code> が表示させましょう。</p>
<details>
<summary>コマンドまとめと参考記事</summary>
<div class="code-frame" data-lang="terminal" data-sourcepos="67:1-94:3"><div class="highlight"><pre><code><span class="gp">#</span><span class="w"> </span>パッケージを最新版へ
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt-get update
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt-get upgrade
<span class="go">
</span><span class="gp">#</span><span class="w"> </span>ミドルウエア
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>nginx <span class="nt">-y</span>
<span class="go">
</span><span class="gp">#</span><span class="w"> </span>nodejsのインストール（nが使いたいのでもろもろやってます）
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>nodejs npm
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>npm <span class="nb">install </span>n <span class="nt">-g</span>
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>n lts
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt purge nodejs npm
<span class="go">
</span><span class="gp">#</span><span class="w"> </span>アプリケーションサーバーの作成
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo mkdir</span> <span class="nt">-p</span> ~/workspace/piapp
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>vi ~/workspace/piapp/index.js
<span class="gp">#</span><span class="w"> </span>下記ファイルを参考に修正する
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>vi /etc/nginx/sites-enabled
<span class="gp">#</span><span class="w"> </span>下記ファイルを参考に修正する
<span class="go">
</span><span class="gp">#</span><span class="w"> </span>アプリケーションサーバーの立ち上げ
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>npm <span class="nb">install </span>nodemon <span class="nt">-g</span>
<span class="gp">$</span><span class="w"> </span>nodemon ~/workspace/piapp/index.js
<span class="go">
</span><span class="gp">#</span><span class="w"> </span>nodejsプロセスが死んでも自動で再起動させるため nodemon を利用してます。
<span class="gp">#</span><span class="w"> </span>必要なければ node ~/workspace/piapp/index.js でよいです。
</code></pre></div></div>
<div class="code-frame" data-lang="javascript" data-sourcepos="96:1-104:3">
<div class="code-lang"><span class="bold">~/workspace/piapp/index.js</span></div>
<div class="highlight"><pre><code><span class="kd">const</span> <span class="nx">http</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">http</span><span class="dl">"</span><span class="p">);</span> 
<span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">createServer</span><span class="p">(</span><span class="nf">function </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">setHeader</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">text/plain</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">end</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello World</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">server</span><span class="p">.</span><span class="nf">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="code-frame" data-lang="/etc/nginx/sites-enabled" data-sourcepos="106:1-111:3"><div class="highlight"><pre><code>	location / {
		try_files $uri $uri/ =404;
		proxy_pass http://localhost:3000;
	}
</code></pre></div></div>
<p data-sourcepos="114:1-114:12">参考記事</p>
<ul data-sourcepos="116:1-118:0">
<li data-sourcepos="116:1-116:153">
<a href="https://hondakenya.work/ubuntu-nginx-node-js/" rel="nofollow noopener" target="_blank">UbuntuサーバーにnginxとNode.jsを入れてWebサーバーを建てる</a>を参考にしました。</li>
<li data-sourcepos="117:1-118:0"><a href="https://qiita.com/cointoss1973/items/c000c4f84ae4b0c166b5" id="reference-5740ff1358697fac06b5">Ubuntu で Node の最新版/推奨版を使う (n コマンド編)</a></li>
</ul>
</details>
<h2 data-sourcepos="121:1-121:78">
<span id="自宅のルーターにポート転送設定して全世界公開します" class="fragment"></span><a href="#%E8%87%AA%E5%AE%85%E3%81%AE%E3%83%AB%E3%83%BC%E3%82%BF%E3%83%BC%E3%81%AB%E3%83%9D%E3%83%BC%E3%83%88%E8%BB%A2%E9%80%81%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%A6%E5%85%A8%E4%B8%96%E7%95%8C%E5%85%AC%E9%96%8B%E3%81%97%E3%81%BE%E3%81%99"><i class="fa fa-link"></i></a>自宅のルーターにポート転送設定して全世界公開します</h2>
<p data-sourcepos="123:1-123:296"><a href="http://raspberrypi.local/" class="autolink" rel="nofollow noopener" target="_blank">http://raspberrypi.local/</a> は同じネットワーク内のPC・スマホ等からしかアクセスできませんが、noipで作った <a href="http://example.hopto.org/" class="autolink" rel="nofollow noopener" target="_blank">http://example.hopto.org/</a> みたいなアドレスにアクセスすると <code>Hello World</code> と表示できたらOKです。 全世界に公開できました。</p>
<p data-sourcepos="125:1-125:21">参考にした記事</p>
<ul data-sourcepos="126:1-127:0">
<li data-sourcepos="126:1-127:0"><a href="https://ichiken-usa.blogspot.com/2022/01/raspi-web-server.html" rel="nofollow noopener" target="_blank">安全にラズパイWebサーバーを世界に公開するための手順</a></li>
</ul>
<p data-sourcepos="128:1-128:78">ポートフォワーディングを使って安全に公開しましょう。</p>
<h3 data-sourcepos="130:1-130:37">
<span id="ファイヤーウォール設定" class="fragment"></span><a href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%A4%E3%83%BC%E3%82%A6%E3%82%A9%E3%83%BC%E3%83%AB%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>ファイヤーウォール設定</h3>
<details>
<summary> Ubuntuのデフォルトのufwで設定 </summary>
<p data-sourcepos="135:1-135:39">ラズパイに上で以下コマンド</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="137:1-148:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>ufw
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>ufw allow http
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>ufw allow https
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>ufw allow ssh
<span class="gp">#</span><span class="w"> </span>sshでアクセスするので必要。失敗したらsshできず終わる。
<span class="go">
</span><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>ufw <span class="nb">enable</span>
<span class="go">
</span><span class="gp">#</span><span class="w"> </span>ラズパイの再起動
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>reboot
</code></pre></div></div>
</details>
<h3 data-sourcepos="153:1-153:14">
<span id="ddns作成" class="fragment"></span><a href="#ddns%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>DDNS作成</h3>
<p data-sourcepos="155:1-155:110">自宅のIPアドレスは定期的に変更されます。以下のようなサイトで確認できます。</p>
<ul data-sourcepos="157:1-159:0">
<li data-sourcepos="157:1-157:112"><a href="https://www.cman.jp/network/support/go_access.cgi" rel="nofollow noopener" target="_blank">アクセス情報【使用中のIPアドレス確認】</a></li>
<li data-sourcepos="158:1-159:0"><a href="https://tarufu.info/jcom-global-ip/" rel="nofollow noopener" target="_blank">JCOMでグローバルIPアドレスを変更しようとした話</a></li>
</ul>
<p data-sourcepos="160:1-160:218">自宅のIPがころころ変わったら、ラズパイにアクセスできないのでもろもろいろいろやってくれるサイトにアカウント作るって話です。詳しくは調べてください。</p>
<details>
<summary>NOIPというサイトを使います</summary>
<p data-sourcepos="165:1-165:185">noipのパスワードは後でJCOMルーター上の設定で必要となるので、共通で使っているもの以外がいいと思います。chromeに覚えさせましょう。</p>
<p data-sourcepos="167:1-167:12">参考記事</p>
<ul data-sourcepos="168:1-169:0">
<li data-sourcepos="168:1-169:0"><a href="https://www.try-e.co.jp/manual/getnoip.pdf" rel="nofollow noopener" target="_blank">No-ip のアカウント及びDDNSサーバーアドレスの取得方法</a></li>
</ul>
</details>
<h3 data-sourcepos="172:1-172:29">
<span id="ルーターのddns設定" class="fragment"></span><a href="#%E3%83%AB%E3%83%BC%E3%82%BF%E3%83%BC%E3%81%AEddns%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>ルーターのDDNS設定</h3>
<details>
<summary> 筆者はJCOMなのでその設定 </summary>
<p data-sourcepos="177:1-177:73"><a href="http://192.168.0.1/" class="autolink" rel="nofollow noopener" target="_blank">http://192.168.0.1/</a> か <a href="http://192.168.100.1/" class="autolink" rel="nofollow noopener" target="_blank">http://192.168.100.1/</a> でアクセスできる。</p>
<p data-sourcepos="179:1-179:55">初期ID/PASSは以下ですが変更しましょう。</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="181:1-184:3"><div class="highlight"><pre><code><span class="go">ID: admin
Password: password
</span></code></pre></div></div>
<p data-sourcepos="186:1-186:103">設定項目は以下スクショを参考に、先程作ったnoipの情報を使ってください。</p>
<p data-sourcepos="188:1-188:162"><a href="https://camo.qiitausercontent.com/6021a8b01a2c828e979f3d1bb628edc12384d28d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f36363063393866622d356433382d616238372d656664322d3065383435643931633238342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F660c98fb-5d38-ab87-efd2-0e845d91c284.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=268ddf14c92b47c73c75e99304df11c1" alt="スクリーンショット 2023-05-08 0.03.54.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/660c98fb-5d38-ab87-efd2-0e845d91c284.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F660c98fb-5d38-ab87-efd2-0e845d91c284.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=709288f2b7a6b52a00ac7a71b3c9db03 1x" loading="lazy"></a></p>
<p data-sourcepos="191:1-191:21">参考にした記事</p>
<ul data-sourcepos="192:1-193:0">
<li data-sourcepos="192:1-193:0"><a href="https://homemadegarbage.com/humax-port" rel="nofollow noopener" target="_blank">HUMAX HG100R-02JG の ポート開放設定</a></li>
</ul>
</details>
<h3 data-sourcepos="196:1-196:43">
<span id="ポートフォワーディング設定" class="fragment"></span><a href="#%E3%83%9D%E3%83%BC%E3%83%88%E3%83%95%E3%82%A9%E3%83%AF%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>ポートフォワーディング設定</h3>
<p data-sourcepos="198:1-198:39">ここまでできたらグローバル</p>
<details>
<summary> 筆者はJCOMなのでその設定 </summary>
<p data-sourcepos="203:1-203:162"><a href="https://camo.qiitausercontent.com/8f78b64e722269090bc87f39034d36412f853087/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f61303433343138652d326530302d356533662d663838382d3833666538356262643161392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa043418e-2e00-5e3f-f888-83fe85bbd1a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b33c037070284010ef24dbe94538d57b" alt="スクリーンショット 2023-05-08 0.12.38.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a043418e-2e00-5e3f-f888-83fe85bbd1a9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa043418e-2e00-5e3f-f888-83fe85bbd1a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5f4325c09dc0e858ddf0be6f3d5c0cca 1x" loading="lazy"></a></p>
</details>
<h2 data-sourcepos="208:1-208:15">
<span id="httpsssl化" class="fragment"></span><a href="#httpsssl%E5%8C%96"><i class="fa fa-link"></i></a>https/ssl化</h2>
<p data-sourcepos="210:1-210:232">最近のcertbotは <a href="https://certbot.eff.org/instructions?ws=nginx&amp;os=ubuntubionic" rel="nofollow noopener" target="_blank">公式サイト</a> で自分のOS等を設定してそのコマンド通りにやるみたいです。過去記事は基本真似しないように。</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="212:1-219:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nt">-y</span> <span class="nb">install </span>snapd
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>snap <span class="nb">install </span>core<span class="p">;</span> <span class="nb">sudo </span>snap refresh core
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt-get remove certbot
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>snap <span class="nb">install</span> <span class="nt">--classic</span> certbot
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /snap/bin/certbot /usr/bin/certbot
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>certbot <span class="nt">--nginx</span>
</code></pre></div></div>
<p data-sourcepos="221:1-221:216">自動処理のためcronの編集。毎月1日、朝4時に更新。 <code>--force-renewal</code> で残り30日を待たずに毎月更新、nginxの再起動付き。 作りたてなので本当に動くかわからない。</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="223:1-226:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>crontab <span class="nt">-u</span> root <span class="nt">-e</span>
<span class="go">00 04 01 * * sudo certbot renew --force-renewal &amp;&amp; sudo systemctl restart nginx
</span></code></pre></div></div>
<p data-sourcepos="228:1-228:106">１時間に5回失敗するとしばらく使えないのでドライランで実行結果だけ見る。</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="230:1-232:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>certbot renew <span class="nt">--dry-run</span>
</code></pre></div></div>
<p data-sourcepos="234:1-234:131">nginxのサーバー設定に追記する。pemの位置は <code>sudo certbot --nginx</code> で設定したものを書いてください。</p>
<div class="code-frame" data-lang="text" data-sourcepos="237:1-243:3"><div class="highlight"><pre><code>        server {
          listen 443 ssl;
          ssl_certificate     /etc/letsencrypt/live/example.hopto.org/fullchain.pem;
          ssl_certificate_key /etc/letsencrypt/live/example.hopto.org/privkey.pem;
        }
</code></pre></div></div>
<p data-sourcepos="246:1-246:29">ラズパイ上のalias設定</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="248:1-253:3"><div class="highlight"><pre><code><span class="gp">ykhirao@raspberrypi:~ $</span><span class="w"> </span><span class="nb">cat</span> ~/.bashrc
<span class="go">alias fix_nginx="sudo vim /etc/nginx/sites-available/default"
alias start="sudo systemctl start nginx &amp;&amp; nodemon ~/workspace/piapp/index.js"
alias stop="sudo systemctl stop nginx"
</span></code></pre></div></div>
<p data-sourcepos="255:1-255:107">httpsでアクセスして、こんな感じに <code>保護されていない通信</code> とでなくなったらOK</p>
<p data-sourcepos="257:1-257:162"><a href="https://camo.qiitausercontent.com/111e8f91a00e8480ede842cdb454448def8e85ff/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f65316436646239662d633933322d353665312d653339612d6238663963633066313137342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fe1d6db9f-c932-56e1-e39a-b8f9cc0f1174.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0543c3476ec3b409f719bbe654b33b7b" alt="スクリーンショット 2023-05-08 0.59.18.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/e1d6db9f-c932-56e1-e39a-b8f9cc0f1174.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fe1d6db9f-c932-56e1-e39a-b8f9cc0f1174.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f3e20391092ad82cfd610b0c5e2d5c95 1x" loading="lazy"></a></p>
<details>
<summary> ここまでのnginx設定 </summary>
<div class="code-frame" data-lang="terminal" data-sourcepos="264:1-292:3"><div class="highlight"><pre><code><span class="gp">ykhirao@raspberrypi:~ $</span><span class="w"> </span><span class="nb">cat</span> /etc/nginx/sites-available/default
<span class="go">
server {
</span><span class="gp">	listen 80 default_server;</span><span class="w">
</span><span class="gp">	listen [::]:80 default_server;</span><span class="w">
</span><span class="go">
</span><span class="gp">	ssl_certificate     /etc/letsencrypt/live/example.hopto.org/fullchain.pem;</span><span class="w">
</span><span class="gp">	ssl_certificate_key /etc/letsencrypt/live/example.hopto.org/privkey.pem;</span><span class="w">
</span><span class="gp">	listen 443 ssl;</span><span class="w">
</span><span class="go">
</span><span class="gp">	root /var/www/html;</span><span class="w">
</span><span class="go">
</span><span class="gp">	index index.html index.htm index.nginx-debian.html index.js;</span><span class="w">
</span><span class="go">
</span><span class="gp">	server_name example.hopto.org;</span><span class="w">
</span><span class="go">
	location ~ /.well-known {
</span><span class="gp">		allow all;</span><span class="w">
</span><span class="go">	}

	location / {
</span><span class="gp">		#</span><span class="w"> </span>First attempt to serve request as file, <span class="k">then</span>
<span class="gp">		#</span><span class="w"> </span>as directory, <span class="k">then </span>fall back to displaying a 404.
<span class="gp">		try_files $</span>uri <span class="nv">$uri</span>/ <span class="o">=</span>404<span class="p">;</span>
<span class="gp">		proxy_pass http://localhost:3000;</span><span class="w"> </span><span class="c"># ★追加</span>
<span class="go">	}
}
</span></code></pre></div></div>
</details>
<h2 data-sourcepos="295:1-295:67">
<span id="forever使ってnodejsをバックグラウンドで実行する" class="fragment"></span><a href="#forever%E4%BD%BF%E3%81%A3%E3%81%A6nodejs%E3%82%92%E3%83%90%E3%83%83%E3%82%AF%E3%82%B0%E3%83%A9%E3%82%A6%E3%83%B3%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>forever使ってnodejsをバックグラウンドで実行する</h2>
<div class="code-frame" data-lang="terminal" data-sourcepos="297:1-300:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span>npm <span class="nb">install</span> <span class="nt">-g</span> forever
<span class="gp">$</span><span class="w"> </span>forever index.js
</code></pre></div></div>
<h2 data-sourcepos="302:1-302:36">
<span id="vscodeでremote開発をしよう" class="fragment"></span><a href="#vscode%E3%81%A7remote%E9%96%8B%E7%99%BA%E3%82%92%E3%81%97%E3%82%88%E3%81%86"><i class="fa fa-link"></i></a>VSCodeでRemote開発をしよう</h2>
<p data-sourcepos="304:1-304:125"><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack" rel="nofollow noopener" target="_blank">Remote DevelopmentPreview</a></p>
<details>
<summary>設定のスクリーンショット</summary>
<ul data-sourcepos="310:1-312:0">
<li data-sourcepos="310:1-310:84">
<code>CMD + SHIFT + P</code> もしくは <code>CMD + P</code> でメニューを出して <code>&gt;</code> を入力</li>
<li data-sourcepos="311:1-312:0">
<code>SSH</code> と打つと出てくる　<code>Remote SSH: connect to host</code> を選択</li>
</ul>
<p data-sourcepos="313:1-313:163"><a href="https://camo.qiitausercontent.com/de7f095288a79d8fe8a458768209331887f8edf5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f61386433626334332d666334362d613563382d353766382d3432653863336233343464342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa8d3bc43-fc46-a5c8-57f8-42e8c3b344d4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=aab844e2c3ee10b2dbd6e98360c2a2aa" alt="スクリーンショット 2023-05-08 14.38.16.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a8d3bc43-fc46-a5c8-57f8-42e8c3b344d4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa8d3bc43-fc46-a5c8-57f8-42e8c3b344d4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5c54230c3c0134e581f59fc432139bfb 1x" loading="lazy"></a></p>
<p data-sourcepos="315:1-315:90">ssh configを設定してたら出てくるのでpiを選択する。一応再掲する。</p>
<div class="code-frame" data-lang="terminal" data-sourcepos="317:1-324:3"><div class="highlight"><pre><code><span class="gp">$</span><span class="w"> </span>vim ~/.ssh/config
<span class="go">
Host pi
</span><span class="gp">  HostName raspberrypi.local #</span><span class="w"> </span>http://192.168.0.23/, <span class="sb">`</span><span class="nv">$ </span>ip addr<span class="sb">`</span>
<span class="go">  User ykhirao
  IdentityFile /Users/ykhirao/.ssh/id_rsa_pi
</span></code></pre></div></div>
<p data-sourcepos="326:1-326:163"><a href="https://camo.qiitausercontent.com/04bf7ed5a58b5bbfe182eacf58980a996d060b03/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f61343964326331622d373364302d663464302d346562342d3332323764363365636631362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa49d2c1b-73d0-f4d0-4eb4-3227d63ecf16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d0e17794817b66035b2b996b5f22997e" alt="スクリーンショット 2023-05-08 14.38.21.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a49d2c1b-73d0-f4d0-4eb4-3227d63ecf16.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa49d2c1b-73d0-f4d0-4eb4-3227d63ecf16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8efa547db68f7b9a14c6d72a57b177b5 1x" loading="lazy"></a></p>
<p data-sourcepos="328:1-328:57">VSCodeでRemote開発できるようになりました。</p>
<p data-sourcepos="330:1-330:163"><a href="https://camo.qiitausercontent.com/4f3843e94efa970d19270d6ddb08d4b27bbb7ac6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f39636135353861332d656136362d613933332d623133352d3433353431653962393637392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F9ca558a3-ea66-a933-b135-43541e9b9679.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0e0e1ff8bb448de16141bc42f281f3ae" alt="スクリーンショット 2023-05-08 14.38.35.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/9ca558a3-ea66-a933-b135-43541e9b9679.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F9ca558a3-ea66-a933-b135-43541e9b9679.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e7a51c347ebbfb0bb542a6e7bde6157c 1x" loading="lazy"></a></p>
</details>
</article></div></div></div></div><footer class="footer"><div class="content has-text-centered"><p>last uploaded at <!-- -->2023/12/25</p><p>© 2021 ykhirao</p></div></footer></div></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/src/components/QiitaPost\",\"sharedHashesByProp\":{},\"data\":{\"post\":{\"rendered_body\":\"<h1 data-sourcepos=\\\"1:1-1:79\\\">\\n<span id=\\\"gw\u306A\u306E\u3067\u30E9\u30BA\u30D1\u30A4\u8CB7\u3063\u3066\u304D\u3066web\u30B5\u30FC\u30D0\u30FC\u3068\u3057\u3066\u516C\u958B\u3057\u305F\u4EF6\\\" class=\\\"fragment\\\"></span><a href=\\\"#gw%E3%81%AA%E3%81%AE%E3%81%A7%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4%E8%B2%B7%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%A6web%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%A8%E3%81%97%E3%81%A6%E5%85%AC%E9%96%8B%E3%81%97%E3%81%9F%E4%BB%B6\\\"><i class=\\\"fa fa-link\\\"></i></a>GW\u306A\u306E\u3067\u30E9\u30BA\u30D1\u30A4\u8CB7\u3063\u3066\u304D\u3066Web\u30B5\u30FC\u30D0\u30FC\u3068\u3057\u3066\u516C\u958B\u3057\u305F\u4EF6</h1>\\n<p data-sourcepos=\\\"3:1-5:81\\\">\u30A4\u30F3\u30B9\u30C8\u30FC\u30E9\u30FC\u306E\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\u306A\u3069\u3067\u904E\u53BB\u306E\u8A18\u4E8B\u306E\u5185\u5BB9\u304C\u53E4\u304F\u306A\u3063\u3066\u3044\u305F\u306E\u3067\u4E00\u5FDC\u6700\u65B0\u3063\u307D\u3044\u3082\u306E\u3092\u4E57\u305B\u307E\u3059\u3002<br>\\n\u5168\u4E16\u754C\u516C\u958B\u3057\u3066\u3044\u308B\u306E\u3067\u81EA\u5206\u3067\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u306E\u77E5\u8B58\u3092\u5F97\u3066\u304B\u3089\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002\u8CAC\u4EFB\u306F\u6301\u3066\u307E\u305B\u3093\u3002<br>\\n\u3084\u3070\u305D\u3046\u306A\u3068\u3053\u308D\u3042\u3063\u305F\u3089\u7DE8\u96C6\u30EA\u30AF\u30A8\u30B9\u30C8\u304F\u3060\u3055\u308B\u3068\u30FB\u30FB\u30FB</p>\\n<h2 data-sourcepos=\\\"7:1-7:27\\\">\\n<span id=\\\"\u30E9\u30BA\u30D1\u30A4\u8CFC\u5165\u3059\u308B\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4%E8%B3%BC%E5%85%A5%E3%81%99%E3%82%8B\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30E9\u30BA\u30D1\u30A4\u8CFC\u5165\u3059\u308B</h2>\\n<ul data-sourcepos=\\\"9:1-11:0\\\">\\n<li data-sourcepos=\\\"9:1-9:35\\\">\u30E1\u30EB\u30AB\u30EA\u3067\u8CFC\u5165\u3057\u307E\u3057\u305F</li>\\n<li data-sourcepos=\\\"10:1-11:0\\\"><a href=\\\"https://jp.mercari.com/search?keyword=%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">https://jp.mercari.com/search?keyword=\u30E9\u30BA\u30D1\u30A4</a></li>\\n</ul>\\n<h2 data-sourcepos=\\\"12:1-12:42\\\">\\n<span id=\\\"\u30E9\u30BA\u30D1\u30A4\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30E9\u30BA\u30D1\u30A4\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B</h2>\\n<p data-sourcepos=\\\"14:1-14:107\\\">2023\u5E74\u306B\u306FRaspberry Pi Imager\u3068\u3044\u3046\u30A4\u30F3\u30B9\u30C8\u30FC\u30E9\u30FC\u3092\u4F7F\u3046\u3084\u308A\u65B9\u304C\u4E3B\u6D41\u307F\u305F\u3044\u3067\u3059\u3002</p>\\n<ul data-sourcepos=\\\"16:1-18:0\\\">\\n<li data-sourcepos=\\\"16:1-16:91\\\">\\n<a href=\\\"https://www.raspberrypi.com/software/\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">\u516C\u5F0F</a>\u304B\u3089\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3057\u307E\u3057\u3087\u3046\u3002</li>\\n<li data-sourcepos=\\\"17:1-18:0\\\">\u3053\u3053\u304C\u53C2\u8003\u306B\u306A\u308A\u307E\u3057\u305F <a href=\\\"https://nw-electric.way-nifty.com/blog/2022/05/post-2cdd01.html\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">https://nw-electric.way-nifty.com/blog/2022/05/post-2cdd01.html</a>\\n</li>\\n</ul>\\n<p data-sourcepos=\\\"19:1-19:157\\\">\u521D\u671F\u30E6\u30FC\u30B6\u30FC <code>user\uFF1Dpi\u3001password\uFF1Draspberry</code> \u306F2022\u5E74\u304B\u3089\u30C7\u30D5\u30A9\u30EB\u30C8\u3067\u5B58\u5728\u3057\u306A\u3044\u306E\u3067\u3001\u8A2D\u5B9A\u304B\u3089\u4F5C\u308A\u307E\u3057\u3087\u3046\u3002\u4EE5\u4E0B\u53C2\u8003</p>\\n<details>\\n<summary>\u30E9\u30BA\u30D1\u30A4\u3078\u306E\u30A2\u30AF\u30BB\u30B9\u306FSSH/CUI\u306E\u307F\u306E\u65B9\u5411\u3051</summary>\\n<p data-sourcepos=\\\"24:1-24:163\\\"><a href=\\\"https://camo.qiitausercontent.com/b804d5f0b1282445468a9a211930ad2e5ee04c92/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f32613562363864322d393562622d373330612d313130382d3333656464363164393939302e706e67\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F2a5b68d2-95bb-730a-1108-33edd61d9990.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=028178245d8410debfecb34a301c8374\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-07 23.14.09.png\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/2a5b68d2-95bb-730a-1108-33edd61d9990.png\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F2a5b68d2-95bb-730a-1108-33edd61d9990.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2aae32760878fc7e6dc23ef27be60e23 1x\\\" loading=\\\"lazy\\\"></a></p>\\n<ul data-sourcepos=\\\"27:1-29:0\\\">\\n<li data-sourcepos=\\\"27:1-27:54\\\">OS\u306FPI OS Lite \uFF08\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u65E9\u3044\u3067\u3059\uFF09</li>\\n<li data-sourcepos=\\\"28:1-29:0\\\">\u753B\u9762\u53F3\u4E0B\u306E\u8A2D\u5B9A\u30DE\u30FC\u30AF\u304B\u3089SSH\u8A2D\u5B9A\u3092\u4F5C\u308C\u307E\u3059</li>\\n</ul>\\n<p data-sourcepos=\\\"30:1-30:103\\\">\u4E00\u5FDC\u4EE5\u4E0B\u8A2D\u5B9A\u4E57\u305B\u307E\u3059\u3002mac\u5074\u304B\u3089 <code>ssh pi</code> \u3067\u30ED\u30B0\u30A4\u30F3\u3067\u304D\u308B\u3088\u3046\u306B\u3057\u3066\u307E\u3059\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"32:1-42:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>vim ~/.ssh/config\\n<span class=\\\"go\\\">\\nHost pi\\n</span><span class=\\\"gp\\\">  HostName raspberrypi.local #</span><span class=\\\"w\\\"> </span>http://192.168.0.23/, <span class=\\\"sb\\\">`</span><span class=\\\"nv\\\">$ </span>ip addr<span class=\\\"sb\\\">`</span>\\n<span class=\\\"go\\\">  User ykhirao\\n  IdentityFile /Users/ykhirao/.ssh/id_rsa_pi\\n\\n</span><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>ssh pi\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>ykhirao@raspberrypi:~ <span class=\\\"err\\\">$</span>\\n</code></pre></div></div>\\n</details>\\n<h2 data-sourcepos=\\\"47:1-47:30\\\">\\n<span id=\\\"\u30B5\u30FC\u30D0\u30FC\u3092\u7528\u610F\u3059\u308B\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%92%E7%94%A8%E6%84%8F%E3%81%99%E3%82%8B\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30B5\u30FC\u30D0\u30FC\u3092\u7528\u610F\u3059\u308B</h2>\\n<p data-sourcepos=\\\"49:1-50:126\\\">nginx \u3067\u3082 Apache\u3067\u3082\u9069\u5F53\u306A\u30DF\u30C9\u30EB\u30A6\u30A8\u30A2\u3068php\u3067\u3082nodejs\u3067\u3082\u4F55\u3067\u3082\u3044\u3044\u306E\u3067\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u30B5\u30FC\u30D0\u30FC\u9078\u3076\u3002<br>\\n\u4F55\u3044\u3063\u3066\u3044\u308B\u306E\u3068\u3044\u3046\u65B9\u306F<a href=\\\"https://www.rworks.jp/system/system-column/sys-entry/14865/\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">\u9069\u5F53\u306A\u8A18\u4E8B</a>\u3092\u8AAD\u3080\u3002</p>\\n<p data-sourcepos=\\\"52:1-52:286\\\">\u4ECA\u56DE\u306F <code>nginx x nodejs</code> \u306B\u3057\u307E\u3059\u304C\u3001Apache\u306EC10K\u554F\u984C\u3068\u304B\u307E\u3067\u30A2\u30AF\u30BB\u30B9\u3055\u308C\u308B\u4E88\u5B9A\u306A\u3044\u306E\u3067\uFF08\u30E9\u30BA\u30D1\u30A4\u306E\u30E1\u30E2\u30EA\u6027\u80FD\u3068\u304B\u304C\u5148\u306B\u9650\u754C\u8FCE\u3048\u308B\u306F\u305A\u30FB\u30FB\u30FB\uFF09\u81EA\u5206\u306E\u597D\u304D\u306A\u74B0\u5883\u3068\u304B\u8EAB\u8FD1\u306A\u8A18\u4E8B\u3092\u53C2\u8003\u306B\u3059\u308B\u3068\u3088\u3044\u3068\u601D\u3044\u307E\u3059\u3002</p>\\n<p data-sourcepos=\\\"55:1-55:105\\\">\u4E0A\u8A18\u8A18\u4E8B\u3068\u540C\u69D8\u306B\u8A2D\u5B9A\u3059\u308B\u3068\u3001\u4EE5\u4E0B\u306E\u30B3\u30DE\u30F3\u30C9\u3092\u5165\u529B\u3057\u3066\u30B5\u30FC\u30D0\u30FC\u3092\u7ACB\u3061\u4E0A\u3052</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"57:1-59:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>node index.js\\n</code></pre></div></div>\\n<p data-sourcepos=\\\"61:1-61:320\\\">\u540C\u3058\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u5185\u304B\u3089 <code>http://raspberrypi.local/</code>\u3000\u304B <a href=\\\"http://192.168.0.23/\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">http://192.168.0.23/</a> (\u4EBA\u306B\u3088\u3063\u3066IP\u9055\u3046\u53EF\u80FD\u6027\u3042\u308A) \u306B\u30A2\u30AF\u30BB\u30B9\u3057\u305F\u3068\u304D <code>nginx</code> \u306E\u30DF\u30C9\u30EB\u30A6\u30A8\u30A2\u304C\u52D5\u304D <code>nodejs\u30B5\u30FC\u30D0\u30FC</code> \u306B\u30A2\u30AF\u30BB\u30B9\u3057\u307E\u3059\u3002\u3046\u307E\u304F\u8A2D\u5B9A\u3067\u304D\u3066\u305F\u3089 <code>Hello World</code> \u304C\u8868\u793A\u3055\u305B\u307E\u3057\u3087\u3046\u3002</p>\\n<details>\\n<summary>\u30B3\u30DE\u30F3\u30C9\u307E\u3068\u3081\u3068\u53C2\u8003\u8A18\u4E8B</summary>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"67:1-94:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u6700\u65B0\u7248\u3078\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>apt-get update\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>apt-get upgrade\\n<span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>\u30DF\u30C9\u30EB\u30A6\u30A8\u30A2\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>apt <span class=\\\"nb\\\">install </span>nginx <span class=\\\"nt\\\">-y</span>\\n<span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>nodejs\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\uFF08n\u304C\u4F7F\u3044\u305F\u3044\u306E\u3067\u3082\u308D\u3082\u308D\u3084\u3063\u3066\u307E\u3059\uFF09\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>apt <span class=\\\"nb\\\">install </span>nodejs npm\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>npm <span class=\\\"nb\\\">install </span>n <span class=\\\"nt\\\">-g</span>\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>n lts\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>apt purge nodejs npm\\n<span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u30B5\u30FC\u30D0\u30FC\u306E\u4F5C\u6210\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo mkdir</span> <span class=\\\"nt\\\">-p</span> ~/workspace/piapp\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>vi ~/workspace/piapp/index.js\\n<span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>\u4E0B\u8A18\u30D5\u30A1\u30A4\u30EB\u3092\u53C2\u8003\u306B\u4FEE\u6B63\u3059\u308B\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>vi /etc/nginx/sites-enabled\\n<span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>\u4E0B\u8A18\u30D5\u30A1\u30A4\u30EB\u3092\u53C2\u8003\u306B\u4FEE\u6B63\u3059\u308B\\n<span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u30B5\u30FC\u30D0\u30FC\u306E\u7ACB\u3061\u4E0A\u3052\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>npm <span class=\\\"nb\\\">install </span>nodemon <span class=\\\"nt\\\">-g</span>\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>nodemon ~/workspace/piapp/index.js\\n<span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>nodejs\u30D7\u30ED\u30BB\u30B9\u304C\u6B7B\u3093\u3067\u3082\u81EA\u52D5\u3067\u518D\u8D77\u52D5\u3055\u305B\u308B\u305F\u3081 nodemon \u3092\u5229\u7528\u3057\u3066\u307E\u3059\u3002\\n<span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>\u5FC5\u8981\u306A\u3051\u308C\u3070 node ~/workspace/piapp/index.js \u3067\u3088\u3044\u3067\u3059\u3002\\n</code></pre></div></div>\\n<div class=\\\"code-frame\\\" data-lang=\\\"javascript\\\" data-sourcepos=\\\"96:1-104:3\\\">\\n<div class=\\\"code-lang\\\"><span class=\\\"bold\\\">~/workspace/piapp/index.js</span></div>\\n<div class=\\\"highlight\\\"><pre><code><span class=\\\"kd\\\">const</span> <span class=\\\"nx\\\">http</span> <span class=\\\"o\\\">=</span> <span class=\\\"nf\\\">require</span><span class=\\\"p\\\">(</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"s2\\\">http</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"p\\\">);</span> \\n<span class=\\\"kd\\\">const</span> <span class=\\\"nx\\\">server</span> <span class=\\\"o\\\">=</span> <span class=\\\"nx\\\">http</span><span class=\\\"p\\\">.</span><span class=\\\"nf\\\">createServer</span><span class=\\\"p\\\">(</span><span class=\\\"nf\\\">function </span><span class=\\\"p\\\">(</span><span class=\\\"nx\\\">req</span><span class=\\\"p\\\">,</span> <span class=\\\"nx\\\">res</span><span class=\\\"p\\\">)</span> <span class=\\\"p\\\">{</span>\\n    <span class=\\\"nx\\\">res</span><span class=\\\"p\\\">.</span><span class=\\\"nx\\\">statusCode</span> <span class=\\\"o\\\">=</span> <span class=\\\"mi\\\">200</span><span class=\\\"p\\\">;</span>\\n    <span class=\\\"nx\\\">res</span><span class=\\\"p\\\">.</span><span class=\\\"nf\\\">setHeader</span><span class=\\\"p\\\">(</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"s2\\\">Content-Type</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"p\\\">,</span> <span class=\\\"dl\\\">\\\"</span><span class=\\\"s2\\\">text/plain</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"p\\\">);</span>\\n    <span class=\\\"nx\\\">res</span><span class=\\\"p\\\">.</span><span class=\\\"nf\\\">end</span><span class=\\\"p\\\">(</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"s2\\\">Hello World</span><span class=\\\"dl\\\">\\\"</span><span class=\\\"p\\\">);</span>\\n<span class=\\\"p\\\">});</span>\\n<span class=\\\"nx\\\">server</span><span class=\\\"p\\\">.</span><span class=\\\"nf\\\">listen</span><span class=\\\"p\\\">(</span><span class=\\\"mi\\\">3000</span><span class=\\\"p\\\">);</span>\\n</code></pre></div>\\n</div>\\n<div class=\\\"code-frame\\\" data-lang=\\\"/etc/nginx/sites-enabled\\\" data-sourcepos=\\\"106:1-111:3\\\"><div class=\\\"highlight\\\"><pre><code>\\tlocation / {\\n\\t\\ttry_files $uri $uri/ =404;\\n\\t\\tproxy_pass http://localhost:3000;\\n\\t}\\n</code></pre></div></div>\\n<p data-sourcepos=\\\"114:1-114:12\\\">\u53C2\u8003\u8A18\u4E8B</p>\\n<ul data-sourcepos=\\\"116:1-118:0\\\">\\n<li data-sourcepos=\\\"116:1-116:153\\\">\\n<a href=\\\"https://hondakenya.work/ubuntu-nginx-node-js/\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">Ubuntu\u30B5\u30FC\u30D0\u30FC\u306Bnginx\u3068Node.js\u3092\u5165\u308C\u3066Web\u30B5\u30FC\u30D0\u30FC\u3092\u5EFA\u3066\u308B</a>\u3092\u53C2\u8003\u306B\u3057\u307E\u3057\u305F\u3002</li>\\n<li data-sourcepos=\\\"117:1-118:0\\\"><a href=\\\"https://qiita.com/cointoss1973/items/c000c4f84ae4b0c166b5\\\" id=\\\"reference-5740ff1358697fac06b5\\\">Ubuntu \u3067 Node \u306E\u6700\u65B0\u7248/\u63A8\u5968\u7248\u3092\u4F7F\u3046 (n \u30B3\u30DE\u30F3\u30C9\u7DE8)</a></li>\\n</ul>\\n</details>\\n<h2 data-sourcepos=\\\"121:1-121:78\\\">\\n<span id=\\\"\u81EA\u5B85\u306E\u30EB\u30FC\u30BF\u30FC\u306B\u30DD\u30FC\u30C8\u8EE2\u9001\u8A2D\u5B9A\u3057\u3066\u5168\u4E16\u754C\u516C\u958B\u3057\u307E\u3059\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E8%87%AA%E5%AE%85%E3%81%AE%E3%83%AB%E3%83%BC%E3%82%BF%E3%83%BC%E3%81%AB%E3%83%9D%E3%83%BC%E3%83%88%E8%BB%A2%E9%80%81%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%A6%E5%85%A8%E4%B8%96%E7%95%8C%E5%85%AC%E9%96%8B%E3%81%97%E3%81%BE%E3%81%99\\\"><i class=\\\"fa fa-link\\\"></i></a>\u81EA\u5B85\u306E\u30EB\u30FC\u30BF\u30FC\u306B\u30DD\u30FC\u30C8\u8EE2\u9001\u8A2D\u5B9A\u3057\u3066\u5168\u4E16\u754C\u516C\u958B\u3057\u307E\u3059</h2>\\n<p data-sourcepos=\\\"123:1-123:296\\\"><a href=\\\"http://raspberrypi.local/\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">http://raspberrypi.local/</a> \u306F\u540C\u3058\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u5185\u306EPC\u30FB\u30B9\u30DE\u30DB\u7B49\u304B\u3089\u3057\u304B\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u307E\u305B\u3093\u304C\u3001noip\u3067\u4F5C\u3063\u305F <a href=\\\"http://example.hopto.org/\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">http://example.hopto.org/</a> \u307F\u305F\u3044\u306A\u30A2\u30C9\u30EC\u30B9\u306B\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u3068 <code>Hello World</code> \u3068\u8868\u793A\u3067\u304D\u305F\u3089OK\u3067\u3059\u3002 \u5168\u4E16\u754C\u306B\u516C\u958B\u3067\u304D\u307E\u3057\u305F\u3002</p>\\n<p data-sourcepos=\\\"125:1-125:21\\\">\u53C2\u8003\u306B\u3057\u305F\u8A18\u4E8B</p>\\n<ul data-sourcepos=\\\"126:1-127:0\\\">\\n<li data-sourcepos=\\\"126:1-127:0\\\"><a href=\\\"https://ichiken-usa.blogspot.com/2022/01/raspi-web-server.html\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">\u5B89\u5168\u306B\u30E9\u30BA\u30D1\u30A4Web\u30B5\u30FC\u30D0\u30FC\u3092\u4E16\u754C\u306B\u516C\u958B\u3059\u308B\u305F\u3081\u306E\u624B\u9806</a></li>\\n</ul>\\n<p data-sourcepos=\\\"128:1-128:78\\\">\u30DD\u30FC\u30C8\u30D5\u30A9\u30EF\u30FC\u30C7\u30A3\u30F3\u30B0\u3092\u4F7F\u3063\u3066\u5B89\u5168\u306B\u516C\u958B\u3057\u307E\u3057\u3087\u3046\u3002</p>\\n<h3 data-sourcepos=\\\"130:1-130:37\\\">\\n<span id=\\\"\u30D5\u30A1\u30A4\u30E4\u30FC\u30A6\u30A9\u30FC\u30EB\u8A2D\u5B9A\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%A4%E3%83%BC%E3%82%A6%E3%82%A9%E3%83%BC%E3%83%AB%E8%A8%AD%E5%AE%9A\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30D5\u30A1\u30A4\u30E4\u30FC\u30A6\u30A9\u30FC\u30EB\u8A2D\u5B9A</h3>\\n<details>\\n<summary> Ubuntu\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u306Eufw\u3067\u8A2D\u5B9A </summary>\\n<p data-sourcepos=\\\"135:1-135:39\\\">\u30E9\u30BA\u30D1\u30A4\u306B\u4E0A\u3067\u4EE5\u4E0B\u30B3\u30DE\u30F3\u30C9</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"137:1-148:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>apt <span class=\\\"nb\\\">install </span>ufw\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>ufw allow http\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>ufw allow https\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>ufw allow ssh\\n<span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>ssh\u3067\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u306E\u3067\u5FC5\u8981\u3002\u5931\u6557\u3057\u305F\u3089ssh\u3067\u304D\u305A\u7D42\u308F\u308B\u3002\\n<span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>ufw <span class=\\\"nb\\\">enable</span>\\n<span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">#</span><span class=\\\"w\\\"> </span>\u30E9\u30BA\u30D1\u30A4\u306E\u518D\u8D77\u52D5\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>reboot\\n</code></pre></div></div>\\n</details>\\n<h3 data-sourcepos=\\\"153:1-153:14\\\">\\n<span id=\\\"ddns\u4F5C\u6210\\\" class=\\\"fragment\\\"></span><a href=\\\"#ddns%E4%BD%9C%E6%88%90\\\"><i class=\\\"fa fa-link\\\"></i></a>DDNS\u4F5C\u6210</h3>\\n<p data-sourcepos=\\\"155:1-155:110\\\">\u81EA\u5B85\u306EIP\u30A2\u30C9\u30EC\u30B9\u306F\u5B9A\u671F\u7684\u306B\u5909\u66F4\u3055\u308C\u307E\u3059\u3002\u4EE5\u4E0B\u306E\u3088\u3046\u306A\u30B5\u30A4\u30C8\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002</p>\\n<ul data-sourcepos=\\\"157:1-159:0\\\">\\n<li data-sourcepos=\\\"157:1-157:112\\\"><a href=\\\"https://www.cman.jp/network/support/go_access.cgi\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">\u30A2\u30AF\u30BB\u30B9\u60C5\u5831\u3010\u4F7F\u7528\u4E2D\u306EIP\u30A2\u30C9\u30EC\u30B9\u78BA\u8A8D\u3011</a></li>\\n<li data-sourcepos=\\\"158:1-159:0\\\"><a href=\\\"https://tarufu.info/jcom-global-ip/\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">JCOM\u3067\u30B0\u30ED\u30FC\u30D0\u30EBIP\u30A2\u30C9\u30EC\u30B9\u3092\u5909\u66F4\u3057\u3088\u3046\u3068\u3057\u305F\u8A71</a></li>\\n</ul>\\n<p data-sourcepos=\\\"160:1-160:218\\\">\u81EA\u5B85\u306EIP\u304C\u3053\u308D\u3053\u308D\u5909\u308F\u3063\u305F\u3089\u3001\u30E9\u30BA\u30D1\u30A4\u306B\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u306A\u3044\u306E\u3067\u3082\u308D\u3082\u308D\u3044\u308D\u3044\u308D\u3084\u3063\u3066\u304F\u308C\u308B\u30B5\u30A4\u30C8\u306B\u30A2\u30AB\u30A6\u30F3\u30C8\u4F5C\u308B\u3063\u3066\u8A71\u3067\u3059\u3002\u8A73\u3057\u304F\u306F\u8ABF\u3079\u3066\u304F\u3060\u3055\u3044\u3002</p>\\n<details>\\n<summary>NOIP\u3068\u3044\u3046\u30B5\u30A4\u30C8\u3092\u4F7F\u3044\u307E\u3059</summary>\\n<p data-sourcepos=\\\"165:1-165:185\\\">noip\u306E\u30D1\u30B9\u30EF\u30FC\u30C9\u306F\u5F8C\u3067JCOM\u30EB\u30FC\u30BF\u30FC\u4E0A\u306E\u8A2D\u5B9A\u3067\u5FC5\u8981\u3068\u306A\u308B\u306E\u3067\u3001\u5171\u901A\u3067\u4F7F\u3063\u3066\u3044\u308B\u3082\u306E\u4EE5\u5916\u304C\u3044\u3044\u3068\u601D\u3044\u307E\u3059\u3002chrome\u306B\u899A\u3048\u3055\u305B\u307E\u3057\u3087\u3046\u3002</p>\\n<p data-sourcepos=\\\"167:1-167:12\\\">\u53C2\u8003\u8A18\u4E8B</p>\\n<ul data-sourcepos=\\\"168:1-169:0\\\">\\n<li data-sourcepos=\\\"168:1-169:0\\\"><a href=\\\"https://www.try-e.co.jp/manual/getnoip.pdf\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">No-ip \u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u53CA\u3073DDNS\u30B5\u30FC\u30D0\u30FC\u30A2\u30C9\u30EC\u30B9\u306E\u53D6\u5F97\u65B9\u6CD5</a></li>\\n</ul>\\n</details>\\n<h3 data-sourcepos=\\\"172:1-172:29\\\">\\n<span id=\\\"\u30EB\u30FC\u30BF\u30FC\u306Eddns\u8A2D\u5B9A\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%83%AB%E3%83%BC%E3%82%BF%E3%83%BC%E3%81%AEddns%E8%A8%AD%E5%AE%9A\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30EB\u30FC\u30BF\u30FC\u306EDDNS\u8A2D\u5B9A</h3>\\n<details>\\n<summary> \u7B46\u8005\u306FJCOM\u306A\u306E\u3067\u305D\u306E\u8A2D\u5B9A </summary>\\n<p data-sourcepos=\\\"177:1-177:73\\\"><a href=\\\"http://192.168.0.1/\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">http://192.168.0.1/</a> \u304B <a href=\\\"http://192.168.100.1/\\\" class=\\\"autolink\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">http://192.168.100.1/</a> \u3067\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u308B\u3002</p>\\n<p data-sourcepos=\\\"179:1-179:55\\\">\u521D\u671FID/PASS\u306F\u4EE5\u4E0B\u3067\u3059\u304C\u5909\u66F4\u3057\u307E\u3057\u3087\u3046\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"181:1-184:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"go\\\">ID: admin\\nPassword: password\\n</span></code></pre></div></div>\\n<p data-sourcepos=\\\"186:1-186:103\\\">\u8A2D\u5B9A\u9805\u76EE\u306F\u4EE5\u4E0B\u30B9\u30AF\u30B7\u30E7\u3092\u53C2\u8003\u306B\u3001\u5148\u7A0B\u4F5C\u3063\u305Fnoip\u306E\u60C5\u5831\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002</p>\\n<p data-sourcepos=\\\"188:1-188:162\\\"><a href=\\\"https://camo.qiitausercontent.com/6021a8b01a2c828e979f3d1bb628edc12384d28d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f36363063393866622d356433382d616238372d656664322d3065383435643931633238342e706e67\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F660c98fb-5d38-ab87-efd2-0e845d91c284.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=268ddf14c92b47c73c75e99304df11c1\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 0.03.54.png\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/660c98fb-5d38-ab87-efd2-0e845d91c284.png\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F660c98fb-5d38-ab87-efd2-0e845d91c284.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=709288f2b7a6b52a00ac7a71b3c9db03 1x\\\" loading=\\\"lazy\\\"></a></p>\\n<p data-sourcepos=\\\"191:1-191:21\\\">\u53C2\u8003\u306B\u3057\u305F\u8A18\u4E8B</p>\\n<ul data-sourcepos=\\\"192:1-193:0\\\">\\n<li data-sourcepos=\\\"192:1-193:0\\\"><a href=\\\"https://homemadegarbage.com/humax-port\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">HUMAX HG100R-02JG \u306E \u30DD\u30FC\u30C8\u958B\u653E\u8A2D\u5B9A</a></li>\\n</ul>\\n</details>\\n<h3 data-sourcepos=\\\"196:1-196:43\\\">\\n<span id=\\\"\u30DD\u30FC\u30C8\u30D5\u30A9\u30EF\u30FC\u30C7\u30A3\u30F3\u30B0\u8A2D\u5B9A\\\" class=\\\"fragment\\\"></span><a href=\\\"#%E3%83%9D%E3%83%BC%E3%83%88%E3%83%95%E3%82%A9%E3%83%AF%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E8%A8%AD%E5%AE%9A\\\"><i class=\\\"fa fa-link\\\"></i></a>\u30DD\u30FC\u30C8\u30D5\u30A9\u30EF\u30FC\u30C7\u30A3\u30F3\u30B0\u8A2D\u5B9A</h3>\\n<p data-sourcepos=\\\"198:1-198:39\\\">\u3053\u3053\u307E\u3067\u3067\u304D\u305F\u3089\u30B0\u30ED\u30FC\u30D0\u30EB</p>\\n<details>\\n<summary> \u7B46\u8005\u306FJCOM\u306A\u306E\u3067\u305D\u306E\u8A2D\u5B9A </summary>\\n<p data-sourcepos=\\\"203:1-203:162\\\"><a href=\\\"https://camo.qiitausercontent.com/8f78b64e722269090bc87f39034d36412f853087/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f61303433343138652d326530302d356533662d663838382d3833666538356262643161392e706e67\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa043418e-2e00-5e3f-f888-83fe85bbd1a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b33c037070284010ef24dbe94538d57b\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 0.12.38.png\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a043418e-2e00-5e3f-f888-83fe85bbd1a9.png\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa043418e-2e00-5e3f-f888-83fe85bbd1a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5f4325c09dc0e858ddf0be6f3d5c0cca 1x\\\" loading=\\\"lazy\\\"></a></p>\\n</details>\\n<h2 data-sourcepos=\\\"208:1-208:15\\\">\\n<span id=\\\"httpsssl\u5316\\\" class=\\\"fragment\\\"></span><a href=\\\"#httpsssl%E5%8C%96\\\"><i class=\\\"fa fa-link\\\"></i></a>https/ssl\u5316</h2>\\n<p data-sourcepos=\\\"210:1-210:232\\\">\u6700\u8FD1\u306Ecertbot\u306F <a href=\\\"https://certbot.eff.org/instructions?ws=nginx&amp;os=ubuntubionic\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">\u516C\u5F0F\u30B5\u30A4\u30C8</a> \u3067\u81EA\u5206\u306EOS\u7B49\u3092\u8A2D\u5B9A\u3057\u3066\u305D\u306E\u30B3\u30DE\u30F3\u30C9\u901A\u308A\u306B\u3084\u308B\u307F\u305F\u3044\u3067\u3059\u3002\u904E\u53BB\u8A18\u4E8B\u306F\u57FA\u672C\u771F\u4F3C\u3057\u306A\u3044\u3088\u3046\u306B\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"212:1-219:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>apt <span class=\\\"nt\\\">-y</span> <span class=\\\"nb\\\">install </span>snapd\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>snap <span class=\\\"nb\\\">install </span>core<span class=\\\"p\\\">;</span> <span class=\\\"nb\\\">sudo </span>snap refresh core\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>apt-get remove certbot\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>snap <span class=\\\"nb\\\">install</span> <span class=\\\"nt\\\">--classic</span> certbot\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo ln</span> <span class=\\\"nt\\\">-s</span> /snap/bin/certbot /usr/bin/certbot\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>certbot <span class=\\\"nt\\\">--nginx</span>\\n</code></pre></div></div>\\n<p data-sourcepos=\\\"221:1-221:216\\\">\u81EA\u52D5\u51E6\u7406\u306E\u305F\u3081cron\u306E\u7DE8\u96C6\u3002\u6BCE\u67081\u65E5\u3001\u671D4\u6642\u306B\u66F4\u65B0\u3002 <code>--force-renewal</code> \u3067\u6B8B\u308A30\u65E5\u3092\u5F85\u305F\u305A\u306B\u6BCE\u6708\u66F4\u65B0\u3001nginx\u306E\u518D\u8D77\u52D5\u4ED8\u304D\u3002 \u4F5C\u308A\u305F\u3066\u306A\u306E\u3067\u672C\u5F53\u306B\u52D5\u304F\u304B\u308F\u304B\u3089\u306A\u3044\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"223:1-226:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>crontab <span class=\\\"nt\\\">-u</span> root <span class=\\\"nt\\\">-e</span>\\n<span class=\\\"go\\\">00 04 01 * * sudo certbot renew --force-renewal &amp;&amp; sudo systemctl restart nginx\\n</span></code></pre></div></div>\\n<p data-sourcepos=\\\"228:1-228:106\\\">\uFF11\u6642\u9593\u306B5\u56DE\u5931\u6557\u3059\u308B\u3068\u3057\u3070\u3089\u304F\u4F7F\u3048\u306A\u3044\u306E\u3067\u30C9\u30E9\u30A4\u30E9\u30F3\u3067\u5B9F\u884C\u7D50\u679C\u3060\u3051\u898B\u308B\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"230:1-232:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">sudo </span>certbot renew <span class=\\\"nt\\\">--dry-run</span>\\n</code></pre></div></div>\\n<p data-sourcepos=\\\"234:1-234:131\\\">nginx\u306E\u30B5\u30FC\u30D0\u30FC\u8A2D\u5B9A\u306B\u8FFD\u8A18\u3059\u308B\u3002pem\u306E\u4F4D\u7F6E\u306F <code>sudo certbot --nginx</code> \u3067\u8A2D\u5B9A\u3057\u305F\u3082\u306E\u3092\u66F8\u3044\u3066\u304F\u3060\u3055\u3044\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"text\\\" data-sourcepos=\\\"237:1-243:3\\\"><div class=\\\"highlight\\\"><pre><code>        server {\\n          listen 443 ssl;\\n          ssl_certificate     /etc/letsencrypt/live/example.hopto.org/fullchain.pem;\\n          ssl_certificate_key /etc/letsencrypt/live/example.hopto.org/privkey.pem;\\n        }\\n</code></pre></div></div>\\n<p data-sourcepos=\\\"246:1-246:29\\\">\u30E9\u30BA\u30D1\u30A4\u4E0A\u306Ealias\u8A2D\u5B9A</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"248:1-253:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">ykhirao@raspberrypi:~ $</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">cat</span> ~/.bashrc\\n<span class=\\\"go\\\">alias fix_nginx=\\\"sudo vim /etc/nginx/sites-available/default\\\"\\nalias start=\\\"sudo systemctl start nginx &amp;&amp; nodemon ~/workspace/piapp/index.js\\\"\\nalias stop=\\\"sudo systemctl stop nginx\\\"\\n</span></code></pre></div></div>\\n<p data-sourcepos=\\\"255:1-255:107\\\">https\u3067\u30A2\u30AF\u30BB\u30B9\u3057\u3066\u3001\u3053\u3093\u306A\u611F\u3058\u306B <code>\u4FDD\u8B77\u3055\u308C\u3066\u3044\u306A\u3044\u901A\u4FE1</code> \u3068\u3067\u306A\u304F\u306A\u3063\u305F\u3089OK</p>\\n<p data-sourcepos=\\\"257:1-257:162\\\"><a href=\\\"https://camo.qiitausercontent.com/111e8f91a00e8480ede842cdb454448def8e85ff/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f65316436646239662d633933322d353665312d653339612d6238663963633066313137342e706e67\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fe1d6db9f-c932-56e1-e39a-b8f9cc0f1174.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0543c3476ec3b409f719bbe654b33b7b\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 0.59.18.png\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/e1d6db9f-c932-56e1-e39a-b8f9cc0f1174.png\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fe1d6db9f-c932-56e1-e39a-b8f9cc0f1174.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f3e20391092ad82cfd610b0c5e2d5c95 1x\\\" loading=\\\"lazy\\\"></a></p>\\n<details>\\n<summary> \u3053\u3053\u307E\u3067\u306Enginx\u8A2D\u5B9A </summary>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"264:1-292:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">ykhirao@raspberrypi:~ $</span><span class=\\\"w\\\"> </span><span class=\\\"nb\\\">cat</span> /etc/nginx/sites-available/default\\n<span class=\\\"go\\\">\\nserver {\\n</span><span class=\\\"gp\\\">\\tlisten 80 default_server;</span><span class=\\\"w\\\">\\n</span><span class=\\\"gp\\\">\\tlisten [::]:80 default_server;</span><span class=\\\"w\\\">\\n</span><span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">\\tssl_certificate     /etc/letsencrypt/live/example.hopto.org/fullchain.pem;</span><span class=\\\"w\\\">\\n</span><span class=\\\"gp\\\">\\tssl_certificate_key /etc/letsencrypt/live/example.hopto.org/privkey.pem;</span><span class=\\\"w\\\">\\n</span><span class=\\\"gp\\\">\\tlisten 443 ssl;</span><span class=\\\"w\\\">\\n</span><span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">\\troot /var/www/html;</span><span class=\\\"w\\\">\\n</span><span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">\\tindex index.html index.htm index.nginx-debian.html index.js;</span><span class=\\\"w\\\">\\n</span><span class=\\\"go\\\">\\n</span><span class=\\\"gp\\\">\\tserver_name example.hopto.org;</span><span class=\\\"w\\\">\\n</span><span class=\\\"go\\\">\\n\\tlocation ~ /.well-known {\\n</span><span class=\\\"gp\\\">\\t\\tallow all;</span><span class=\\\"w\\\">\\n</span><span class=\\\"go\\\">\\t}\\n\\n\\tlocation / {\\n</span><span class=\\\"gp\\\">\\t\\t#</span><span class=\\\"w\\\"> </span>First attempt to serve request as file, <span class=\\\"k\\\">then</span>\\n<span class=\\\"gp\\\">\\t\\t#</span><span class=\\\"w\\\"> </span>as directory, <span class=\\\"k\\\">then </span>fall back to displaying a 404.\\n<span class=\\\"gp\\\">\\t\\ttry_files $</span>uri <span class=\\\"nv\\\">$uri</span>/ <span class=\\\"o\\\">=</span>404<span class=\\\"p\\\">;</span>\\n<span class=\\\"gp\\\">\\t\\tproxy_pass http://localhost:3000;</span><span class=\\\"w\\\"> </span><span class=\\\"c\\\"># \u2605\u8FFD\u52A0</span>\\n<span class=\\\"go\\\">\\t}\\n}\\n</span></code></pre></div></div>\\n</details>\\n<h2 data-sourcepos=\\\"295:1-295:67\\\">\\n<span id=\\\"forever\u4F7F\u3063\u3066nodejs\u3092\u30D0\u30C3\u30AF\u30B0\u30E9\u30A6\u30F3\u30C9\u3067\u5B9F\u884C\u3059\u308B\\\" class=\\\"fragment\\\"></span><a href=\\\"#forever%E4%BD%BF%E3%81%A3%E3%81%A6nodejs%E3%82%92%E3%83%90%E3%83%83%E3%82%AF%E3%82%B0%E3%83%A9%E3%82%A6%E3%83%B3%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\\\"><i class=\\\"fa fa-link\\\"></i></a>forever\u4F7F\u3063\u3066nodejs\u3092\u30D0\u30C3\u30AF\u30B0\u30E9\u30A6\u30F3\u30C9\u3067\u5B9F\u884C\u3059\u308B</h2>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"297:1-300:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>npm <span class=\\\"nb\\\">install</span> <span class=\\\"nt\\\">-g</span> forever\\n<span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>forever index.js\\n</code></pre></div></div>\\n<h2 data-sourcepos=\\\"302:1-302:36\\\">\\n<span id=\\\"vscode\u3067remote\u958B\u767A\u3092\u3057\u3088\u3046\\\" class=\\\"fragment\\\"></span><a href=\\\"#vscode%E3%81%A7remote%E9%96%8B%E7%99%BA%E3%82%92%E3%81%97%E3%82%88%E3%81%86\\\"><i class=\\\"fa fa-link\\\"></i></a>VSCode\u3067Remote\u958B\u767A\u3092\u3057\u3088\u3046</h2>\\n<p data-sourcepos=\\\"304:1-304:125\\\"><a href=\\\"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack\\\" rel=\\\"nofollow noopener\\\" target=\\\"_blank\\\">Remote DevelopmentPreview</a></p>\\n<details>\\n<summary>\u8A2D\u5B9A\u306E\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8</summary>\\n<ul data-sourcepos=\\\"310:1-312:0\\\">\\n<li data-sourcepos=\\\"310:1-310:84\\\">\\n<code>CMD + SHIFT + P</code> \u3082\u3057\u304F\u306F <code>CMD + P</code> \u3067\u30E1\u30CB\u30E5\u30FC\u3092\u51FA\u3057\u3066 <code>&gt;</code> \u3092\u5165\u529B</li>\\n<li data-sourcepos=\\\"311:1-312:0\\\">\\n<code>SSH</code> \u3068\u6253\u3064\u3068\u51FA\u3066\u304F\u308B\u3000<code>Remote SSH: connect to host</code> \u3092\u9078\u629E</li>\\n</ul>\\n<p data-sourcepos=\\\"313:1-313:163\\\"><a href=\\\"https://camo.qiitausercontent.com/de7f095288a79d8fe8a458768209331887f8edf5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f61386433626334332d666334362d613563382d353766382d3432653863336233343464342e706e67\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa8d3bc43-fc46-a5c8-57f8-42e8c3b344d4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=aab844e2c3ee10b2dbd6e98360c2a2aa\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 14.38.16.png\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a8d3bc43-fc46-a5c8-57f8-42e8c3b344d4.png\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa8d3bc43-fc46-a5c8-57f8-42e8c3b344d4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5c54230c3c0134e581f59fc432139bfb 1x\\\" loading=\\\"lazy\\\"></a></p>\\n<p data-sourcepos=\\\"315:1-315:90\\\">ssh config\u3092\u8A2D\u5B9A\u3057\u3066\u305F\u3089\u51FA\u3066\u304F\u308B\u306E\u3067pi\u3092\u9078\u629E\u3059\u308B\u3002\u4E00\u5FDC\u518D\u63B2\u3059\u308B\u3002</p>\\n<div class=\\\"code-frame\\\" data-lang=\\\"terminal\\\" data-sourcepos=\\\"317:1-324:3\\\"><div class=\\\"highlight\\\"><pre><code><span class=\\\"gp\\\">$</span><span class=\\\"w\\\"> </span>vim ~/.ssh/config\\n<span class=\\\"go\\\">\\nHost pi\\n</span><span class=\\\"gp\\\">  HostName raspberrypi.local #</span><span class=\\\"w\\\"> </span>http://192.168.0.23/, <span class=\\\"sb\\\">`</span><span class=\\\"nv\\\">$ </span>ip addr<span class=\\\"sb\\\">`</span>\\n<span class=\\\"go\\\">  User ykhirao\\n  IdentityFile /Users/ykhirao/.ssh/id_rsa_pi\\n</span></code></pre></div></div>\\n<p data-sourcepos=\\\"326:1-326:163\\\"><a href=\\\"https://camo.qiitausercontent.com/04bf7ed5a58b5bbfe182eacf58980a996d060b03/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f61343964326331622d373364302d663464302d346562342d3332323764363365636631362e706e67\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa49d2c1b-73d0-f4d0-4eb4-3227d63ecf16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d0e17794817b66035b2b996b5f22997e\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 14.38.21.png\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a49d2c1b-73d0-f4d0-4eb4-3227d63ecf16.png\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2Fa49d2c1b-73d0-f4d0-4eb4-3227d63ecf16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8efa547db68f7b9a14c6d72a57b177b5 1x\\\" loading=\\\"lazy\\\"></a></p>\\n<p data-sourcepos=\\\"328:1-328:57\\\">VSCode\u3067Remote\u958B\u767A\u3067\u304D\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3057\u305F\u3002</p>\\n<p data-sourcepos=\\\"330:1-330:163\\\"><a href=\\\"https://camo.qiitausercontent.com/4f3843e94efa970d19270d6ddb08d4b27bbb7ac6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3131323932392f39636135353861332d656136362d613933332d623133352d3433353431653962393637392e706e67\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\"><img src=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F9ca558a3-ea66-a933-b135-43541e9b9679.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0e0e1ff8bb448de16141bc42f281f3ae\\\" alt=\\\"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 14.38.35.png\\\" data-canonical-src=\\\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/9ca558a3-ea66-a933-b135-43541e9b9679.png\\\" srcset=\\\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F112929%2F9ca558a3-ea66-a933-b135-43541e9b9679.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e7a51c347ebbfb0bb542a6e7bde6157c 1x\\\" loading=\\\"lazy\\\"></a></p>\\n</details>\\n\",\"body\":\"# GW\u306A\u306E\u3067\u30E9\u30BA\u30D1\u30A4\u8CB7\u3063\u3066\u304D\u3066Web\u30B5\u30FC\u30D0\u30FC\u3068\u3057\u3066\u516C\u958B\u3057\u305F\u4EF6\\n\\n\u30A4\u30F3\u30B9\u30C8\u30FC\u30E9\u30FC\u306E\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\u306A\u3069\u3067\u904E\u53BB\u306E\u8A18\u4E8B\u306E\u5185\u5BB9\u304C\u53E4\u304F\u306A\u3063\u3066\u3044\u305F\u306E\u3067\u4E00\u5FDC\u6700\u65B0\u3063\u307D\u3044\u3082\u306E\u3092\u4E57\u305B\u307E\u3059\u3002\\n\u5168\u4E16\u754C\u516C\u958B\u3057\u3066\u3044\u308B\u306E\u3067\u81EA\u5206\u3067\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u306E\u77E5\u8B58\u3092\u5F97\u3066\u304B\u3089\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002\u8CAC\u4EFB\u306F\u6301\u3066\u307E\u305B\u3093\u3002\\n\u3084\u3070\u305D\u3046\u306A\u3068\u3053\u308D\u3042\u3063\u305F\u3089\u7DE8\u96C6\u30EA\u30AF\u30A8\u30B9\u30C8\u304F\u3060\u3055\u308B\u3068\u30FB\u30FB\u30FB\\n\\n## \u30E9\u30BA\u30D1\u30A4\u8CFC\u5165\u3059\u308B\\n\\n* \u30E1\u30EB\u30AB\u30EA\u3067\u8CFC\u5165\u3057\u307E\u3057\u305F\\n* https://jp.mercari.com/search?keyword=\u30E9\u30BA\u30D1\u30A4\\n\\n## \u30E9\u30BA\u30D1\u30A4\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\\n\\n2023\u5E74\u306B\u306FRaspberry Pi Imager\u3068\u3044\u3046\u30A4\u30F3\u30B9\u30C8\u30FC\u30E9\u30FC\u3092\u4F7F\u3046\u3084\u308A\u65B9\u304C\u4E3B\u6D41\u307F\u305F\u3044\u3067\u3059\u3002\\n\\n* [\u516C\u5F0F](https://www.raspberrypi.com/software/)\u304B\u3089\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3057\u307E\u3057\u3087\u3046\u3002\\n* \u3053\u3053\u304C\u53C2\u8003\u306B\u306A\u308A\u307E\u3057\u305F https://nw-electric.way-nifty.com/blog/2022/05/post-2cdd01.html\\n\\n\u521D\u671F\u30E6\u30FC\u30B6\u30FC `user\uFF1Dpi\u3001password\uFF1Draspberry` \u306F2022\u5E74\u304B\u3089\u30C7\u30D5\u30A9\u30EB\u30C8\u3067\u5B58\u5728\u3057\u306A\u3044\u306E\u3067\u3001\u8A2D\u5B9A\u304B\u3089\u4F5C\u308A\u307E\u3057\u3087\u3046\u3002\u4EE5\u4E0B\u53C2\u8003\\n\\n<details>\\n<summary>\u30E9\u30BA\u30D1\u30A4\u3078\u306E\u30A2\u30AF\u30BB\u30B9\u306FSSH/CUI\u306E\u307F\u306E\u65B9\u5411\u3051</summary>\\n\\n![\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-07 23.14.09.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/2a5b68d2-95bb-730a-1108-33edd61d9990.png)\\n\\n\\n* OS\u306FPI OS Lite \uFF08\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u65E9\u3044\u3067\u3059\uFF09\\n* \u753B\u9762\u53F3\u4E0B\u306E\u8A2D\u5B9A\u30DE\u30FC\u30AF\u304B\u3089SSH\u8A2D\u5B9A\u3092\u4F5C\u308C\u307E\u3059\\n\\n\u4E00\u5FDC\u4EE5\u4E0B\u8A2D\u5B9A\u4E57\u305B\u307E\u3059\u3002mac\u5074\u304B\u3089 `ssh pi` \u3067\u30ED\u30B0\u30A4\u30F3\u3067\u304D\u308B\u3088\u3046\u306B\u3057\u3066\u307E\u3059\u3002\\n\\n```terminal\\n$ vim ~/.ssh/config\\n\\nHost pi\\n  HostName raspberrypi.local # http://192.168.0.23/, `$ ip addr`\\n  User ykhirao\\n  IdentityFile /Users/ykhirao/.ssh/id_rsa_pi\\n\\n$ ssh pi\\n$ ykhirao@raspberrypi:~ $\\n```\\n\\n</details>\\n\\n\\n## \u30B5\u30FC\u30D0\u30FC\u3092\u7528\u610F\u3059\u308B\\n\\nnginx \u3067\u3082 Apache\u3067\u3082\u9069\u5F53\u306A\u30DF\u30C9\u30EB\u30A6\u30A8\u30A2\u3068php\u3067\u3082nodejs\u3067\u3082\u4F55\u3067\u3082\u3044\u3044\u306E\u3067\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u30B5\u30FC\u30D0\u30FC\u9078\u3076\u3002\\n\u4F55\u3044\u3063\u3066\u3044\u308B\u306E\u3068\u3044\u3046\u65B9\u306F[\u9069\u5F53\u306A\u8A18\u4E8B](https://www.rworks.jp/system/system-column/sys-entry/14865/)\u3092\u8AAD\u3080\u3002\\n\\n\u4ECA\u56DE\u306F `nginx x nodejs` \u306B\u3057\u307E\u3059\u304C\u3001Apache\u306EC10K\u554F\u984C\u3068\u304B\u307E\u3067\u30A2\u30AF\u30BB\u30B9\u3055\u308C\u308B\u4E88\u5B9A\u306A\u3044\u306E\u3067\uFF08\u30E9\u30BA\u30D1\u30A4\u306E\u30E1\u30E2\u30EA\u6027\u80FD\u3068\u304B\u304C\u5148\u306B\u9650\u754C\u8FCE\u3048\u308B\u306F\u305A\u30FB\u30FB\u30FB\uFF09\u81EA\u5206\u306E\u597D\u304D\u306A\u74B0\u5883\u3068\u304B\u8EAB\u8FD1\u306A\u8A18\u4E8B\u3092\u53C2\u8003\u306B\u3059\u308B\u3068\u3088\u3044\u3068\u601D\u3044\u307E\u3059\u3002\\n\\n\\n\u4E0A\u8A18\u8A18\u4E8B\u3068\u540C\u69D8\u306B\u8A2D\u5B9A\u3059\u308B\u3068\u3001\u4EE5\u4E0B\u306E\u30B3\u30DE\u30F3\u30C9\u3092\u5165\u529B\u3057\u3066\u30B5\u30FC\u30D0\u30FC\u3092\u7ACB\u3061\u4E0A\u3052\\n\\n```terminal\\n$ node index.js\\n```\\n\\n\u540C\u3058\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u5185\u304B\u3089 `http://raspberrypi.local/`\u3000\u304B http://192.168.0.23/ (\u4EBA\u306B\u3088\u3063\u3066IP\u9055\u3046\u53EF\u80FD\u6027\u3042\u308A) \u306B\u30A2\u30AF\u30BB\u30B9\u3057\u305F\u3068\u304D `nginx` \u306E\u30DF\u30C9\u30EB\u30A6\u30A8\u30A2\u304C\u52D5\u304D `nodejs\u30B5\u30FC\u30D0\u30FC` \u306B\u30A2\u30AF\u30BB\u30B9\u3057\u307E\u3059\u3002\u3046\u307E\u304F\u8A2D\u5B9A\u3067\u304D\u3066\u305F\u3089 `Hello World` \u304C\u8868\u793A\u3055\u305B\u307E\u3057\u3087\u3046\u3002\\n\\n\\n<details>\\n<summary>\u30B3\u30DE\u30F3\u30C9\u307E\u3068\u3081\u3068\u53C2\u8003\u8A18\u4E8B</summary>\\n\\n```terminal\\n# \u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u6700\u65B0\u7248\u3078\\n$ sudo apt-get update\\n$ sudo apt-get upgrade\\n\\n# \u30DF\u30C9\u30EB\u30A6\u30A8\u30A2\\n$ sudo apt install nginx -y\\n\\n# nodejs\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\uFF08n\u304C\u4F7F\u3044\u305F\u3044\u306E\u3067\u3082\u308D\u3082\u308D\u3084\u3063\u3066\u307E\u3059\uFF09\\n$ sudo apt install nodejs npm\\n$ sudo npm install n -g\\n$ sudo n lts\\n$ sudo apt purge nodejs npm\\n\\n# \u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u30B5\u30FC\u30D0\u30FC\u306E\u4F5C\u6210\\n$ sudo mkdir -p ~/workspace/piapp\\n$ sudo vi ~/workspace/piapp/index.js\\n# \u4E0B\u8A18\u30D5\u30A1\u30A4\u30EB\u3092\u53C2\u8003\u306B\u4FEE\u6B63\u3059\u308B\\n$ sudo vi /etc/nginx/sites-enabled\\n# \u4E0B\u8A18\u30D5\u30A1\u30A4\u30EB\u3092\u53C2\u8003\u306B\u4FEE\u6B63\u3059\u308B\\n\\n# \u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u30B5\u30FC\u30D0\u30FC\u306E\u7ACB\u3061\u4E0A\u3052\\n$ sudo npm install nodemon -g\\n$ nodemon ~/workspace/piapp/index.js\\n\\n# nodejs\u30D7\u30ED\u30BB\u30B9\u304C\u6B7B\u3093\u3067\u3082\u81EA\u52D5\u3067\u518D\u8D77\u52D5\u3055\u305B\u308B\u305F\u3081 nodemon \u3092\u5229\u7528\u3057\u3066\u307E\u3059\u3002\\n# \u5FC5\u8981\u306A\u3051\u308C\u3070 node ~/workspace/piapp/index.js \u3067\u3088\u3044\u3067\u3059\u3002\\n```\\n\\n```~/workspace/piapp/index.js\\nconst http = require(\\\"http\\\"); \\nconst server = http.createServer(function (req, res) {\\n    res.statusCode = 200;\\n    res.setHeader(\\\"Content-Type\\\", \\\"text/plain\\\");\\n    res.end(\\\"Hello World\\\");\\n});\\nserver.listen(3000);\\n```\\n\\n```/etc/nginx/sites-enabled\\n\\tlocation / {\\n\\t\\ttry_files $uri $uri/ =404;\\n\\t\\tproxy_pass http://localhost:3000;\\n\\t}\\n```\\n\\n\\n\u53C2\u8003\u8A18\u4E8B\\n\\n* [Ubuntu\u30B5\u30FC\u30D0\u30FC\u306Bnginx\u3068Node.js\u3092\u5165\u308C\u3066Web\u30B5\u30FC\u30D0\u30FC\u3092\u5EFA\u3066\u308B](https://hondakenya.work/ubuntu-nginx-node-js/)\u3092\u53C2\u8003\u306B\u3057\u307E\u3057\u305F\u3002\\n* [Ubuntu \u3067 Node \u306E\u6700\u65B0\u7248/\u63A8\u5968\u7248\u3092\u4F7F\u3046 (n \u30B3\u30DE\u30F3\u30C9\u7DE8)](https://qiita.com/cointoss1973/items/c000c4f84ae4b0c166b5)\\n\\n</details>\\n\\n## \u81EA\u5B85\u306E\u30EB\u30FC\u30BF\u30FC\u306B\u30DD\u30FC\u30C8\u8EE2\u9001\u8A2D\u5B9A\u3057\u3066\u5168\u4E16\u754C\u516C\u958B\u3057\u307E\u3059\\n\\nhttp://raspberrypi.local/ \u306F\u540C\u3058\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u5185\u306EPC\u30FB\u30B9\u30DE\u30DB\u7B49\u304B\u3089\u3057\u304B\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u307E\u305B\u3093\u304C\u3001noip\u3067\u4F5C\u3063\u305F http://example.hopto.org/ \u307F\u305F\u3044\u306A\u30A2\u30C9\u30EC\u30B9\u306B\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u3068 `Hello World` \u3068\u8868\u793A\u3067\u304D\u305F\u3089OK\u3067\u3059\u3002 \u5168\u4E16\u754C\u306B\u516C\u958B\u3067\u304D\u307E\u3057\u305F\u3002\\n\\n\u53C2\u8003\u306B\u3057\u305F\u8A18\u4E8B\\n* [\u5B89\u5168\u306B\u30E9\u30BA\u30D1\u30A4Web\u30B5\u30FC\u30D0\u30FC\u3092\u4E16\u754C\u306B\u516C\u958B\u3059\u308B\u305F\u3081\u306E\u624B\u9806](https://ichiken-usa.blogspot.com/2022/01/raspi-web-server.html)\\n\\n\u30DD\u30FC\u30C8\u30D5\u30A9\u30EF\u30FC\u30C7\u30A3\u30F3\u30B0\u3092\u4F7F\u3063\u3066\u5B89\u5168\u306B\u516C\u958B\u3057\u307E\u3057\u3087\u3046\u3002\\n\\n### \u30D5\u30A1\u30A4\u30E4\u30FC\u30A6\u30A9\u30FC\u30EB\u8A2D\u5B9A\\n\\n<details>\\n<summary> Ubuntu\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u306Eufw\u3067\u8A2D\u5B9A </summary>\\n\\n\u30E9\u30BA\u30D1\u30A4\u306B\u4E0A\u3067\u4EE5\u4E0B\u30B3\u30DE\u30F3\u30C9\\n\\n```terminal\\n$ sudo apt install ufw\\n$ sudo ufw allow http\\n$ sudo ufw allow https\\n$ sudo ufw allow ssh\\n# ssh\u3067\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u306E\u3067\u5FC5\u8981\u3002\u5931\u6557\u3057\u305F\u3089ssh\u3067\u304D\u305A\u7D42\u308F\u308B\u3002\\n\\n$ sudo ufw enable\\n\\n# \u30E9\u30BA\u30D1\u30A4\u306E\u518D\u8D77\u52D5\\n$ sudo reboot\\n```\\n\\n</details>\\n\\n\\n### DDNS\u4F5C\u6210\\n\\n\u81EA\u5B85\u306EIP\u30A2\u30C9\u30EC\u30B9\u306F\u5B9A\u671F\u7684\u306B\u5909\u66F4\u3055\u308C\u307E\u3059\u3002\u4EE5\u4E0B\u306E\u3088\u3046\u306A\u30B5\u30A4\u30C8\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\\n\\n* [\u30A2\u30AF\u30BB\u30B9\u60C5\u5831\u3010\u4F7F\u7528\u4E2D\u306EIP\u30A2\u30C9\u30EC\u30B9\u78BA\u8A8D\u3011](https://www.cman.jp/network/support/go_access.cgi )\\n* [JCOM\u3067\u30B0\u30ED\u30FC\u30D0\u30EBIP\u30A2\u30C9\u30EC\u30B9\u3092\u5909\u66F4\u3057\u3088\u3046\u3068\u3057\u305F\u8A71](https://tarufu.info/jcom-global-ip/)\\n\\n\u81EA\u5B85\u306EIP\u304C\u3053\u308D\u3053\u308D\u5909\u308F\u3063\u305F\u3089\u3001\u30E9\u30BA\u30D1\u30A4\u306B\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u306A\u3044\u306E\u3067\u3082\u308D\u3082\u308D\u3044\u308D\u3044\u308D\u3084\u3063\u3066\u304F\u308C\u308B\u30B5\u30A4\u30C8\u306B\u30A2\u30AB\u30A6\u30F3\u30C8\u4F5C\u308B\u3063\u3066\u8A71\u3067\u3059\u3002\u8A73\u3057\u304F\u306F\u8ABF\u3079\u3066\u304F\u3060\u3055\u3044\u3002\\n\\n<details>\\n<summary>NOIP\u3068\u3044\u3046\u30B5\u30A4\u30C8\u3092\u4F7F\u3044\u307E\u3059</summary>\\n\\nnoip\u306E\u30D1\u30B9\u30EF\u30FC\u30C9\u306F\u5F8C\u3067JCOM\u30EB\u30FC\u30BF\u30FC\u4E0A\u306E\u8A2D\u5B9A\u3067\u5FC5\u8981\u3068\u306A\u308B\u306E\u3067\u3001\u5171\u901A\u3067\u4F7F\u3063\u3066\u3044\u308B\u3082\u306E\u4EE5\u5916\u304C\u3044\u3044\u3068\u601D\u3044\u307E\u3059\u3002chrome\u306B\u899A\u3048\u3055\u305B\u307E\u3057\u3087\u3046\u3002\\n\\n\u53C2\u8003\u8A18\u4E8B\\n* [No-ip \u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u53CA\u3073DDNS\u30B5\u30FC\u30D0\u30FC\u30A2\u30C9\u30EC\u30B9\u306E\u53D6\u5F97\u65B9\u6CD5](https://www.try-e.co.jp/manual/getnoip.pdf)\\n\\n</details>\\n\\n### \u30EB\u30FC\u30BF\u30FC\u306EDDNS\u8A2D\u5B9A\\n\\n<details>\\n<summary> \u7B46\u8005\u306FJCOM\u306A\u306E\u3067\u305D\u306E\u8A2D\u5B9A </summary>\\n\\nhttp://192.168.0.1/ \u304B http://192.168.100.1/ \u3067\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u308B\u3002\\n\\n\u521D\u671FID/PASS\u306F\u4EE5\u4E0B\u3067\u3059\u304C\u5909\u66F4\u3057\u307E\u3057\u3087\u3046\u3002\\n\\n```terminal\\nID: admin\\nPassword: password\\n```\\n\\n\u8A2D\u5B9A\u9805\u76EE\u306F\u4EE5\u4E0B\u30B9\u30AF\u30B7\u30E7\u3092\u53C2\u8003\u306B\u3001\u5148\u7A0B\u4F5C\u3063\u305Fnoip\u306E\u60C5\u5831\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002\\n\\n![\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 0.03.54.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/660c98fb-5d38-ab87-efd2-0e845d91c284.png)\\n\\n\\n\u53C2\u8003\u306B\u3057\u305F\u8A18\u4E8B\\n* [HUMAX HG100R-02JG \u306E \u30DD\u30FC\u30C8\u958B\u653E\u8A2D\u5B9A](https://homemadegarbage.com/humax-port)\\n\\n</details>\\n\\n### \u30DD\u30FC\u30C8\u30D5\u30A9\u30EF\u30FC\u30C7\u30A3\u30F3\u30B0\u8A2D\u5B9A\\n\\n\u3053\u3053\u307E\u3067\u3067\u304D\u305F\u3089\u30B0\u30ED\u30FC\u30D0\u30EB\\n\\n<details>\\n<summary> \u7B46\u8005\u306FJCOM\u306A\u306E\u3067\u305D\u306E\u8A2D\u5B9A </summary>\\n\\n![\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 0.12.38.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a043418e-2e00-5e3f-f888-83fe85bbd1a9.png)\\n\\n\\n</details>\\n\\n## https/ssl\u5316\\n\\n\u6700\u8FD1\u306Ecertbot\u306F [\u516C\u5F0F\u30B5\u30A4\u30C8](https://certbot.eff.org/instructions?ws=nginx&os=ubuntubionic) \u3067\u81EA\u5206\u306EOS\u7B49\u3092\u8A2D\u5B9A\u3057\u3066\u305D\u306E\u30B3\u30DE\u30F3\u30C9\u901A\u308A\u306B\u3084\u308B\u307F\u305F\u3044\u3067\u3059\u3002\u904E\u53BB\u8A18\u4E8B\u306F\u57FA\u672C\u771F\u4F3C\u3057\u306A\u3044\u3088\u3046\u306B\u3002\\n\\n```terminal\\n$ sudo apt -y install snapd\\n$ sudo snap install core; sudo snap refresh core\\n$ sudo apt-get remove certbot\\n$ sudo snap install --classic certbot\\n$ sudo ln -s /snap/bin/certbot /usr/bin/certbot\\n$ sudo certbot --nginx\\n```\\n\\n\u81EA\u52D5\u51E6\u7406\u306E\u305F\u3081cron\u306E\u7DE8\u96C6\u3002\u6BCE\u67081\u65E5\u3001\u671D4\u6642\u306B\u66F4\u65B0\u3002 `--force-renewal` \u3067\u6B8B\u308A30\u65E5\u3092\u5F85\u305F\u305A\u306B\u6BCE\u6708\u66F4\u65B0\u3001nginx\u306E\u518D\u8D77\u52D5\u4ED8\u304D\u3002 \u4F5C\u308A\u305F\u3066\u306A\u306E\u3067\u672C\u5F53\u306B\u52D5\u304F\u304B\u308F\u304B\u3089\u306A\u3044\u3002\\n\\n```terminal\\n$ sudo crontab -u root -e\\n00 04 01 * * sudo certbot renew --force-renewal && sudo systemctl restart nginx\\n```\\n\\n\uFF11\u6642\u9593\u306B5\u56DE\u5931\u6557\u3059\u308B\u3068\u3057\u3070\u3089\u304F\u4F7F\u3048\u306A\u3044\u306E\u3067\u30C9\u30E9\u30A4\u30E9\u30F3\u3067\u5B9F\u884C\u7D50\u679C\u3060\u3051\u898B\u308B\u3002\\n\\n```terminal\\n$ sudo certbot renew --dry-run\\n```\\n\\nnginx\u306E\u30B5\u30FC\u30D0\u30FC\u8A2D\u5B9A\u306B\u8FFD\u8A18\u3059\u308B\u3002pem\u306E\u4F4D\u7F6E\u306F `sudo certbot --nginx` \u3067\u8A2D\u5B9A\u3057\u305F\u3082\u306E\u3092\u66F8\u3044\u3066\u304F\u3060\u3055\u3044\u3002\\n\\n\\n```\\n        server {\\n          listen 443 ssl;\\n          ssl_certificate     /etc/letsencrypt/live/example.hopto.org/fullchain.pem;\\n          ssl_certificate_key /etc/letsencrypt/live/example.hopto.org/privkey.pem;\\n        }\\n```\\n\\n\\n\u30E9\u30BA\u30D1\u30A4\u4E0A\u306Ealias\u8A2D\u5B9A\\n\\n```terminal\\nykhirao@raspberrypi:~ $ cat ~/.bashrc\\nalias fix_nginx=\\\"sudo vim /etc/nginx/sites-available/default\\\"\\nalias start=\\\"sudo systemctl start nginx && nodemon ~/workspace/piapp/index.js\\\"\\nalias stop=\\\"sudo systemctl stop nginx\\\"\\n```\\n\\nhttps\u3067\u30A2\u30AF\u30BB\u30B9\u3057\u3066\u3001\u3053\u3093\u306A\u611F\u3058\u306B `\u4FDD\u8B77\u3055\u308C\u3066\u3044\u306A\u3044\u901A\u4FE1` \u3068\u3067\u306A\u304F\u306A\u3063\u305F\u3089OK\\n\\n![\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 0.59.18.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/e1d6db9f-c932-56e1-e39a-b8f9cc0f1174.png)\\n\\n\\n\\n<details>\\n<summary> \u3053\u3053\u307E\u3067\u306Enginx\u8A2D\u5B9A </summary>\\n\\n```terminal\\nykhirao@raspberrypi:~ $ cat /etc/nginx/sites-available/default\\n\\nserver {\\n\\tlisten 80 default_server;\\n\\tlisten [::]:80 default_server;\\n\\n\\tssl_certificate     /etc/letsencrypt/live/example.hopto.org/fullchain.pem;\\n\\tssl_certificate_key /etc/letsencrypt/live/example.hopto.org/privkey.pem;\\n\\tlisten 443 ssl;\\n\\n\\troot /var/www/html;\\n\\n\\tindex index.html index.htm index.nginx-debian.html index.js;\\n\\n\\tserver_name example.hopto.org;\\n\\n\\tlocation ~ /.well-known {\\n\\t\\tallow all;\\n\\t}\\n\\n\\tlocation / {\\n\\t\\t# First attempt to serve request as file, then\\n\\t\\t# as directory, then fall back to displaying a 404.\\n\\t\\ttry_files $uri $uri/ =404;\\n\\t\\tproxy_pass http://localhost:3000; # \u2605\u8FFD\u52A0\\n\\t}\\n}\\n```\\n</details>\\n\\n## forever\u4F7F\u3063\u3066nodejs\u3092\u30D0\u30C3\u30AF\u30B0\u30E9\u30A6\u30F3\u30C9\u3067\u5B9F\u884C\u3059\u308B\\n\\n```terminal\\n$ npm install -g forever\\n$ forever index.js\\n```\\n\\n## VSCode\u3067Remote\u958B\u767A\u3092\u3057\u3088\u3046\\n\\n[Remote DevelopmentPreview](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack)\\n\\n\\n<details>\\n<summary>\u8A2D\u5B9A\u306E\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8</summary>\\n\\n* `CMD + SHIFT + P` \u3082\u3057\u304F\u306F `CMD + P` \u3067\u30E1\u30CB\u30E5\u30FC\u3092\u51FA\u3057\u3066 `>` \u3092\u5165\u529B\\n* `SSH` \u3068\u6253\u3064\u3068\u51FA\u3066\u304F\u308B\u3000`Remote SSH: connect to host` \u3092\u9078\u629E\\n\\n![\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 14.38.16.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a8d3bc43-fc46-a5c8-57f8-42e8c3b344d4.png)\\n\\nssh config\u3092\u8A2D\u5B9A\u3057\u3066\u305F\u3089\u51FA\u3066\u304F\u308B\u306E\u3067pi\u3092\u9078\u629E\u3059\u308B\u3002\u4E00\u5FDC\u518D\u63B2\u3059\u308B\u3002\\n\\n```terminal\\n$ vim ~/.ssh/config\\n\\nHost pi\\n  HostName raspberrypi.local # http://192.168.0.23/, `$ ip addr`\\n  User ykhirao\\n  IdentityFile /Users/ykhirao/.ssh/id_rsa_pi\\n```\\n\\n![\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 14.38.21.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/a49d2c1b-73d0-f4d0-4eb4-3227d63ecf16.png)\\n\\nVSCode\u3067Remote\u958B\u767A\u3067\u304D\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3057\u305F\u3002\\n\\n![\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2023-05-08 14.38.35.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/9ca558a3-ea66-a933-b135-43541e9b9679.png)\\n\\n\\n</details>\\n\",\"coediting\":false,\"comments_count\":0,\"created_at\":\"2023-05-08T01:10:08+09:00\",\"group\":null,\"id\":\"f26e18364594e7077612\",\"likes_count\":0,\"private\":false,\"reactions_count\":0,\"stocks_count\":5,\"tags\":[{\"name\":\"JavaScript\",\"versions\":[]},{\"name\":\"Node.js\",\"versions\":[]},{\"name\":\"nginx\",\"versions\":[]},{\"name\":\"Security\",\"versions\":[]},{\"name\":\"\u30E9\u30BA\u30D1\u30A4\",\"versions\":[]}],\"title\":\"2023\u5E74GW\u306A\u306E\u3067\u30E9\u30BA\u30D1\u30A4\u8CB7\u3063\u3066\u304D\u3066Web\u30B5\u30FC\u30D0\u30FC\u3068\u3057\u3066\u516C\u958B\u3057\u305F\u4EF6\",\"updated_at\":\"2023-05-08T14:43:29+09:00\",\"url\":\"https://qiita.com/ykhirao/items/f26e18364594e7077612\",\"user\":{\"description\":\"Web Developer From 2016.\\r\\nPHP/Laravel && React/TypeScript/Node.js\\r\\n\\r\\n\u696D\u52D9\u59D4\u8A17\u306E\u4F9D\u983C\u3068\u304B\u306FWantedly\u3068\u304B\u304B\u3089\u3067\u304A\u9858\u3044\u3057\u307E\u3059\uFF01\",\"facebook_id\":\"\",\"followees_count\":39,\"followers_count\":100,\"github_login_name\":\"ykhirao\",\"id\":\"ykhirao\",\"items_count\":78,\"linkedin_id\":\"\",\"location\":\"Tokyo, Japan\",\"name\":\"yk\",\"organization\":\"\",\"permanent_id\":112929,\"profile_image_url\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/112929/profile-images/1639030792\",\"team_only\":false,\"twitter_screen_name\":\"ykhirao\",\"website_url\":\"https://www.wantedly.com/id/ykhirao\"},\"page_views_count\":null,\"team_membership\":null,\"organization_url_name\":null,\"slide\":false}},\"path\":\"posts/f26e18364594e7077612\",\"sharedData\":{},\"siteData\":{\"updatedAt\":\"2023/12/25\"}}");</script><script defer="" type="text/javascript" src="/templates/styles.ee1b85ad.js"></script><script defer="" type="text/javascript" src="/templates/vendors~main.991a9778.js"></script><script defer="" type="text/javascript" src="/main.e4c894d8.js"></script></body></html>